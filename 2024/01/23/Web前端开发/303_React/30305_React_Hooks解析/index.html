<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>React Hooks | èœ—ç‰›æµªè¿¹å¤©æ¶¯</title><noscript>å¼€å¯JavaScriptæ‰èƒ½è®¿é—®æœ¬ç«™å“¦~</noscript><link rel="icon" href="https://bu.dusays.com/2023/11/08/654af68b25bb8.jpg"><!-- index.css--><link rel="stylesheet" href="/css/index.css"><!-- inject head--><link rel="stylesheet" href="https://cdn3.codesign.qq.com/icons/7pOrz0WXB5ZWJPX/latest/iconfont.css"><link rel="stylesheet" href="/lib/snackbar.min.css"><!-- comment--><!-- pace èƒ¶å›ŠåŠ è½½æ¡(Capsule loading bar)--><script src="https://cdn.bootcdn.net/ajax/libs/pace/1.2.4/pace.min.js"></script><!-- search--><script src="https://cdn.bootcdn.net/ajax/libs/lunr.js/2.3.9/lunr.min.js"></script><!-- aplayer--><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/aplayer/1.10.1/APlayer.min.css"><!-- swiper--><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/Swiper/9.2.4/swiper-bundle.min.css"><!-- echarts--><script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.4.2/echarts.min.js"></script><!-- ç°è‰²çºªå¿µæ—¥(Gray Anniversary)--><!-- Open Graph--><meta name="description" content="# React Hooks ä¸ºä»€ä¹ˆéœ€è¦ Hook Hook æ˜¯ React 16.8 çš„æ–°å¢ç‰¹æ€§ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ï¼ˆæ¯”å¦‚ç”Ÿå‘½å‘¨æœŸï¼‰ã€‚ æˆ‘ä»¬å…ˆæ¥æ€è€ƒä¸€ä¸‹ class ç»„ä»¶ç›¸å¯¹äºå‡½æ•°å¼ç»„ä»¶æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿæ¯”è¾ƒå¸¸è§çš„æ˜¯ä¸‹é¢çš„ä¼˜åŠ¿ï¼š c"><!-- pwa--><script>(win => {
        win.saveToLocal = {
            set: function setWithExpiry(key, value, ttl) {
                if (ttl === 0)
                    return
                const now = new Date()
                const expiryDay = ttl * 86400000
                const item = {
                    value: value,
                    expiry: now.getTime() + expiryDay,
                }
                localStorage.setItem(key, JSON.stringify(item))
            },

            get: function getWithExpiry(key) {
                const itemStr = localStorage.getItem(key)

                if (!itemStr) {
                    return undefined
                }
                const item = JSON.parse(itemStr)
                const now = new Date()

                if (now.getTime() > item.expiry) {
                    localStorage.removeItem(key)
                    return undefined
                }
                return item.value
            }
        }

        const DarkModeStatus = localStorage.getItem('theme')
        if (DarkModeStatus !== null) {
            if (DarkModeStatus === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark')
            } else {
                document.documentElement.setAttribute('data-theme', 'light')
            }
        }

        const asideStatus = saveToLocal.get('aside-status')
        if (asideStatus !== undefined) {
            if (asideStatus === 'hide') {
                document.documentElement.classList.add('hide-aside')
            } else {
                document.documentElement.classList.remove('hide-aside')
            }
        }
    }
)(window)

console.log(
    "%cğŸ”¥ ç¨‹åºï¼šHexo | ä¸»é¢˜ï¼šHexo-Theme-Solitude | ä½œè€…ï¼šç‹å“Scoã€äº¦å° | Github: https://github.com/DuoSco/Hexo-theme-solitude | ç‰ˆæœ¬ï¼šv1.3.0 ğŸ˜„",
    "color: #fff; background: linear-gradient(-25deg, #a8edea, #fed6e3); padding: 8px 15px; border-radius: 8px; text-shadow: 2px 2px 4px white; color: black;"
);
</script><div><script src="/js/utils.js"></script><script src="/js/main.js"></script></div><!-- custom inject--><script>console.log("head")</script><!-- global head--><script>const GLOBAL_CONFIG = {
    root: '/',
    algolia: undefined,
    localsearch: {"preload":true,"path":"/search.xml"},
    runtime: '2024-01-01 00:00:00',
    lazyload: {
        enable: true,
        error: '/img/error_load.png'
    },
    hightlight: {
        enable: true,
        limit: 200,
        expand: false,
        copy: true,
    },
    lightbox: true,
    randomlinks: false,
    lang: {
        theme: {
            dark: 'å·²åˆ‡æ¢è‡³æ·±è‰²æ¨¡å¼',
            light: 'å·²åˆ‡æ¢è‡³æµ…è‰²æ¨¡å¼',
        },
        copy: {
            success: 'å¤åˆ¶æˆåŠŸ',
            error: 'å¤åˆ¶å¤±è´¥',
        },
        backtop: 'è¿”å›é¡¶éƒ¨',
        time: {
            recent: 'æœ€è¿‘',
            yesterday: 'æ˜¨å¤©',
            berforeyesterday: 'å‰å¤©',
            daybefore: 'å¤©å‰',
            runtime: 'å¤©',
        },
        sayhello: {
            morning: `ä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨`,
            noon: `åƒé¥±äº†æ‰æœ‰åŠ›æ°”å¹²æ´»`,
            afternoon: `é›†ä¸­ç²¾åŠ›ï¼Œæ”»å…‹éš¾å…³`,
            night: `ä¸è¦å¤ªåŠ³ç´¯äº†ï¼Œæ—©ç¡æ›´å¥åº·`,
            goodnight: `ç¡ä¸ªå¥½è§‰ï¼Œä¿è¯ç²¾åŠ›å……æ²›`,
        },
        search: {
            empty: 'æ‰¾ä¸åˆ°ä½ æŸ¥è¯¢çš„å†…å®¹ï¼š${query}',
            hit: 'æ‰¾åˆ° ${hits} æ¡ç»“æœï¼Œç”¨æ—¶ ${time} æ¯«ç§’',
            placeholder: 'è¾“å…¥å…³é”®è¯å¿«é€ŸæŸ¥æ‰¾',
        }
    },
    covercolor: {
        enable: true
    },
    comment: {
        enable: false,
        type: 'twikoo',
        commentBarrage: false,
        randomInfoStart: ["èªæ•çš„","å¯çˆ±çš„","ç¾ä¸½çš„"],
        randomInfoEnd: ["ç™½èœ","å°å¯çˆ±","å°ä»™å¥³"],
        twikoo: {
            url: '',
            accessToken: ''
        },
        waline: {
            url: '',
        }
    },
    rightside: {
        enable: false
    },
    ai:{
        enable: false,
        key: '',
        talk: 'æˆ‘æ˜¯ç‹å“Scoå¼€å‘çš„æ‘˜è¦ç”ŸæˆåŠ©ç†ScoGPTï¼ŒScoGPTåœ¨é™æ€éƒ¨ç½²æ—¶è¿›è¡Œæ‘˜è¦çš„æ’°å†™ï¼Œå¹¶ä¸”åœ¨è®¿å®¢è®¿é—®æ—¶é€šè¿‡ScoCorrectionè½¬è¯‘åçš„æ–‡æœ¬æ‘˜è¦å®ç°å·¥å…·ã€‚æˆ‘åœ¨è¿™é‡Œåªè´Ÿè´£å·²ç»ç”Ÿæˆçš„æ‘˜è¦æ˜¾ç¤ºï¼Œä½ æ— æ³•ä¸æˆ‘ç›´æ¥æ²Ÿé€šï¼Œä½†æˆ‘å¯ä»¥å›ç­”ä¸€äº›é¢„è®¾çš„é—®é¢˜ã€‚',
        randomPost: false,
    },
    music:{
        enable: true,
    }
}</script><meta name="generator" content="Hexo 6.3.0"></head><body id="body"><!-- loading--><div id="loading-box" onclick="preloader.endLoading();" style="zoom:1"><div class="loading-bg"><img class="loading-img" src= "/img/loading.gif" data-lazy-src="https://bu.dusays.com/2023/11/08/654af68b25bb8.jpg" alt="loading image"></div></div><script>const preloader = {
    endLoading: () => {
        document.getElementById('loading-box').classList.add('loaded');
    },
    initLoading: () => {
        document.getElementById('loading-box').classList.remove('loaded');
    },
    removePaceDone: () => {
        document.getElementById('body').classList = 'pace-done';
    }
}
window.addEventListener('load', () => {
    preloader.endLoading();
});
window.addEventListener('pjax:send', () => {
    preloader.initLoading();
});
document.addEventListener('pjax:complete', () => {
    preloader.endLoading();
});</script><!-- console--><div id="console"><div class="close-btn" onclick="sco.hideConsole()"><i class="scoicon sco-close-fill"></i></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments" onclick="sco.hideConsole()"><div class="card-content"><div class="author-content-item-tips">äº’åŠ¨</div><div class="author-content-item-title">æœ€æ–°è¯„è®º</div></div><div class="aside-list"></div></div></div><div class="console-card-group-right"><div class="console-card tags" onclick="sco.hideConsole()"><div class="card-content"><div class="author-content-item-tips">æ ‡ç­¾</div><div class="author-content-item-title">å¯»æ‰¾æ„Ÿå…´è¶£çš„é¢†åŸŸ</div></div><div class="card-tag-cloud"></div></div><div class="console-card history" onclick="sco.hideConsole()"><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2024/')" href="javascript:void(0);"><span class="card-archive-list-date">2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">55</span><span class="card-archive-list-count-unit">ç¯‡</span></div></a></li></ul></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" onclick="sco.switchDarkMode()" title="æ˜¼å¤œåˆ‡æ¢" href="javascript:void(0);"><i class="scoicon sco-moon-clear-fill"></i></a></div><div class="console-btn-item" id="consoleHideAside"><a class="asideSwitch" onclick="sco.switchHideAside()" title="è¾¹æ æ˜¾ç¤ºæ§åˆ¶" href="javascript:void(0);"><i class="scoicon sco-side-bar-fill"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="sco.musicToggle()"><a class="music-switch" title="éŸ³ä¹å¼€å…³" href="javascript:void(0);"><i class="scoicon sco-disc-fill"></i></a></div></div><div class="console-mask" onclick="sco.hideConsole()"></div></div><!-- sidebar--><div id="sidebar" style="zoom: 1;"><div id="menu-mask" style="display: none;"></div><div id="sidebar-menus"><span class="sidebar-menu-item-title">åŠŸèƒ½</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" onclick="sco.switchDarkMode()" href="javascript:void(0);"><i class="scoicon sco-moon-clear-fill"></i><span>æ˜¾ç¤ºæ¨¡å¼</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">é¡¹ç›®</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/DuoSco/Hexo-Theme-solitude" title="Solitude"><img class="back-menu-item-icon" src="https://bu.dusays.com/2023/11/08/654af68b25bb8.jpg" alt="é¡¹ç›®"><span class="back-menu-item-text">Solitude</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>æ–‡åº“</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="scoicon sco-folder-fill"></i><span>æ–‡ç« åˆ—è¡¨</span></a></li><li><a class="site-page child" href="/categories/"><i class="scoicon sco-checkbox-multiple-blank-fill"></i><span>å…¨éƒ¨åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="scoicon sco-price-tag-fill"></i><span>å…¨éƒ¨æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>å‹é“¾</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/moments/"><i class="scoicon sco-wifi-fill"></i><span>é±¼å¡˜</span></a></li><li><a class="site-page child" href="/links/"><i class="scoicon sco-group-fill"></i><span>å‹æƒ…é“¾æ¥</span></a></li><li><a class="site-page child" href="javascript:travelling()"><i class="scoicon sco-gift-fill"></i><span>å®è—åšä¸»</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>æˆ‘çš„</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/equipment/"><i class="scoicon sco-laptop-line"></i><span>è£…å¤‡</span></a></li><li><a class="site-page child" href="/tlink/"><i class="scoicon sco-tools-fill"></i><span>å·¥å…·ç®±</span></a></li><li><a class="site-page child" href="/music/"><i class="scoicon sco-laptop-line"></i><span>éŸ³ä¹é¦†</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>å…³äº</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="scoicon sco-contacts-fill"></i><span>å…³äºæœ¬ç«™</span></a></li></ul></div></div><span class="sidebar-menu-item-title">æ ‡ç­¾</span><div class="card-widget card-tags card-archives card-webinfo card-allinfo"><div class="card-tag-cloud"></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav class="show" id="nav"><div id="nav-group"><div id="blog_name"><div class="back-home-button" tabindex="-1"><i class="back-home-button-icon scoicon sco-more-fill"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">é¡¹ç›®</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/DuoSco/Hexo-Theme-solitude" title="Solitude"><img class="back-menu-item-icon" src="https://bu.dusays.com/2023/11/08/654af68b25bb8.jpg" alt="é¡¹ç›®"><span class="back-menu-item-text">Solitude</span></a></div></div></div></div><a id="site-name" href="/" title="è¿”å›åšå®¢ä¸»é¡µ" target="_self"><span class="scoicon">é¦–é¡µ</span></a></div><div id="page-name-mask"><div id="page-name"><a id="page-name-text" onclick="sco.toTop()">React Hooks</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>æ–‡åº“</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="scoicon sco-folder-fill"></i><span>æ–‡ç« åˆ—è¡¨</span></a></li><li><a class="site-page child" href="/categories/"><i class="scoicon sco-checkbox-multiple-blank-fill"></i><span>å…¨éƒ¨åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="scoicon sco-price-tag-fill"></i><span>å…¨éƒ¨æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>å‹é“¾</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/moments/"><i class="scoicon sco-wifi-fill"></i><span>é±¼å¡˜</span></a></li><li><a class="site-page child" href="/links/"><i class="scoicon sco-group-fill"></i><span>å‹æƒ…é“¾æ¥</span></a></li><li><a class="site-page child" href="javascript:travelling()"><i class="scoicon sco-gift-fill"></i><span>å®è—åšä¸»</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>æˆ‘çš„</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/equipment/"><i class="scoicon sco-laptop-line"></i><span>è£…å¤‡</span></a></li><li><a class="site-page child" href="/tlink/"><i class="scoicon sco-tools-fill"></i><span>å·¥å…·ç®±</span></a></li><li><a class="site-page child" href="/music/"><i class="scoicon sco-laptop-line"></i><span>éŸ³ä¹é¦†</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>å…³äº</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="scoicon sco-contacts-fill"></i><span>å…³äºæœ¬ç«™</span></a></li></ul></div></div></div><div id="nav-left"></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button"><a class="site-page" href="https://www.travellings.cn/go.html" title="å¼€å¾€-å‹é“¾æ¥åŠ›" target="_blank"><i class="scoicon sco-train-line"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="éšæœºä¸€ç¯‡æ–‡ç« " href="javascript:void(0);"><i class="scoicon sco-signal-tower-fill"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="æœç´¢"><i class="scoicon sco-search-line"></i></a></div><div class="nav-button" id="nav-console"><a class="console_switchbutton" onclick="sco.showConsole()" title="ä¸­æ§å°" href="javascript:void(0);"><i class="scoicon sco-dashboard-fill"></i></a></div><div class="nav-button" id="nav-totop" onclick="sco.toTop()"><a class="totopbtn"><i class="scoicon sco-arrow-up-line"></i><span id="percent">0</span></a></div><div id="toggle-menu"><a class="site-page"><i class="scoicon sco-menu-line"></i></a></div></div></div></nav><div class="coverdiv" id="coverdiv"><img class="nolazyload" id="post-cover" src="https://img2.baidu.com/it/u=2126133000,279682015&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=800&amp;h=500" alt="React Hooks"></div><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original" title="è¯¥æ–‡ç« ä¸ºåŸåˆ›æ–‡ç« ï¼Œæ³¨æ„ç‰ˆæƒåè®®">åŸåˆ›</a><span class="post-meta-categories"><a class="post-meta-categories" href="/categories/Webå‰ç«¯å¼€å‘/">Webå‰ç«¯å¼€å‘</a></span><div class="tag_share"><div class="post-meta__tag-list"></div></div></div></div><h1 class="post-title">React Hooks</h1><div id="post-meta"><div class="meta-secondline"><span class="post-meta-date" title="meta_posted 2024-01-23 15:00:00"><i class="post-meta-icon scoicon sco-calendar-todo-fill"></i><time datetime="2024-01-23T07:00:00.000Z">2024-01-23T07:00:00.000Z</time></span><span class="post-meta-date" title="meta_updated 2024-01-28 13:54:01"><i class="post-meta-icon scoicon sco-refresh-line"></i><time datetime="2024-01-28T05:54:01.584Z">2024-01-28T05:54:01.584Z</time></span><span class="post-meta-wordcount"><i class="post-meta-icon scoicon sco-word-fill" title="æ–‡ç« å­—æ•°"></i><span class="word-count">9.3k</span><span class="post-meta-separator"></span><i class="post-meta-icon scoicon sco-clock-fill" title="é˜…è¯»è€—æ—¶"></i><span>42 min</span></span><span class="post-meta-position" title="ä½œè€…IPå½’å±åœ°ä¸ºè¡¡é˜³"><i class="post-meta-icon scoicon sco-map-pin-fill"></i><span>è¡¡é˜³</span></span><a class="post-meta-pv" href="/2024/01/23/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/303_React/30305_React_Hooks%E8%A7%A3%E6%9E%90/" title="æ–‡ç« çƒ­åº¦"><i class="post-meta-icon scoicon sco-fire-fill"></i><span id="busuanzi_value_page_pv"><i class="scoicon sco-loading-line"></i></span></a></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><meta name="referrer" content="no-referrer" />
# React Hooks

<h2 id="ä¸ºä»€ä¹ˆéœ€è¦-Hook"><a href="#ä¸ºä»€ä¹ˆéœ€è¦-Hook" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦ Hook"></a>ä¸ºä»€ä¹ˆéœ€è¦ Hook</h2><ul>
<li>Hook æ˜¯ React 16.8 çš„æ–°å¢ç‰¹æ€§ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ï¼ˆæ¯”å¦‚ç”Ÿå‘½å‘¨æœŸï¼‰ã€‚</li>
<li>æˆ‘ä»¬å…ˆæ¥æ€è€ƒä¸€ä¸‹ class ç»„ä»¶ç›¸å¯¹äºå‡½æ•°å¼ç»„ä»¶æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿæ¯”è¾ƒå¸¸è§çš„æ˜¯ä¸‹é¢çš„ä¼˜åŠ¿ï¼š</li>
<li>class ç»„ä»¶å¯ä»¥å®šä¹‰è‡ªå·±çš„ stateï¼Œç”¨æ¥ä¿å­˜ç»„ä»¶è‡ªå·±å†…éƒ¨çš„çŠ¶æ€ï¼›<ul>
<li>å‡½æ•°å¼ç»„ä»¶ä¸å¯ä»¥ï¼Œå› ä¸ºå‡½æ•°æ¯æ¬¡è°ƒç”¨éƒ½ä¼šäº§ç”Ÿæ–°çš„ä¸´æ—¶å˜é‡ï¼›</li>
</ul>
</li>
<li>class ç»„ä»¶æœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸä¸­å®Œæˆè‡ªå·±çš„é€»è¾‘ï¼›<ul>
<li>æ¯”å¦‚åœ¨ componentDidMount ä¸­å‘é€ç½‘ç»œè¯·æ±‚ï¼Œå¹¶ä¸”è¯¥ç”Ÿå‘½å‘¨æœŸå‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼›</li>
<li>å‡½æ•°å¼ç»„ä»¶åœ¨å­¦ä¹  hooks ä¹‹å‰ï¼Œå¦‚æœåœ¨å‡½æ•°ä¸­å‘é€ç½‘ç»œè¯·æ±‚ï¼Œæ„å‘³ç€æ¯æ¬¡é‡æ–°æ¸²æŸ“éƒ½ä¼šé‡æ–°å‘é€ä¸€æ¬¡ç½‘ç»œè¯·æ±‚ï¼›</li>
</ul>
</li>
<li>class ç»„ä»¶å¯ä»¥åœ¨çŠ¶æ€æ”¹å˜æ—¶åªä¼šé‡æ–°æ‰§è¡Œ render å‡½æ•°ä»¥åŠæˆ‘ä»¬å¸Œæœ›é‡æ–°è°ƒç”¨çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•° componentDidUpdate ç­‰ï¼›<ul>
<li>å‡½æ•°å¼ç»„ä»¶åœ¨é‡æ–°æ¸²æŸ“æ—¶ï¼Œæ•´ä¸ªå‡½æ•°éƒ½ä¼šè¢«æ‰§è¡Œï¼Œä¼¼ä¹æ²¡æœ‰ä»€ä¹ˆåœ°æ–¹å¯ä»¥åªè®©å®ƒä»¬è°ƒç”¨ä¸€æ¬¡ï¼›</li>
</ul>
</li>
<li>æ‰€ä»¥ï¼Œåœ¨ Hook å‡ºç°ä¹‹å‰ï¼Œå¯¹äºä¸Šé¢è¿™äº›æƒ…å†µæˆ‘ä»¬é€šå¸¸éƒ½ä¼šç¼–å†™ class ç»„ä»¶ã€‚</li>
</ul>
<h2 id="Class-ç»„ä»¶å­˜åœ¨çš„é—®é¢˜"><a href="#Class-ç»„ä»¶å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="Class ç»„ä»¶å­˜åœ¨çš„é—®é¢˜"></a>Class ç»„ä»¶å­˜åœ¨çš„é—®é¢˜</h2><ul>
<li>å¤æ‚ç»„ä»¶å˜å¾—éš¾ä»¥ç†è§£ï¼š<ul>
<li>æˆ‘ä»¬åœ¨æœ€åˆç¼–å†™ä¸€ä¸ª class ç»„ä»¶æ—¶ï¼Œå¾€å¾€é€»è¾‘æ¯”è¾ƒç®€å•ï¼Œå¹¶ä¸ä¼šéå¸¸å¤æ‚ã€‚ä½†æ˜¯éšç€ä¸šåŠ¡çš„å¢å¤šï¼Œæˆ‘ä»¬çš„ class ç»„ä»¶ä¼šå˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼›</li>
<li>æ¯”å¦‚ componentDidMount ä¸­ï¼Œå¯èƒ½å°±ä¼šåŒ…å«å¤§é‡çš„é€»è¾‘ä»£ç ï¼šåŒ…æ‹¬ç½‘ç»œè¯·æ±‚ã€ä¸€äº›äº‹ä»¶çš„ç›‘å¬ï¼ˆè¿˜éœ€è¦åœ¨ componentWillUnmount ä¸­ç§»é™¤ï¼‰ï¼›</li>
<li>è€Œå¯¹äºè¿™æ ·çš„ class å®é™…ä¸Šéå¸¸éš¾ä»¥æ‹†åˆ†ï¼šå› ä¸ºå®ƒä»¬çš„é€»è¾‘å¾€å¾€æ··åœ¨ä¸€èµ·ï¼Œå¼ºè¡Œæ‹†åˆ†åè€Œä¼šé€ æˆè¿‡åº¦è®¾è®¡ï¼Œå¢åŠ ä»£ç çš„å¤æ‚åº¦ï¼›</li>
</ul>
</li>
<li>éš¾ä»¥ç†è§£çš„ classï¼š<ul>
<li>å¾ˆå¤šäººå‘ç°å­¦ä¹  ES6 çš„ class æ˜¯å­¦ä¹  React çš„ä¸€ä¸ªéšœç¢ã€‚</li>
<li>æ¯”å¦‚åœ¨ class ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»ææ¸…æ¥š this çš„æŒ‡å‘åˆ°åº•æ˜¯è°ï¼Œæ‰€ä»¥éœ€è¦èŠ±å¾ˆå¤šçš„ç²¾åŠ›å»å­¦ä¹  thisï¼›</li>
<li>è™½ç„¶æˆ‘è®¤ä¸ºå‰ç«¯å¼€å‘äººå‘˜å¿…é¡»æŒæ¡ thisï¼Œä½†æ˜¯ä¾ç„¶å¤„ç†èµ·æ¥éå¸¸éº»çƒ¦ï¼›</li>
</ul>
</li>
<li>ç»„ä»¶å¤ç”¨çŠ¶æ€å¾ˆéš¾ï¼š<ul>
<li>åœ¨å‰é¢ä¸ºäº†ä¸€äº›çŠ¶æ€çš„å¤ç”¨æˆ‘ä»¬éœ€è¦é€šè¿‡é«˜é˜¶ç»„ä»¶ï¼›</li>
<li>åƒæˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„ redux ä¸­ connect æˆ–è€… react-router ä¸­çš„ withRouterï¼Œè¿™äº›é«˜é˜¶ç»„ä»¶è®¾è®¡çš„ç›®çš„å°±æ˜¯ä¸ºäº†çŠ¶æ€çš„å¤ç”¨ï¼›</li>
<li>æˆ–è€…ç±»ä¼¼äº Providerã€Consumer æ¥å…±äº«ä¸€äº›çŠ¶æ€ï¼Œä½†æ˜¯å¤šæ¬¡ä½¿ç”¨ Consumer æ—¶ï¼Œæˆ‘ä»¬çš„ä»£ç å°±ä¼šå­˜åœ¨å¾ˆå¤šåµŒå¥—ï¼›</li>
<li>è¿™äº›ä»£ç è®©æˆ‘ä»¬ä¸ç®¡æ˜¯ç¼–å†™å’Œè®¾è®¡ä¸Šæ¥è¯´ï¼Œéƒ½å˜å¾—éå¸¸å›°éš¾ï¼›</li>
</ul>
</li>
</ul>
<h2 id="Hook-çš„å‡ºç°"><a href="#Hook-çš„å‡ºç°" class="headerlink" title="Hook çš„å‡ºç°"></a>Hook çš„å‡ºç°</h2><ul>
<li>Hook çš„å‡ºç°ï¼Œå¯ä»¥è§£å†³ä¸Šé¢æåˆ°çš„è¿™äº›é—®é¢˜ï¼›</li>
<li>ç®€å•æ€»ç»“ä¸€ä¸‹ hooksï¼š<ul>
<li>å®ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ï¼›</li>
<li>ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç”±æ­¤å»¶ä¼¸å‡ºéå¸¸å¤šçš„ç”¨æ³•ï¼Œæ¥è®©æˆ‘ä»¬å‰é¢æ‰€æåˆ°çš„é—®é¢˜å¾—åˆ°è§£å†³ï¼›</li>
</ul>
</li>
<li>Hook çš„ä½¿ç”¨åœºæ™¯ï¼š<ul>
<li>Hook çš„å‡ºç°åŸºæœ¬å¯ä»¥ä»£æ›¿æˆ‘ä»¬ä¹‹å‰æ‰€æœ‰ä½¿ç”¨ class ç»„ä»¶çš„åœ°æ–¹ï¼›</li>
<li>ä½†æ˜¯å¦‚æœæ˜¯ä¸€ä¸ªæ—§çš„é¡¹ç›®ï¼Œä½ å¹¶ä¸éœ€è¦ç›´æ¥å°†æ‰€æœ‰çš„ä»£ç é‡æ„ä¸º Hooksï¼Œå› ä¸ºå®ƒå®Œå…¨å‘ä¸‹å…¼å®¹ï¼Œä½ å¯ä»¥æ¸è¿›å¼çš„æ¥ä½¿ç”¨å®ƒï¼›</li>
<li>Hook åªèƒ½åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨ï¼Œä¸èƒ½åœ¨ç±»ç»„ä»¶ï¼Œæˆ–è€…å‡½æ•°ç»„ä»¶ä¹‹å¤–çš„åœ°æ–¹ä½¿ç”¨ï¼›</li>
</ul>
</li>
<li>åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ï¼Œè¯·è®°ä½ Hook æ˜¯ï¼š<ul>
<li>å®Œå…¨å¯é€‰çš„ï¼šä½ æ— éœ€é‡å†™ä»»ä½•å·²æœ‰ä»£ç å°±å¯ä»¥åœ¨ä¸€äº›ç»„ä»¶ä¸­å°è¯• Hookã€‚ä½†æ˜¯å¦‚æœä½ ä¸æƒ³ï¼Œä½ ä¸å¿…ç°åœ¨å°±å»å­¦ä¹ æˆ–ä½¿ç”¨ Hookã€‚</li>
<li>100% å‘åå…¼å®¹çš„ï¼šHook ä¸åŒ…å«ä»»ä½•ç ´åæ€§æ”¹åŠ¨ã€‚</li>
<li>ç°åœ¨å¯ç”¨ï¼šHook å·²å‘å¸ƒäº v16.8.0ã€‚</li>
</ul>
</li>
</ul>
<h2 id="ç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶"><a href="#ç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶" class="headerlink" title="ç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶"></a>ç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶</h2><h3 id="ç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶å¯¹æ¯”"><a href="#ç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶å¯¹æ¯”" class="headerlink" title="ç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶å¯¹æ¯”"></a>ç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶å¯¹æ¯”</h3><ul>
<li>ä½ ä¼šå‘ç°ä¸Šé¢çš„ä»£ç å·®å¼‚éå¸¸å¤§ï¼š<ul>
<li>å‡½æ•°å¼ç»„ä»¶ç»“åˆ hooks è®©æ•´ä¸ªä»£ç å˜å¾—éå¸¸ç®€æ´</li>
<li>å¹¶ä¸”å†ä¹Ÿä¸ç”¨è€ƒè™‘ this ç›¸å…³çš„é—®é¢˜ï¼›</li>
</ul>
</li>
</ul>
<h3 id="è®¡æ•°å™¨æ¡ˆä¾‹å¯¹æ¯”"><a href="#è®¡æ•°å™¨æ¡ˆä¾‹å¯¹æ¯”" class="headerlink" title="è®¡æ•°å™¨æ¡ˆä¾‹å¯¹æ¯”"></a>è®¡æ•°å™¨æ¡ˆä¾‹å¯¹æ¯”</h3><p><strong>App.jsx</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">CounterClass</span> <span class="keyword">from</span> <span class="string">&#x27;./CounterClass&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">CounterHook</span> <span class="keyword">from</span> <span class="string">&#x27;./CounterHook&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>App<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">CounterClass</span>&gt;</span><span class="tag">&lt;/<span class="name">CounterClass</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">CounterHook</span>&gt;</span><span class="tag">&lt;/<span class="name">CounterHook</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h4 id="ç±»ç»„ä»¶å®ç°"><a href="#ç±»ç»„ä»¶å®ç°" class="headerlink" title="ç±»ç»„ä»¶å®ç°"></a>ç±»ç»„ä»¶å®ç°</h4><p><strong>CounterClass.jsx</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">PureComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">CounterClass</span> <span class="keyword">extends</span> <span class="title class_ inherited__">PureComponent</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(props)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">      <span class="attr">counter</span>: <span class="number">0</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">counter</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">counter</span> + <span class="number">1</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">decrement</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">counter</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">counter</span> - <span class="number">1</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; counter &#125; = <span class="variable language_">this</span>.<span class="property">state</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å½“å‰è®¡æ•°: &#123;counter&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> this.increment()&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> this.decrement()&#125;&gt;-1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">CounterClass</span></span><br></pre></td></tr></table></figure>

<h4 id="hooks-å®ç°"><a href="#hooks-å®ç°" class="headerlink" title="hooks å®ç°"></a>hooks å®ç°</h4><p><strong>CounterHook.jsx</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; memo, useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ™®é€šçš„å‡½æ•°, é‡Œé¢ä¸èƒ½ä½¿ç”¨hooks</span></span><br><span class="line"><span class="comment">// åœ¨è‡ªå®šä¹‰çš„hooksä¸­, å¯ä»¥ä½¿ç”¨reactæä¾›çš„å…¶ä»–hooks: å¿…é¡»ä½¿ç”¨useå¼€å¤´</span></span><br><span class="line"><span class="comment">// function useFoo() &#123;</span></span><br><span class="line"><span class="comment">//   const [ message ] = useState(&quot;Hello World&quot;)</span></span><br><span class="line"><span class="comment">//   return message</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">CounterHook</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [counter, setCounter] = <span class="title function_">useState</span>(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> [name] = <span class="title function_">useState</span>(<span class="string">&#x27;why&#x27;</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// const message = useFoo()</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å½“å‰è®¡æ•°: &#123;counter&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> setCounter(counter + 1)&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> setCounter(counter - 1)&#125;&gt;-1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">memo</span>(<span class="title class_">CounterHook</span>)</span><br></pre></td></tr></table></figure>

<h2 id="useState"><a href="#useState" class="headerlink" title="useState"></a>useState</h2><h3 id="useState-è§£æ"><a href="#useState-è§£æ" class="headerlink" title="useState è§£æ"></a>useState è§£æ</h3><ul>
<li><p>é‚£ä¹ˆæˆ‘ä»¬æ¥ç ”ç©¶ä¸€ä¸‹æ ¸å¿ƒçš„ä¸€æ®µä»£ç ä»£è¡¨ä»€ä¹ˆæ„æ€ï¼š</p>
<ul>
<li>useState æ¥è‡ª reactï¼Œéœ€è¦ä» react ä¸­å¯¼å…¥ï¼Œå®ƒæ˜¯ä¸€ä¸ª hookï¼›<ul>
<li>å‚æ•°ï¼šåˆå§‹åŒ–å€¼ï¼Œå¦‚æœä¸è®¾ç½®ä¸º undefinedï¼›</li>
<li>è¿”å›å€¼ï¼šæ•°ç»„ï¼ŒåŒ…å«ä¸¤ä¸ªå…ƒç´ ï¼›<ul>
<li>å…ƒç´ ä¸€ï¼šå½“å‰çŠ¶æ€çš„å€¼ï¼ˆç¬¬ä¸€è°ƒç”¨ä¸ºåˆå§‹åŒ–å€¼ï¼‰ï¼›</li>
<li>å…ƒç´ äºŒï¼šè®¾ç½®çŠ¶æ€å€¼çš„å‡½æ•°ï¼›</li>
</ul>
</li>
</ul>
</li>
<li>ç‚¹å‡» button æŒ‰é’®åï¼Œä¼šå®Œæˆä¸¤ä»¶äº‹æƒ…ï¼š<ul>
<li>è°ƒç”¨ setCountï¼Œè®¾ç½®ä¸€ä¸ªæ–°çš„å€¼ï¼›</li>
<li>ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå¹¶ä¸”æ ¹æ®æ–°çš„å€¼è¿”å› DOM ç»“æ„ï¼›</li>
</ul>
</li>
</ul>
</li>
<li><p>ç›¸ä¿¡é€šè¿‡ä¸Šé¢çš„ä¸€ä¸ªç®€å•æ¡ˆä¾‹ï¼Œä½ å·²ç»ä¼šå–œæ¬¢ä¸Š Hook çš„ä½¿ç”¨äº†ã€‚</p>
<ul>
<li>Hook å°±æ˜¯ JavaScript å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥å¸®åŠ©ä½  é’©å…¥ï¼ˆhook intoï¼‰ React State ä»¥åŠç”Ÿå‘½å‘¨æœŸç­‰ç‰¹æ€§ï¼›</li>
</ul>
</li>
<li><p>ä½†æ˜¯ä½¿ç”¨å®ƒä»¬ä¼šæœ‰ä¸¤ä¸ªé¢å¤–çš„è§„åˆ™ï¼š</p>
<ul>
<li>åªèƒ½åœ¨å‡½æ•°æœ€å¤–å±‚è°ƒç”¨ Hookã€‚ä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­æˆ–è€…å­å‡½æ•°ä¸­è°ƒç”¨ã€‚</li>
<li>åªèƒ½åœ¨ React çš„å‡½æ•°ç»„ä»¶ä¸­è°ƒç”¨ Hookã€‚ä¸è¦åœ¨å…¶ä»– JavaScript å‡½æ•°ä¸­è°ƒç”¨ã€‚</li>
</ul>
</li>
<li><p><strong>Hook æŒ‡çš„ç±»ä¼¼äº useStateã€ useEffect è¿™æ ·çš„å‡½æ•°, Hooks æ˜¯å¯¹è¿™ç±»å‡½æ•°çš„ç»Ÿç§°ï¼›</strong></p>
</li>
</ul>
<h3 id="è®¤è¯†-useState"><a href="#è®¤è¯†-useState" class="headerlink" title="è®¤è¯† useState"></a>è®¤è¯† useState</h3><ul>
<li>State Hook çš„ API å°±æ˜¯ useStateï¼Œæˆ‘ä»¬åœ¨å‰é¢å·²ç»è¿›è¡Œäº†å­¦ä¹ ï¼š<ul>
<li>useState ä¼šå¸®åŠ©æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª state å˜é‡ï¼ŒuseState æ˜¯ä¸€ç§æ–°æ–¹æ³•ï¼Œå®ƒä¸ class é‡Œé¢çš„ this.state æä¾›çš„åŠŸèƒ½å®Œå…¨ç›¸åŒã€‚<ul>
<li>ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨å‡½æ•°é€€å‡ºåå˜é‡å°±ä¼šâ€æ¶ˆå¤±â€ï¼Œè€Œ state ä¸­çš„å˜é‡ä¼šè¢« React ä¿ç•™ã€‚</li>
</ul>
</li>
<li>useState æ¥å—å”¯ä¸€ä¸€ä¸ªå‚æ•°ï¼Œåœ¨ç¬¬ä¸€æ¬¡ç»„ä»¶è¢«è°ƒç”¨æ—¶ä½¿ç”¨æ¥ä½œä¸ºåˆå§‹åŒ–å€¼ã€‚ï¼ˆå¦‚æœæ²¡æœ‰ä¼ é€’å‚æ•°ï¼Œé‚£ä¹ˆåˆå§‹åŒ–å€¼ä¸º undefined ï¼‰ã€‚</li>
<li>useState çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ•°ç»„çš„è§£æ„ï¼Œæ¥å®Œæˆèµ‹å€¼ä¼šéå¸¸æ–¹ä¾¿ã€‚<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment</a></li>
</ul>
</li>
</ul>
</li>
<li>FAQï¼šä¸ºä»€ä¹ˆå« useState è€Œä¸å« createState?<ul>
<li>â€œcreateâ€ å¯èƒ½ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œå› ä¸º state åªåœ¨ç»„ä»¶é¦–æ¬¡æ¸²æŸ“çš„æ—¶å€™è¢«åˆ›å»ºã€‚</li>
<li>åœ¨ä¸‹ä¸€æ¬¡é‡æ–°æ¸²æŸ“æ—¶ï¼ŒuseState è¿”å›ç»™æˆ‘ä»¬å½“å‰çš„ stateã€‚</li>
<li>å¦‚æœæ¯æ¬¡éƒ½åˆ›å»ºæ–°çš„å˜é‡ï¼Œå®ƒå°±ä¸æ˜¯ â€œstateâ€ äº†ã€‚</li>
<li>è¿™ä¹Ÿæ˜¯ Hook çš„åå­—æ€»æ˜¯ä»¥ use å¼€å¤´çš„ä¸€ä¸ªåŸå› ã€‚</li>
</ul>
</li>
<li>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªç»„ä»¶ä¸­å®šä¹‰å¤šä¸ªå˜é‡å’Œå¤æ‚å˜é‡ï¼ˆæ•°ç»„ã€å¯¹è±¡ï¼‰</li>
</ul>
<p><strong>App.jsx</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [message, setMessage] = <span class="title function_">useState</span>(<span class="string">&#x27;Hello world!!&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç‚¹å‡»äº‹ä»¶å›è°ƒ</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">changeMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">setMessage</span>(<span class="string">&#x27;ä½ å¥½å•Š,å¸ˆå§~&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>App:&#123;message&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;changeMessage&#125;</span>&gt;</span>ä¿®æ”¹æ–‡æœ¬<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h2 id="Effect-Hook"><a href="#Effect-Hook" class="headerlink" title="Effect Hook"></a>Effect Hook</h2><h3 id="è®¤è¯†-Effect-Hook"><a href="#è®¤è¯†-Effect-Hook" class="headerlink" title="è®¤è¯† Effect Hook"></a>è®¤è¯† Effect Hook</h3><ul>
<li>ç›®å‰æˆ‘ä»¬å·²ç»é€šè¿‡ hook åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­å®šä¹‰ stateï¼Œé‚£ä¹ˆç±»ä¼¼äºç”Ÿå‘½å‘¨æœŸè¿™äº›å‘¢ï¼Ÿ<ul>
<li>Effect Hook å¯ä»¥è®©ä½ æ¥å®Œæˆä¸€äº›ç±»ä¼¼äº class ä¸­ç”Ÿå‘½å‘¨æœŸçš„åŠŸèƒ½ï¼›</li>
<li>äº‹å®ä¸Šï¼Œç±»ä¼¼äºç½‘ç»œè¯·æ±‚ã€æ‰‹åŠ¨æ›´æ–° DOMã€ä¸€äº›äº‹ä»¶çš„ç›‘å¬ï¼Œéƒ½æ˜¯ React æ›´æ–° DOM çš„ä¸€äº›å‰¯ä½œç”¨ï¼ˆSide Effectsï¼‰ï¼›</li>
<li>æ‰€ä»¥å¯¹äºå®Œæˆè¿™äº›åŠŸèƒ½çš„ Hook è¢«ç§°ä¹‹ä¸º Effect Hookï¼›</li>
</ul>
</li>
</ul>
<h3 id="ä¿®æ”¹æ ‡é¢˜æ¡ˆä¾‹"><a href="#ä¿®æ”¹æ ‡é¢˜æ¡ˆä¾‹" class="headerlink" title="ä¿®æ”¹æ ‡é¢˜æ¡ˆä¾‹"></a>ä¿®æ”¹æ ‡é¢˜æ¡ˆä¾‹</h3><ul>
<li>å‡å¦‚æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªéœ€æ±‚ï¼šé¡µé¢çš„ title æ€»æ˜¯æ˜¾ç¤º counter çš„æ•°å­—ï¼Œåˆ†åˆ«ä½¿ç”¨ class ç»„ä»¶å’Œ Hook å®ç°ï¼š</li>
</ul>
<p><strong>ç±»ç»„ä»¶å®ç°</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">PureComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">PureComponent</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(props)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">      <span class="attr">counter</span>: <span class="number">108</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">title</span> = <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">counter</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">componentDidUpdate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">title</span> = <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">counter</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; counter &#125; = <span class="variable language_">this</span>.<span class="property">state</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;counter&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> this.setState(&#123; counter: counter + 1 &#125;)&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<p><strong>useEffect å®ç°</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">200</span>)</span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å½“å‰ä¼ å…¥çš„å›è°ƒå‡½æ•°ä¼šåœ¨ç»„ä»¶è¢«æ¸²æŸ“å®Œæˆå,è‡ªåŠ¨æ‰§è¡Œ</span></span><br><span class="line">    <span class="comment">// ç½‘ç»œè¯·æ±‚ / DOMæ“ä½œ / äº‹ä»¶ç›‘å¬ç­‰ç­‰...</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">title</span> = count</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;count&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> setCount(count + 1)&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h3 id="useEffect-çš„è§£æ"><a href="#useEffect-çš„è§£æ" class="headerlink" title="useEffect çš„è§£æ"></a>useEffect çš„è§£æ</h3><ul>
<li>é€šè¿‡ useEffect çš„ Hookï¼Œå¯ä»¥å‘Šè¯‰ React éœ€è¦åœ¨æ¸²æŸ“åæ‰§è¡ŒæŸäº›æ“ä½œï¼›</li>
<li>useEffect è¦æ±‚æˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨ React æ‰§è¡Œå®Œæ›´æ–° DOM æ“ä½œä¹‹åï¼Œå°±ä¼šå›è°ƒè¿™ä¸ªå‡½æ•°ï¼›</li>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ— è®ºæ˜¯ç¬¬ä¸€æ¬¡æ¸²æŸ“ä¹‹åï¼Œè¿˜æ˜¯æ¯æ¬¡æ›´æ–°ä¹‹åï¼Œéƒ½ä¼šæ‰§è¡Œè¿™ä¸ªå›è°ƒå‡½æ•°ï¼›</li>
</ul>
<h3 id="éœ€è¦æ¸…é™¤-Effect"><a href="#éœ€è¦æ¸…é™¤-Effect" class="headerlink" title="éœ€è¦æ¸…é™¤ Effect"></a>éœ€è¦æ¸…é™¤ Effect</h3><ul>
<li>åœ¨ class ç»„ä»¶çš„ç¼–å†™è¿‡ç¨‹ä¸­ï¼ŒæŸäº›å‰¯ä½œç”¨çš„ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ componentWillUnmount ä¸­è¿›è¡Œæ¸…é™¤ï¼š<ul>
<li>æ¯”å¦‚æˆ‘ä»¬ä¹‹å‰çš„äº‹ä»¶æ€»çº¿æˆ– Redux ä¸­æ‰‹åŠ¨è°ƒç”¨ subscribeï¼›</li>
<li>éƒ½éœ€è¦åœ¨ componentWillUnmount æœ‰å¯¹åº”çš„å–æ¶ˆè®¢é˜…ï¼›</li>
<li>Effect Hook é€šè¿‡ä»€ä¹ˆæ–¹å¼æ¥æ¨¡æ‹Ÿ componentWillUnmount å‘¢ï¼Ÿ</li>
</ul>
</li>
<li>useEffect ä¼ å…¥çš„å›è°ƒå‡½æ•° A æœ¬èº«å¯ä»¥æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œè¿™ä¸ªè¿”å›å€¼æ˜¯å¦å¤–ä¸€ä¸ªå›è°ƒå‡½æ•° Bï¼š</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type <span class="title class_">EffectCallback</span> = <span class="function">() =&gt;</span> <span class="keyword">void</span> | (<span class="function">() =&gt;</span> <span class="keyword">void</span> | <span class="literal">undefined</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸ºä»€ä¹ˆè¦åœ¨ effect ä¸­è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Ÿ<ul>
<li>è¿™æ˜¯ effect å¯é€‰çš„æ¸…é™¤æœºåˆ¶ã€‚æ¯ä¸ª effect éƒ½å¯ä»¥è¿”å›ä¸€ä¸ªæ¸…é™¤å‡½æ•°ï¼›</li>
<li>å¦‚æ­¤å¯ä»¥å°†æ·»åŠ å’Œç§»é™¤è®¢é˜…çš„é€»è¾‘æ”¾åœ¨ä¸€èµ·ï¼›</li>
<li>å®ƒä»¬éƒ½å±äº effect çš„ä¸€éƒ¨åˆ†ï¼›</li>
</ul>
</li>
<li>React ä½•æ—¶æ¸…é™¤ effectï¼Ÿ<ul>
<li>React ä¼šåœ¨ç»„ä»¶æ›´æ–°å’Œå¸è½½çš„æ—¶å€™æ‰§è¡Œæ¸…é™¤æ“ä½œï¼›</li>
<li>æ­£å¦‚ä¹‹å‰å­¦åˆ°çš„ï¼Œeffect åœ¨æ¯æ¬¡æ¸²æŸ“çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œï¼›</li>
</ul>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è´Ÿè´£å‘ŠçŸ¥ react, åœ¨æ‰§è¡Œå®Œå½“å‰ä½å®¶æ¸²æŸ“ä¹‹åè¦æ‰§è¡Œçš„å‰¯ä½œç”¨ä»£ç </span></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// åœ¨æ­¤ è®¢é˜…æ¶ˆæ¯ / äº‹ä»¶ç›‘å¬ç­‰æ“ä½œ...</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ç›‘å¬äº† redux ä¸­çš„æ•°æ®å˜åŒ–,ç›‘å¬äº†äº‹ä»¶æ€»çº¿çš„ why äº‹ä»¶&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›å€¼:æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°,ç»„ä»¶è¢«é‡æ–°æ¸²æŸ“æˆ–è€…ç»„ä»¶å¸è½½çš„æ—¶å€™æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// åœ¨æ­¤ å–æ¶ˆè®¢é˜…æ¶ˆæ¯ / å–æ¶ˆäº‹ä»¶ç›‘å¬ç­‰æ“ä½œ...</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å–æ¶ˆäº† redux ä¸­çš„æ•°æ®å˜åŒ–,å–æ¶ˆäº†äº‹ä»¶æ€»çº¿çš„ why äº‹ä»¶ç›‘å¬&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;count&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> setCount(count + 1)&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨å¤šä¸ª-Effect"><a href="#ä½¿ç”¨å¤šä¸ª-Effect" class="headerlink" title="ä½¿ç”¨å¤šä¸ª Effect"></a>ä½¿ç”¨å¤šä¸ª Effect</h3><ul>
<li>ä½¿ç”¨ Hook çš„å…¶ä¸­ä¸€ä¸ªç›®çš„å°±æ˜¯è§£å†³ class ä¸­ç”Ÿå‘½å‘¨æœŸç»å¸¸å°†å¾ˆå¤šçš„é€»è¾‘æ”¾åœ¨ä¸€èµ·çš„é—®é¢˜ï¼š<ul>
<li>æ¯”å¦‚ç½‘ç»œè¯·æ±‚ã€äº‹ä»¶ç›‘å¬ã€æ‰‹åŠ¨ä¿®æ”¹ DOMï¼Œè¿™äº›å¾€å¾€éƒ½ä¼šæ”¾åœ¨ componentDidMount ä¸­ï¼›</li>
</ul>
</li>
<li>ä½¿ç”¨ Effect Hookï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬åˆ†ç¦»åˆ°ä¸åŒçš„ useEffect ä¸­ï¼š<ul>
<li>ä»£ç ä¸å†ç»™å‡º</li>
</ul>
</li>
<li>Hook å…è®¸æˆ‘ä»¬æŒ‰ç…§ä»£ç çš„ç”¨é€”åˆ†ç¦»å®ƒä»¬ï¼Œ è€Œä¸æ˜¯åƒç”Ÿå‘½å‘¨æœŸå‡½æ•°é‚£æ ·ï¼š</li>
<li>React å°†æŒ‰ç…§ effect å£°æ˜çš„é¡ºåºä¾æ¬¡è°ƒç”¨ç»„ä»¶ä¸­çš„æ¯ä¸€ä¸ª Effect</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è´Ÿè´£å‘ŠçŸ¥ react, åœ¨æ‰§è¡Œå®Œå½“å‰ä½å®¶æ¸²æŸ“ä¹‹åè¦æ‰§è¡Œçš„å‰¯ä½œç”¨ä»£ç </span></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 1. ä¿®æ”¹ documentçš„title</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ä¿®æ”¹ documentçš„title&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 2. å¯¹ redux ä¸­æ•°æ®å˜åŒ–ç›‘å¬</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å¯¹ redux ä¸­æ•°æ®å˜åŒ–ç›‘å¬&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// å–æ¶ˆå¯¹ redux ä¸­æ•°æ®å˜åŒ–ç›‘å¬...</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 3. ç›‘å¬äº‹ä»¶æ€»çº¿ä¸­çš„ why äº‹ä»¶</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ç›‘å¬äº‹ä»¶æ€»çº¿ä¸­çš„ why äº‹ä»¶&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// å–æ¶ˆäº‹ä»¶æ€»çº¿ä¸­çš„ why äº‹ä»¶çš„ç›‘å¬...</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;count&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> setCount(count + 1)&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h3 id="Effect-æ€§èƒ½ä¼˜åŒ–"><a href="#Effect-æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="Effect æ€§èƒ½ä¼˜åŒ–"></a>Effect æ€§èƒ½ä¼˜åŒ–</h3><ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒuseEffect çš„å›è°ƒå‡½æ•°ä¼šåœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½é‡æ–°æ‰§è¡Œï¼Œä½†æ˜¯è¿™ä¼šå¯¼è‡´ä¸¤ä¸ªé—®é¢˜ï¼š<ul>
<li>æŸäº›ä»£ç æˆ‘ä»¬åªæ˜¯å¸Œæœ›æ‰§è¡Œä¸€æ¬¡å³å¯ï¼Œç±»ä¼¼äº componentDidMount å’Œ componentWillUnmount ä¸­å®Œæˆçš„äº‹æƒ…ï¼›ï¼ˆæ¯”å¦‚ç½‘ç»œè¯·æ±‚ã€è®¢é˜…å’Œå–æ¶ˆè®¢é˜…ï¼‰ï¼›</li>
<li>å¦å¤–ï¼Œå¤šæ¬¡æ‰§è¡Œä¹Ÿä¼šå¯¼è‡´ä¸€å®šçš„æ€§èƒ½é—®é¢˜ï¼›</li>
</ul>
</li>
<li>æˆ‘ä»¬å¦‚ä½•å†³å®š useEffect åœ¨ä»€ä¹ˆæ—¶å€™åº”è¯¥æ‰§è¡Œå’Œä»€ä¹ˆæ—¶å€™ä¸åº”è¯¥æ‰§è¡Œå‘¢ï¼Ÿ<ul>
<li>useEffect å®é™…ä¸Šæœ‰ä¸¤ä¸ªå‚æ•°ï¼š<ul>
<li>å‚æ•°ä¸€ï¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•°ï¼›</li>
<li>å‚æ•°äºŒï¼šè¯¥ useEffect åœ¨å“ªäº› state å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰é‡æ–°æ‰§è¡Œï¼›ï¼ˆå—è°çš„å½±å“ï¼‰</li>
</ul>
</li>
</ul>
</li>
<li>æ¡ˆä¾‹ç»ƒä¹ ï¼š<ul>
<li>å— count å½±å“çš„ Effectï¼›</li>
</ul>
</li>
<li>ä½†æ˜¯ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°æˆ‘ä»¬ä¸å¸Œæœ›ä¾èµ–ä»»ä½•çš„å†…å®¹æ—¶ï¼Œä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªç©ºçš„æ•°ç»„ <code>[ ]</code><ul>
<li>é‚£ä¹ˆè¿™é‡Œçš„ä¸¤ä¸ªå›è°ƒå‡½æ•°åˆ†åˆ«å¯¹åº”çš„å°±æ˜¯ componentDidMount å’Œ componentWillUnmount ç”Ÿå‘½å‘¨æœŸå‡½æ•°äº†ï¼›</li>
</ul>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ä¿®æ”¹ documentçš„title&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å¯¹ redux ä¸­æ•°æ®å˜åŒ–ç›‘å¬&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;&#125;</span><br><span class="line">  &#125;, [])</span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ç›‘å¬äº‹ä»¶æ€»çº¿ä¸­çš„ why äº‹ä»¶&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;&#125;</span><br><span class="line">  &#125;, [])</span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å‘èµ·ç½‘ç»œè¯·æ±‚è·å–æ•°æ®&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ­¤æ—¶,è¯¥è¿”å›å€¼çš„å›è°ƒå‡½æ•°,ä¼šåœ¨ç»„ä»¶è¢«å¸è½½æ—¶,æ‰ä¼šæ‰§è¡Œä¸€æ¬¡&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;count&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> setCount(count + 1)&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h2 id="useContext-çš„ä½¿ç”¨"><a href="#useContext-çš„ä½¿ç”¨" class="headerlink" title="useContext çš„ä½¿ç”¨"></a>useContext çš„ä½¿ç”¨</h2><ul>
<li>åœ¨ä¹‹å‰çš„å¼€å‘ä¸­ï¼Œæˆ‘ä»¬è¦åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å…±äº«çš„ Context æœ‰ä¸¤ç§æ–¹å¼ï¼š<ul>
<li>ç±»ç»„ä»¶å¯ä»¥é€šè¿‡ ç±»å.contextType &#x3D; MyContext æ–¹å¼ï¼Œåœ¨ç±»ä¸­è·å– contextï¼›</li>
<li>å¤šä¸ª Context æˆ–è€…åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­é€šè¿‡ MyContext.Consumer æ–¹å¼å…±äº« contextï¼›</li>
</ul>
</li>
<li>ä½†æ˜¯å¤šä¸ª Context å…±äº«æ—¶çš„æ–¹å¼ä¼šå­˜åœ¨å¤§é‡çš„åµŒå¥—ï¼š<ul>
<li>Context Hook å…è®¸æˆ‘ä»¬é€šè¿‡ Hook ç›´æ¥è·å–æŸä¸ª Context çš„å€¼ï¼›</li>
</ul>
</li>
</ul>
<p><strong>.&#x2F;src&#x2F;context&#x2F;index.js</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»º context å®ä¾‹</span></span><br><span class="line"><span class="keyword">import</span> &#123; createContext &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">UserContext</span> = <span class="title function_">createContext</span>()</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ThemeContext</span> = <span class="title function_">createContext</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; <span class="title class_">UserContext</span>, <span class="title class_">ThemeContext</span> &#125;</span><br></pre></td></tr></table></figure>

<p><strong>index.js</strong> , æä¾›æ•°æ®</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">UserContext</span>, <span class="title class_">ThemeContext</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./context/index&#x27;</span></span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>))</span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">UserContext.Provider</span> <span class="attr">value</span>=<span class="string">&#123;&#123;</span> <span class="attr">name:</span> &#x27;<span class="attr">why</span>&#x27;, <span class="attr">level:</span> <span class="attr">99</span> &#125;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">ThemeContext.Provider</span> <span class="attr">value</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> &#x27;<span class="attr">red</span>&#x27;, <span class="attr">size:</span> <span class="attr">30</span> &#125;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ThemeContext.Provider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">UserContext.Provider</span>&gt;</span></span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><strong>.&#x2F;src&#x2F;App.jsx</strong> , ä½¿ç”¨æä¾›çš„æ•°æ®</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo, useContext &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">UserContext</span>, <span class="title class_">ThemeContext</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./context/index&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨ context</span></span><br><span class="line">  <span class="keyword">const</span> user = <span class="title function_">useContext</span>(<span class="title class_">UserContext</span>)</span><br><span class="line">  <span class="keyword">const</span> theme = <span class="title function_">useContext</span>(<span class="title class_">ThemeContext</span>)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        user:&#123;user.name&#125;-&#123;user.level&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> <span class="attr">theme.color</span>, <span class="attr">fontSize:</span> <span class="attr">theme.size</span> &#125;&#125;&gt;</span>Theme<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„äº‹é¡¹ï¼š<ul>
<li>å½“ç»„ä»¶ä¸Šå±‚æœ€è¿‘çš„ <code>&lt;MyContext.Provider&gt;</code> æ›´æ–°æ—¶ï¼Œè¯¥ Hook ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ï¼Œå¹¶ä½¿ç”¨æœ€æ–°ä¼ é€’ç»™ MyContext provider çš„ context value å€¼ã€‚</li>
</ul>
</li>
</ul>
<h2 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer"></a>useReducer</h2><ul>
<li><p><strong>ä»…ä½œä¸ºäº†è§£,å¼€å‘ä½¿ç”¨å¾ˆå°‘</strong></p>
</li>
<li><p>å¾ˆå¤šäººçœ‹åˆ° useReducer çš„ç¬¬ä¸€ååº”åº”è¯¥æ˜¯ redux çš„æŸä¸ªæ›¿ä»£å“ï¼Œå…¶å®å¹¶ä¸æ˜¯ã€‚</p>
</li>
<li><p>useReducer ä»…ä»…æ˜¯ useState çš„ä¸€ç§æ›¿ä»£æ–¹æ¡ˆï¼š</p>
<ul>
<li>åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œå¦‚æœ state çš„å¤„ç†é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ useReducer æ¥å¯¹å…¶è¿›è¡Œæ‹†åˆ†ï¼›</li>
<li>æˆ–è€…è¿™æ¬¡ä¿®æ”¹çš„ state éœ€è¦ä¾èµ–ä¹‹å‰çš„ state æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ï¼›</li>
</ul>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo, useReducer &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reducer</span>(<span class="params">state, action</span>) &#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.<span class="property">type</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;increment&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123; ...state, <span class="attr">counter</span>: state.<span class="property">counter</span> + <span class="number">1</span> &#125;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;decrement&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123; ...state, <span class="attr">counter</span>: state.<span class="property">counter</span> - <span class="number">1</span> &#125;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;add_number&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123; ...state, <span class="attr">counter</span>: state.<span class="property">counter</span> + action.<span class="property">num</span> &#125;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;sub_number&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123; ...state, <span class="attr">counter</span>: state.<span class="property">counter</span> - action.<span class="property">num</span> &#125;</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [state, dispatch] = <span class="title function_">useReducer</span>(reducer, &#123; <span class="attr">counter</span>: <span class="number">0</span>, <span class="attr">friends</span>: [], <span class="attr">user</span>: &#123;&#125; &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å½“å‰è®¡æ•°: &#123;state.counter&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> dispatch(&#123; type: &#x27;increment&#x27; &#125;)&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> dispatch(&#123; type: &#x27;decrement&#x27; &#125;)&#125;&gt;-1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> dispatch(&#123; type: &#x27;add_number&#x27;, num: 5 &#125;)&#125;&gt;+5<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> dispatch(&#123; type: &#x27;sub_number&#x27;, num: 5 &#125;)&#125;&gt;-5<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> dispatch(&#123; type: &#x27;add_number&#x27;, num: 100 &#125;)&#125;&gt;+100<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ•°æ®æ˜¯ä¸ä¼šå…±äº«çš„ï¼Œå®ƒä»¬åªæ˜¯ä½¿ç”¨äº†ç›¸åŒçš„ counterReducer çš„å‡½æ•°è€Œå·²ã€‚</li>
<li>æ‰€ä»¥ï¼ŒuseReducer åªæ˜¯ useState çš„ä¸€ç§æ›¿ä»£å“ï¼Œå¹¶ä¸èƒ½æ›¿ä»£ Reduxã€‚</li>
</ul>
<h2 id="useCallback"><a href="#useCallback" class="headerlink" title="useCallback"></a>useCallback</h2><ul>
<li><p>useCallback å®é™…çš„ç›®çš„æ˜¯ä¸ºäº†è¿›è¡Œæ€§èƒ½çš„ä¼˜åŒ–ã€‚</p>
</li>
<li><p>å¦‚ä½•è¿›è¡Œæ€§èƒ½çš„ä¼˜åŒ–å‘¢ï¼Ÿ</p>
<ul>
<li>useCallback ä¼šè¿”å›ä¸€ä¸ªå‡½æ•°çš„ memoizedï¼ˆè®°å¿†çš„ï¼‰ å€¼ï¼›</li>
<li>åœ¨ä¾èµ–ä¸å˜çš„æƒ…å†µä¸‹ï¼Œå¤šæ¬¡å®šä¹‰çš„æ—¶å€™ï¼Œè¿”å›çš„å€¼æ˜¯ç›¸åŒçš„ï¼›</li>
</ul>
</li>
<li><p>æ¡ˆä¾‹</p>
<ul>
<li>æ¡ˆä¾‹ä¸€ï¼šä½¿ç”¨ useCallback å’Œä¸ä½¿ç”¨ useCallback å®šä¹‰ä¸€ä¸ªå‡½æ•°æ˜¯å¦ä¼šå¸¦æ¥æ€§èƒ½çš„ä¼˜åŒ–ï¼›</li>
<li>æ¡ˆä¾‹äºŒï¼šä½¿ç”¨ useCallback å’Œä¸ä½¿ç”¨ useCallback å®šä¹‰ä¸€ä¸ªå‡½æ•°ä¼ é€’ç»™å­ç»„ä»¶æ˜¯å¦ä¼šå¸¦æ¥æ€§èƒ½çš„ä¼˜åŒ–ï¼›</li>
</ul>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo, useState, useCallback, useRef &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// useCallbackæ€§èƒ½ä¼˜åŒ–çš„ç‚¹:</span></span><br><span class="line"><span class="comment">// 1.å½“éœ€è¦å°†ä¸€ä¸ªå‡½æ•°ä¼ é€’ç»™å­ç»„ä»¶æ—¶, æœ€å¥½ä½¿ç”¨useCallbackè¿›è¡Œä¼˜åŒ–, å°†ä¼˜åŒ–ä¹‹åçš„å‡½æ•°, ä¼ é€’ç»™å­ç»„ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// propsä¸­çš„å±æ€§å‘ç”Ÿæ”¹å˜æ—¶, ç»„ä»¶æœ¬èº«å°±ä¼šè¢«é‡æ–°æ¸²æŸ“</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HYHome</span> = <span class="title function_">memo</span>(<span class="keyword">function</span> (<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; increment &#125; = props</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;HYHomeè¢«æ¸²æŸ“&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;increment&#125;</span>&gt;</span>increment+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      &#123;/* 100ä¸ªå­ç»„ä»¶ */&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> [message, setMessage] = <span class="title function_">useState</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é—­åŒ…é™·é˜±: useCallback</span></span><br><span class="line">  <span class="comment">// const increment = useCallback(function foo() &#123;</span></span><br><span class="line">  <span class="comment">//   console.log(&quot;increment&quot;)</span></span><br><span class="line">  <span class="comment">//   setCount(count+1)</span></span><br><span class="line">  <span class="comment">// &#125;, [count])</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¿›ä¸€æ­¥çš„ä¼˜åŒ–: å½“countå‘ç”Ÿæ”¹å˜æ—¶, ä¹Ÿä½¿ç”¨åŒä¸€ä¸ªå‡½æ•°(äº†è§£)</span></span><br><span class="line">  <span class="comment">// åšæ³•ä¸€: å°†countä¾èµ–ç§»é™¤æ‰, ç¼ºç‚¹: é—­åŒ…é™·é˜±</span></span><br><span class="line">  <span class="comment">// åšæ³•äºŒ: useRef, åœ¨ç»„ä»¶å¤šæ¬¡æ¸²æŸ“æ—¶, è¿”å›çš„æ˜¯åŒä¸€ä¸ªå€¼</span></span><br><span class="line">  <span class="keyword">const</span> countRef = <span class="title function_">useRef</span>()</span><br><span class="line">  countRef.<span class="property">current</span> = count</span><br><span class="line">  <span class="keyword">const</span> increment = <span class="title function_">useCallback</span>(<span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;increment&#x27;</span>)</span><br><span class="line">    <span class="title function_">setCount</span>(countRef.<span class="property">current</span> + <span class="number">1</span>)</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ™®é€šçš„å‡½æ•°</span></span><br><span class="line">  <span class="comment">// const increment = () =&gt; &#123;</span></span><br><span class="line">  <span class="comment">//   setCount(count+1)</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è®¡æ•°: &#123;count&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;increment&#125;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">HYHome</span> <span class="attr">increment</span>=<span class="string">&#123;increment&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>message:&#123;message&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> setMessage(Math.random())&#125;&gt;ä¿®æ”¹message<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<ul>
<li>é€šå¸¸ä½¿ç”¨ useCallback çš„ç›®çš„æ˜¯ä¸å¸Œæœ›å­ç»„ä»¶è¿›è¡Œå¤šæ¬¡æ¸²æŸ“ï¼Œå¹¶ä¸æ˜¯ä¸ºäº†å‡½æ•°è¿›è¡Œç¼“å­˜ï¼›</li>
</ul>
<h2 id="useMemo"><a href="#useMemo" class="headerlink" title="useMemo"></a>useMemo</h2><ul>
<li><p>useMemo å®é™…çš„ç›®çš„ä¹Ÿæ˜¯ä¸ºäº†è¿›è¡Œæ€§èƒ½çš„ä¼˜åŒ–ã€‚</p>
</li>
<li><p>å¦‚ä½•è¿›è¡Œæ€§èƒ½çš„ä¼˜åŒ–å‘¢ï¼Ÿ</p>
<ul>
<li>useMemo è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ª memoizedï¼ˆè®°å¿†çš„ï¼‰ å€¼ï¼›</li>
<li>åœ¨ä¾èµ–ä¸å˜çš„æƒ…å†µä¸‹ï¼Œå¤šæ¬¡å®šä¹‰çš„æ—¶å€™ï¼Œè¿”å›çš„å€¼æ˜¯ç›¸åŒçš„ï¼›</li>
</ul>
</li>
<li><p>æ¡ˆä¾‹ï¼š</p>
<ul>
<li>æ¡ˆä¾‹ä¸€ï¼šè¿›è¡Œå¤§é‡çš„è®¡ç®—æ“ä½œï¼Œæ˜¯å¦æœ‰å¿…é¡»è¦æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½é‡æ–°è®¡ç®—ï¼›</li>
<li>æ¡ˆä¾‹äºŒï¼šå¯¹å­ç»„ä»¶ä¼ é€’ç›¸åŒå†…å®¹çš„å¯¹è±¡æ—¶ï¼Œä½¿ç”¨ useMemo è¿›è¡Œæ€§èƒ½çš„ä¼˜åŒ–</li>
</ul>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo, useCallback &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useMemo, useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HelloWorld</span> = <span class="title function_">memo</span>(<span class="keyword">function</span> (<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;HelloWorldè¢«æ¸²æŸ“~&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">calcNumTotal</span>(<span class="params">num</span>) &#123;</span><br><span class="line">  <span class="comment">// console.log(&quot;calcNumTotalçš„è®¡ç®—è¿‡ç¨‹è¢«è°ƒç”¨~&quot;)</span></span><br><span class="line">  <span class="keyword">let</span> total = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= num; i++) &#123;</span><br><span class="line">    total += i</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> total</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// const result = calcNumTotal(50)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 1.ä¸ä¾èµ–ä»»ä½•çš„å€¼, è¿›è¡Œè®¡ç®—</span></span><br><span class="line">  <span class="keyword">const</span> result = <span class="title function_">useMemo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">calcNumTotal</span>(<span class="number">50</span>)</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.ä¾èµ–count</span></span><br><span class="line">  <span class="comment">// const result = useMemo(() =&gt; &#123;</span></span><br><span class="line">  <span class="comment">//   return calcNumTotal(count*2)</span></span><br><span class="line">  <span class="comment">// &#125;, [count])</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3.useMemoå’ŒuseCallbackçš„å¯¹æ¯”</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">  <span class="comment">// const increment = useCallback(fn, [])</span></span><br><span class="line">  <span class="comment">// const increment2 = useMemo(() =&gt; fn, [])</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 4.ä½¿ç”¨useMemoå¯¹å­ç»„ä»¶æ¸²æŸ“è¿›è¡Œä¼˜åŒ–</span></span><br><span class="line">  <span class="comment">// const info = &#123; name: &quot;why&quot;, age: 18 &#125;</span></span><br><span class="line">  <span class="keyword">const</span> info = <span class="title function_">useMemo</span>(<span class="function">() =&gt;</span> (&#123; <span class="attr">name</span>: <span class="string">&#x27;why&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;), [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è®¡ç®—ç»“æœ: &#123;result&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è®¡æ•°å™¨: &#123;count&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> setCount(count + 1)&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">HelloWorld</span> <span class="attr">result</span>=<span class="string">&#123;result&#125;</span> <span class="attr">info</span>=<span class="string">&#123;info&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h2 id="useRef"><a href="#useRef" class="headerlink" title="useRef"></a>useRef</h2><ul>
<li><p>useRef è¿”å›ä¸€ä¸ª ref å¯¹è±¡ï¼Œè¿”å›çš„ ref å¯¹è±¡å†ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¿æŒä¸å˜ã€‚</p>
</li>
<li><p>æœ€å¸¸ç”¨çš„ ref æ˜¯ä¸¤ç§ç”¨æ³•ï¼š</p>
<ul>
<li>ç”¨æ³•ä¸€ï¼šå¼•å…¥ DOMï¼ˆæˆ–è€…ç»„ä»¶ï¼Œä½†æ˜¯éœ€è¦æ˜¯ class ç»„ä»¶ï¼‰å…ƒç´ ï¼›</li>
<li>ç”¨æ³•äºŒï¼šä¿å­˜ä¸€ä¸ªæ•°æ®ï¼Œè¿™ä¸ªå¯¹è±¡åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­å¯ä»¥ä¿å­˜ä¸å˜ï¼›</li>
</ul>
</li>
<li><p>æ¡ˆä¾‹ï¼š</p>
<ul>
<li>æ¡ˆä¾‹ä¸€ï¼šå¼•ç”¨ DOM</li>
<li>æ¡ˆä¾‹äºŒï¼šä½¿ç”¨ ref ä¿å­˜ä¸Šä¸€æ¬¡çš„æŸä¸€ä¸ªå€¼</li>
</ul>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo, useRef &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> titleRef = <span class="title function_">useRef</span>()</span><br><span class="line">  <span class="keyword">const</span> inputRef = <span class="title function_">useRef</span>()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">showTitleDom</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(titleRef.<span class="property">current</span>)</span><br><span class="line">    inputRef.<span class="property">current</span>.<span class="title function_">focus</span>()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span> <span class="attr">ref</span>=<span class="string">&#123;titleRef&#125;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">ref</span>=<span class="string">&#123;inputRef&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;showTitleDom&#125;</span>&gt;</span>æŸ¥çœ‹titleçš„dom<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo, useRef &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useCallback &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> nameRef = <span class="title function_">useRef</span>()</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(obj === nameRef)</span><br><span class="line">  obj = nameRef</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é€šè¿‡useRefè§£å†³é—­åŒ…é™·é˜±</span></span><br><span class="line">  <span class="keyword">const</span> countRef = <span class="title function_">useRef</span>()</span><br><span class="line">  countRef.<span class="property">current</span> = count</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> increment = <span class="title function_">useCallback</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">setCount</span>(countRef.<span class="property">current</span> + <span class="number">1</span>)</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Hello World: &#123;count&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> setCount(count + 1)&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;increment&#125;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h2 id="useImperativeHandle"><a href="#useImperativeHandle" class="headerlink" title="useImperativeHandle"></a>useImperativeHandle</h2><ul>
<li>useImperativeHandle å¹¶ä¸æ˜¯ç‰¹åˆ«å¥½ç†è§£ï¼Œæˆ‘ä»¬ä¸€ç‚¹ç‚¹æ¥å­¦ä¹ ã€‚</li>
<li>æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹ ref å’Œ forwardRef ç»“åˆä½¿ç”¨ï¼š<ul>
<li>é€šè¿‡ forwardRef å¯ä»¥å°† ref è½¬å‘åˆ°å­ç»„ä»¶ï¼›</li>
<li>å­ç»„ä»¶æ‹¿åˆ°çˆ¶ç»„ä»¶ä¸­åˆ›å»ºçš„ refï¼Œç»‘å®šåˆ°è‡ªå·±çš„æŸä¸€ä¸ªå…ƒç´ ä¸­ï¼›</li>
</ul>
</li>
<li>forwardRef çš„åšæ³•æœ¬èº«æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯æˆ‘ä»¬æ˜¯å°†å­ç»„ä»¶çš„ DOM ç›´æ¥æš´éœ²ç»™äº†çˆ¶ç»„ä»¶ï¼š<ul>
<li>ç›´æ¥æš´éœ²ç»™çˆ¶ç»„ä»¶å¸¦æ¥çš„é—®é¢˜æ˜¯æŸäº›æƒ…å†µçš„ä¸å¯æ§ï¼›</li>
<li>çˆ¶ç»„ä»¶å¯ä»¥æ‹¿åˆ° DOM åè¿›è¡Œä»»æ„çš„æ“ä½œï¼›</li>
<li>ä½†æ˜¯ï¼Œäº‹å®ä¸Šåœ¨ä¸Šé¢çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬åªæ˜¯å¸Œæœ›çˆ¶ç»„ä»¶å¯ä»¥æ“ä½œçš„ focusï¼Œå…¶ä»–å¹¶ä¸å¸Œæœ›å®ƒéšæ„æ“ä½œï¼›</li>
</ul>
</li>
<li>é€šè¿‡ useImperativeHandle å¯ä»¥å€¼æš´éœ²å›ºå®šçš„æ“ä½œï¼š<ul>
<li>é€šè¿‡ useImperativeHandle çš„ Hookï¼Œå°†ä¼ å…¥çš„ ref å’Œ useImperativeHandle ç¬¬äºŒä¸ªå‚æ•°è¿”å›çš„å¯¹è±¡ç»‘å®šåˆ°äº†ä¸€èµ·ï¼›</li>
<li>æ‰€ä»¥åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œä½¿ç”¨ inputRef.current æ—¶ï¼Œå®é™…ä¸Šä½¿ç”¨çš„æ˜¯è¿”å›çš„å¯¹è±¡ï¼›</li>
<li>æ¯”å¦‚æˆ‘è°ƒç”¨äº† focus å‡½æ•°ï¼Œç”šè‡³å¯ä»¥è°ƒç”¨ printHello å‡½æ•°ï¼›</li>
</ul>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo, useRef, forwardRef, useImperativeHandle &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HelloWorld</span> = <span class="title function_">memo</span>(</span><br><span class="line">  <span class="title function_">forwardRef</span>(<span class="function">(<span class="params">props, ref</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> inputRef = <span class="title function_">useRef</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å­ç»„ä»¶å¯¹çˆ¶ç»„ä»¶ä¼ å…¥çš„refè¿›è¡Œå¤„ç†</span></span><br><span class="line">    <span class="title function_">useImperativeHandle</span>(ref, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="title function_">focus</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;focus&#x27;</span>)</span><br><span class="line">          inputRef.<span class="property">current</span>.<span class="title function_">focus</span>()</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">setValue</span>(<span class="params">value</span>) &#123;</span><br><span class="line">          inputRef.<span class="property">current</span>.<span class="property">value</span> = value</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">ref</span>=<span class="string">&#123;inputRef&#125;</span> /&gt;</span></span></span><br><span class="line">  &#125;)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> titleRef = <span class="title function_">useRef</span>()</span><br><span class="line">  <span class="keyword">const</span> inputRef = <span class="title function_">useRef</span>()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">handleDOM</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// console.log(inputRef.current)</span></span><br><span class="line">    inputRef.<span class="property">current</span>.<span class="title function_">focus</span>()</span><br><span class="line">    <span class="comment">// inputRef.current.value = &quot;&quot;</span></span><br><span class="line">    inputRef.<span class="property">current</span>.<span class="title function_">setValue</span>(<span class="string">&#x27;å“ˆå“ˆå“ˆ&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span> <span class="attr">ref</span>=<span class="string">&#123;titleRef&#125;</span>&gt;</span>å“ˆå“ˆå“ˆ<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">HelloWorld</span> <span class="attr">ref</span>=<span class="string">&#123;inputRef&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;handleDOM&#125;</span>&gt;</span>DOMæ“ä½œ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h2 id="useLayoutEffect"><a href="#useLayoutEffect" class="headerlink" title="useLayoutEffect"></a>useLayoutEffect</h2><ul>
<li>useLayoutEffec t çœ‹èµ·æ¥å’Œ useEffect éå¸¸çš„ç›¸ä¼¼ï¼Œäº‹å®ä¸Šä»–ä»¬ä¹Ÿåªæœ‰ä¸€ç‚¹åŒºåˆ«è€Œå·²ï¼š<ul>
<li>useEffect ä¼šåœ¨æ¸²æŸ“çš„å†…å®¹æ›´æ–°åˆ° DOM ä¸Šåæ‰§è¡Œï¼Œä¸ä¼šé˜»å¡ DOM çš„æ›´æ–°ï¼›</li>
<li>useLayoutEffect ä¼šåœ¨æ¸²æŸ“çš„å†…å®¹æ›´æ–°åˆ° DOM ä¸Šä¹‹å‰æ‰§è¡Œï¼Œä¼šé˜»å¡ DOM çš„æ›´æ–°ï¼›</li>
</ul>
</li>
<li>å¦‚æœæˆ‘ä»¬å¸Œæœ›åœ¨æŸäº›æ“ä½œå‘ç”Ÿä¹‹åå†æ›´æ–° DOMï¼Œé‚£ä¹ˆåº”è¯¥å°†è¿™ä¸ªæ“ä½œæ”¾åˆ° useLayoutEffectã€‚</li>
<li>æ¡ˆä¾‹ï¼š useEffect å’Œ useLayoutEffect çš„å¯¹æ¯”</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/ca75c6c15c2c41d3bec97d1d37c67839" alt="1671169956458"></p>
<ul>
<li>å®˜æ–¹æ›´æ¨èä½¿ç”¨ useEffect è€Œä¸æ˜¯ useLayoutEffectã€‚</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo, useEffect, useLayoutEffect, useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;useEffect&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (count === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="title function_">setCount</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() + <span class="number">99</span>) <span class="comment">// åˆ‡æ¢æ•°å­—,é¡µé¢ä¼šé—ªçƒ</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;App render&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>count: &#123;count&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> setCount(0)&#125;&gt;è®¾ç½®ä¸º0<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo, useEffect, useLayoutEffect, useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useLayoutEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;useLayoutEffect&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (count === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="title function_">setCount</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() + <span class="number">99</span>) <span class="comment">// åˆ‡æ¢æ•°å­—,é¡µé¢ä¸ä¼šé—ªçƒ</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;App render&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>count: &#123;count&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> setCount(0)&#125;&gt;è®¾ç½®ä¸º0<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h2 id="è‡ªå®šä¹‰-Hook"><a href="#è‡ªå®šä¹‰-Hook" class="headerlink" title="è‡ªå®šä¹‰ Hook"></a>è‡ªå®šä¹‰ Hook</h2><ul>
<li>è‡ªå®šä¹‰ Hook æœ¬è´¨ä¸Šåªæ˜¯ä¸€ç§å‡½æ•°ä»£ç é€»è¾‘çš„æŠ½å–ï¼Œä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´ï¼Œå®ƒæœ¬èº«å¹¶ä¸ç®— React çš„ç‰¹æ€§ã€‚</li>
</ul>
<h3 id="æ‰“å°ç”Ÿå‘½å‘¨æœŸ"><a href="#æ‰“å°ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="æ‰“å°ç”Ÿå‘½å‘¨æœŸ"></a>æ‰“å°ç”Ÿå‘½å‘¨æœŸ</h3><ul>
<li>éœ€æ±‚ï¼šæ‰€æœ‰çš„ç»„ä»¶åœ¨åˆ›å»ºå’Œé”€æ¯æ—¶éƒ½è¿›è¡Œæ‰“å°<ul>
<li>ç»„ä»¶è¢«åˆ›å»ºï¼šæ‰“å° ç»„ä»¶è¢«åˆ›å»ºäº†ï¼›</li>
<li>ç»„ä»¶è¢«é”€æ¯ï¼šæ‰“å° ç»„ä»¶è¢«é”€æ¯äº†ï¼›</li>
</ul>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo, useEffect, useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">useLogLife</span>(<span class="params">cName</span>) &#123;</span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(cName + <span class="string">&#x27;ç»„ä»¶è¢«åˆ›å»º&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(cName + <span class="string">&#x27;ç»„ä»¶è¢«é”€æ¯&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, [cName])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Home</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">useLogLife</span>(<span class="string">&#x27;home&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Home Page<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">About</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">useLogLife</span>(<span class="string">&#x27;about&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>About Page<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [isShow, setIsShow] = <span class="title function_">useState</span>(<span class="literal">true</span>)</span><br><span class="line">  <span class="title function_">useLogLife</span>(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>App Root Component<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> setIsShow(!isShow)&#125;&gt;åˆ‡æ¢<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;isShow &amp;&amp; <span class="tag">&lt;<span class="name">Home</span> /&gt;</span>&#125;</span></span><br><span class="line"><span class="language-xml">      &#123;isShow &amp;&amp; <span class="tag">&lt;<span class="name">About</span> /&gt;</span>&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h3 id="Context-è·å–æ•°æ®"><a href="#Context-è·å–æ•°æ®" class="headerlink" title="Context è·å–æ•°æ®"></a>Context è·å–æ•°æ®</h3><p><strong>.&#x2F;src&#x2F;context&#x2F;index.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createContext &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">UserContext</span> = <span class="title function_">createContext</span>()</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">TokenContext</span> = <span class="title function_">createContext</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; <span class="title class_">UserContext</span>, <span class="title class_">TokenContext</span> &#125;</span><br></pre></td></tr></table></figure>

<p><strong>index.js</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">UserContext</span>, <span class="title class_">TokenContext</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./context/index&#x27;</span></span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>))</span><br><span class="line"></span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">UserContext.Provider</span> <span class="attr">value</span>=<span class="string">&#123;&#123;</span> <span class="attr">name:</span> &#x27;<span class="attr">why</span>&#x27;, <span class="attr">level:</span> <span class="attr">99</span> &#125;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">TokenContext.Provider</span> <span class="attr">value</span>=<span class="string">&#123;</span>&#x27;<span class="attr">coderwhy</span>&#x27;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">TokenContext.Provider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">UserContext.Provider</span>&gt;</span></span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><strong>.&#x2F;src&#x2F;hooks&#x2F;useUserToken.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useContext &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">UserContext</span>, <span class="title class_">TokenContext</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;../context&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">useUserToken</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> user = <span class="title function_">useContext</span>(<span class="title class_">UserContext</span>)</span><br><span class="line">  <span class="keyword">const</span> token = <span class="title function_">useContext</span>(<span class="title class_">TokenContext</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> [user, token]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> useUserToken</span><br></pre></td></tr></table></figure>

<p><strong>.&#x2F;src&#x2F;hook&#x2F;index.js</strong> , åšç»Ÿä¸€å¯¼å‡º</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> useUserToken <span class="keyword">from</span> <span class="string">&#x27;./useUserToken&#x27;</span></span><br><span class="line"><span class="keyword">import</span> useScrollPosition <span class="keyword">from</span> <span class="string">&#x27;./useScrollPosition&#x27;</span></span><br><span class="line"><span class="keyword">import</span> useLocalStorage <span class="keyword">from</span> <span class="string">&#x27;./useLocalStorage&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; useUserToken, useScrollPosition, useLocalStorage &#125;</span><br></pre></td></tr></table></figure>

<p><strong>App.jsx</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useUserToken &#125; <span class="keyword">from</span> <span class="string">&#x27;./hooks&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Home</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [user, token] = <span class="title function_">useUserToken</span>()</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      Home Page: &#123;user.name&#125;-&#123;token&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">About</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [user, token] = <span class="title function_">useUserToken</span>()</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      About Page: &#123;user.name&#125;-&#123;token&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>App Root Component<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Home</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">About</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h3 id="è·å–çª—å£æ»šåŠ¨ä½ç½®"><a href="#è·å–çª—å£æ»šåŠ¨ä½ç½®" class="headerlink" title="è·å–çª—å£æ»šåŠ¨ä½ç½®"></a>è·å–çª—å£æ»šåŠ¨ä½ç½®</h3><p><strong>.&#x2F;hooks&#x2F;useScrollPosition.js</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">useScrollPosition</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [scrollX, setScrollX] = <span class="title function_">useState</span>(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> [scrollY, setScrollY] = <span class="title function_">useState</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">handleScroll</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// console.log(window.scrollX, window.scrollY)</span></span><br><span class="line">      <span class="title function_">setScrollX</span>(<span class="variable language_">window</span>.<span class="property">scrollX</span>)</span><br><span class="line">      <span class="title function_">setScrollY</span>(<span class="variable language_">window</span>.<span class="property">scrollY</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, handleScroll)</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, handleScroll)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> [scrollX, scrollY]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> useScrollPosition</span><br></pre></td></tr></table></figure>

<p><strong>.&#x2F;src&#x2F;hook&#x2F;index.js</strong> , åšç»Ÿä¸€å¯¼å‡º</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> useUserToken <span class="keyword">from</span> <span class="string">&#x27;./useUserToken&#x27;</span></span><br><span class="line"><span class="keyword">import</span> useScrollPosition <span class="keyword">from</span> <span class="string">&#x27;./useScrollPosition&#x27;</span></span><br><span class="line"><span class="keyword">import</span> useLocalStorage <span class="keyword">from</span> <span class="string">&#x27;./useLocalStorage&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; useUserToken, useScrollPosition, useLocalStorage &#125;</span><br></pre></td></tr></table></figure>

<p><strong>app.jsx</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> useScrollPosition <span class="keyword">from</span> <span class="string">&#x27;./hooks/useScrollPosition&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./style.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Home</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [scrollX, scrollY] = <span class="title function_">useScrollPosition</span>()</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      Home Page: &#123;scrollX&#125;-&#123;scrollY&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">About</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [scrollX, scrollY] = <span class="title function_">useScrollPosition</span>()</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      About Page: &#123;scrollX&#125;-&#123;scrollY&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>App Root Component<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Home</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">About</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h3 id="æœ¬åœ°å­˜å‚¨"><a href="#æœ¬åœ°å­˜å‚¨" class="headerlink" title="æœ¬åœ°å­˜å‚¨"></a>æœ¬åœ°å­˜å‚¨</h3><p><strong>.&#x2F;src&#x2F;hooks&#x2F;useLocalStorage.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">useLocalStorage</span>(<span class="params">key</span>) &#123;</span><br><span class="line">  <span class="comment">// 1.ä»localStorageä¸­è·å–æ•°æ®, å¹¶ä¸”æ•°æ®æ•°æ®åˆ›å»ºç»„ä»¶çš„state</span></span><br><span class="line">  <span class="keyword">const</span> [data, setData] = <span class="title function_">useState</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> item = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(key)</span><br><span class="line">    <span class="keyword">if</span> (!item) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(item)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.ç›‘å¬dataæ”¹å˜, ä¸€æ—¦å‘ç”Ÿæ”¹å˜å°±å­˜å‚¨dataæœ€æ–°å€¼</span></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(key, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data))</span><br><span class="line">  &#125;, [data])</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3.å°†data/setDataçš„æ“ä½œè¿”å›ç»™ç»„ä»¶, è®©ç»„ä»¶å¯ä»¥ä½¿ç”¨å’Œä¿®æ”¹å€¼</span></span><br><span class="line">  <span class="keyword">return</span> [data, setData]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> useLocalStorage</span><br></pre></td></tr></table></figure>

<p><strong>.&#x2F;src&#x2F;hook&#x2F;index.js</strong> , åšç»Ÿä¸€å¯¼å‡º</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> useUserToken <span class="keyword">from</span> <span class="string">&#x27;./useUserToken&#x27;</span></span><br><span class="line"><span class="keyword">import</span> useScrollPosition <span class="keyword">from</span> <span class="string">&#x27;./useScrollPosition&#x27;</span></span><br><span class="line"><span class="keyword">import</span> useLocalStorage <span class="keyword">from</span> <span class="string">&#x27;./useLocalStorage&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; useUserToken, useScrollPosition, useLocalStorage &#125;</span><br></pre></td></tr></table></figure>

<p><strong>app.jsx</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> useLocalStorage <span class="keyword">from</span> <span class="string">&#x27;./hooks/useLocalStorage&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [token, setToken] = <span class="title function_">useLocalStorage</span>(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">setTokenHandle</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">setToken</span>(<span class="string">&#x27;james&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> [avatarUrl, setAvatarUrl] = <span class="title function_">useLocalStorage</span>(<span class="string">&#x27;avatarUrl&#x27;</span>)</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">setAvatarUrlHandle</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">setAvatarUrl</span>(<span class="string">&#x27;http://www.james.com/cba.png&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>App Root Component: &#123;token&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;setTokenHandle&#125;</span>&gt;</span>è®¾ç½®token<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>avatarURL: &#123;avatarUrl&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;setAvatarUrlHandle&#125;</span>&gt;</span>è®¾ç½®æ–°å¤´åƒåœ°å€<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h2 id="redux-hooks"><a href="#redux-hooks" class="headerlink" title="redux hooks"></a>redux hooks</h2><ul>
<li><p>åœ¨ä¹‹å‰çš„ redux å¼€å‘ä¸­ï¼Œä¸ºäº†è®©ç»„ä»¶å’Œ redux ç»“åˆèµ·æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† react-redux ä¸­çš„ connectï¼š</p>
<ul>
<li>ä½†æ˜¯è¿™ç§æ–¹å¼å¿…é¡»ä½¿ç”¨é«˜é˜¶å‡½æ•°ç»“åˆè¿”å›çš„é«˜é˜¶ç»„ä»¶ï¼›</li>
<li>å¹¶ä¸”å¿…é¡»ç¼–å†™ï¼šmapStateToProps å’Œ mapDispatchToProps æ˜ å°„çš„å‡½æ•°ï¼›</li>
</ul>
</li>
<li><p>åœ¨ Redux7.1 å¼€å§‹ï¼Œæä¾›äº† Hook çš„æ–¹å¼ï¼Œæˆ‘ä»¬å†ä¹Ÿä¸éœ€è¦ç¼–å†™ connect ä»¥åŠå¯¹åº”çš„æ˜ å°„å‡½æ•°äº†</p>
</li>
<li><p>useSelector çš„ä½œç”¨æ˜¯å°† state æ˜ å°„åˆ°ç»„ä»¶ä¸­ï¼š</p>
<ul>
<li>å‚æ•°ä¸€ï¼šå°† state æ˜ å°„åˆ°éœ€è¦çš„æ•°æ®ä¸­ï¼›</li>
<li>å‚æ•°äºŒï¼šå¯ä»¥è¿›è¡Œæ¯”è¾ƒæ¥å†³å®šæ˜¯å¦ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼›ï¼ˆåç»­è®²è§£ï¼‰</li>
</ul>
</li>
<li><p>useSelector é»˜è®¤ä¼šæ¯”è¾ƒæˆ‘ä»¬è¿”å›çš„ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼›</p>
<ul>
<li>å¦‚ä½•æ¯”è¾ƒå‘¢ï¼Ÿ const refEquality &#x3D; (a, b) &#x3D;&gt; a &#x3D;&#x3D;&#x3D; bï¼›</li>
<li>ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¿…é¡»è¿”å›ä¸¤ä¸ªå®Œå…¨ç›¸ç­‰çš„å¯¹è±¡æ‰å¯ä»¥ä¸å¼•èµ·é‡æ–°æ¸²æŸ“ï¼›</li>
</ul>
</li>
<li><p>useDispatch éå¸¸ç®€å•ï¼Œå°±æ˜¯ç›´æ¥è·å– dispatch å‡½æ•°ï¼Œä¹‹ååœ¨ç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨å³å¯ï¼›</p>
</li>
<li><p>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ useStore æ¥è·å–å½“å‰çš„ store å¯¹è±¡ï¼›</p>
</li>
</ul>
<h3 id="ä½¿ç”¨-store-ä¸­çš„æ•°æ®"><a href="#ä½¿ç”¨-store-ä¸­çš„æ•°æ®" class="headerlink" title="ä½¿ç”¨ store ä¸­çš„æ•°æ®"></a>ä½¿ç”¨ store ä¸­çš„æ•°æ®</h3><ul>
<li>å®‰è£…ä¾èµ– : <strong>npm install @reduxjs&#x2F;toolkit react-redux</strong></li>
</ul>
<p>æ–°å»º <strong>.&#x2F;src&#x2F;store&#x2F;index.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; configureStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@reduxjs/toolkit&#x27;</span></span><br><span class="line"><span class="keyword">import</span> counterReducer <span class="keyword">from</span> <span class="string">&#x27;./modules/counter&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">configureStore</span>(&#123;</span><br><span class="line">  <span class="attr">reducer</span>: &#123;</span><br><span class="line">    <span class="attr">counter</span>: counterReducer,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<p>æ–°å»º <strong>.&#x2F;src&#x2F;store&#x2F;modules&#x2F;counter.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createSlice &#125; <span class="keyword">from</span> <span class="string">&#x27;@reduxjs/toolkit&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> counterSlice = <span class="title function_">createSlice</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;counter&#x27;</span>,</span><br><span class="line">  <span class="attr">initialState</span>: &#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">99</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;Hello World&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">reducers</span>: &#123;</span><br><span class="line">    <span class="title function_">addNumberAction</span>(<span class="params">state, &#123; payload &#125;</span>) &#123;</span><br><span class="line">      state.<span class="property">count</span> = state.<span class="property">count</span> + payload</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">subNumberAction</span>(<span class="params">state, &#123; payload &#125;</span>) &#123;</span><br><span class="line">      state.<span class="property">count</span> = state.<span class="property">count</span> - payload</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="title function_">changeMessageAction</span>(<span class="params">state, &#123; payload &#125;</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(payload)</span><br><span class="line">      state.<span class="property">message</span> = payload</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123; addNumberAction, subNumberAction, changeMessageAction &#125; = counterSlice.<span class="property">actions</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> counterSlice.<span class="property">reducer</span></span><br></pre></td></tr></table></figure>

<p><strong>index.js</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Provider</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>))</span><br><span class="line"></span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="connect-å®ç°"><a href="#connect-å®ç°" class="headerlink" title="connect å®ç°"></a>connect å®ç°</h4><p><strong>App.jsx</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; addNumberAction, subNumberAction &#125; <span class="keyword">from</span> <span class="string">&#x27;./store/modules/counter&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; count, addNumber, subNumber &#125; = props</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">addNumberHandle</span>(<span class="params">num, isAdd = <span class="literal">true</span></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isAdd) &#123;</span><br><span class="line">      <span class="title function_">addNumber</span>(num)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">subNumber</span>(num)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å½“å‰è®¡æ•°: &#123;count&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> addNumberHandle(1)&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> addNumberHandle(6)&#125;&gt;+6<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> addNumberHandle(6, false)&#125;&gt;-6<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mapStateToProps</span> = (<span class="params">state</span>) =&gt; (&#123;</span><br><span class="line">  <span class="attr">count</span>: state.<span class="property">counter</span>.<span class="property">count</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mapDispatchToProps</span> = (<span class="params">dispatch</span>) =&gt; (&#123;</span><br><span class="line">  <span class="title function_">addNumber</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="title function_">dispatch</span>(<span class="title function_">addNumberAction</span>(num))</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">subNumber</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="title function_">dispatch</span>(<span class="title function_">subNumberAction</span>(num))</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">connect</span>(mapStateToProps, mapDispatchToProps)(<span class="title class_">App</span>)</span><br></pre></td></tr></table></figure>

<h4 id="hook-å®ç°"><a href="#hook-å®ç°" class="headerlink" title="hook å®ç°"></a>hook å®ç°</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useSelector, useDispatch &#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; addNumberAction, subNumberAction &#125; <span class="keyword">from</span> <span class="string">&#x27;./store/modules/counter&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1.ä½¿ç”¨useSelectorå°†reduxä¸­storeçš„æ•°æ®æ˜ å°„åˆ°ç»„ä»¶å†…</span></span><br><span class="line">  <span class="keyword">const</span> &#123; count &#125; = <span class="title function_">useSelector</span>(<span class="function">(<span class="params">state</span>) =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">count</span>: state.<span class="property">counter</span>.<span class="property">count</span>,</span><br><span class="line">  &#125;))</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.ä½¿ç”¨dispatchç›´æ¥æ´¾å‘action</span></span><br><span class="line">  <span class="keyword">const</span> dispatch = <span class="title function_">useDispatch</span>()</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">addNumberHandle</span>(<span class="params">num, isAdd = <span class="literal">true</span></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isAdd) &#123;</span><br><span class="line">      <span class="title function_">dispatch</span>(<span class="title function_">addNumberAction</span>(num))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">dispatch</span>(<span class="title function_">subNumberAction</span>(num))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å½“å‰è®¡æ•°: &#123;count&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> addNumberHandle(1)&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> addNumberHandle(6)&#125;&gt;+6<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> addNumberHandle(6, false)&#125;&gt;-6<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h4 id="shallowEqual"><a href="#shallowEqual" class="headerlink" title="shallowEqual"></a>shallowEqual</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; memo &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useSelector, useDispatch, shallowEqual &#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; addNumberAction, changeMessageAction, subNumberAction &#125; <span class="keyword">from</span> <span class="string">&#x27;./store/modules/counter&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// memoé«˜é˜¶ç»„ä»¶åŒ…è£¹èµ·æ¥çš„ç»„ä»¶æœ‰å¯¹åº”çš„ç‰¹ç‚¹: åªæœ‰propså‘ç”Ÿæ”¹å˜æ—¶, æ‰ä¼šé‡æ–°æ¸²æŸ“</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Home</span> = <span class="title function_">memo</span>(<span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; message &#125; = <span class="title function_">useSelector</span>(</span><br><span class="line">    <span class="function">(<span class="params">state</span>) =&gt;</span> (&#123;</span><br><span class="line">      <span class="attr">message</span>: state.<span class="property">counter</span>.<span class="property">message</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    shallowEqual</span><br><span class="line">  )</span><br><span class="line">  <span class="keyword">const</span> dispatch = <span class="title function_">useDispatch</span>()</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">changeMessageHandle</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">dispatch</span>(<span class="title function_">changeMessageAction</span>(<span class="string">&#x27;ä½ å¥½å•Š, å¸ˆå§!&#x27;</span>))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Home render&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Home: &#123;message&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> changeMessageHandle()&#125;&gt;ä¿®æ”¹message<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span> = <span class="title function_">memo</span>(<span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1.ä½¿ç”¨useSelectorå°†reduxä¸­storeçš„æ•°æ®æ˜ å°„åˆ°ç»„ä»¶å†…</span></span><br><span class="line">  <span class="keyword">const</span> &#123; count &#125; = <span class="title function_">useSelector</span>(</span><br><span class="line">    <span class="function">(<span class="params">state</span>) =&gt;</span> (&#123;</span><br><span class="line">      <span class="attr">count</span>: state.<span class="property">counter</span>.<span class="property">count</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    shallowEqual</span><br><span class="line">  )</span><br><span class="line">  <span class="comment">// 2.ä½¿ç”¨dispatchç›´æ¥æ´¾å‘action</span></span><br><span class="line">  <span class="keyword">const</span> dispatch = <span class="title function_">useDispatch</span>()</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">addNumberHandle</span>(<span class="params">num, isAdd = <span class="literal">true</span></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isAdd) &#123;</span><br><span class="line">      <span class="title function_">dispatch</span>(<span class="title function_">addNumberAction</span>(num))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">dispatch</span>(<span class="title function_">subNumberAction</span>(num))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;App render&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å½“å‰è®¡æ•°: &#123;count&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> addNumberHandle(1)&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> addNumberHandle(6)&#125;&gt;+6<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span> =&gt;</span> addNumberHandle(6, false)&#125;&gt;-6<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Home</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>

<h2 id="useId"><a href="#useId" class="headerlink" title="useId"></a>useId</h2><ul>
<li>å®˜æ–¹çš„è§£é‡Šï¼šuseId æ˜¯ä¸€ä¸ªç”¨äºç”Ÿæˆæ¨ªè·¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„ç¨³å®šçš„å”¯ä¸€ ID çš„åŒæ—¶é¿å… hydration ä¸åŒ¹é…çš„ hookã€‚</li>
<li>è¿™é‡Œæœ‰ä¸€ä¸ªè¯å« hydrationï¼Œè¦æƒ³ç†è§£è¿™ä¸ªè¯ï¼Œæˆ‘ä»¬éœ€è¦ç†è§£ä¸€äº›æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰çš„æ¦‚å¿µã€‚</li>
<li>ä»€ä¹ˆæ˜¯ SSRï¼Ÿ<ul>
<li>SSRï¼ˆServer Side Renderingï¼ŒæœåŠ¡ç«¯æ¸²æŸ“ï¼‰ï¼ŒæŒ‡çš„æ˜¯é¡µé¢åœ¨æœåŠ¡å™¨ç«¯å·²ç»ç”Ÿæˆäº†å®Œæˆçš„ HTML é¡µé¢ç»“æ„ï¼Œä¸éœ€è¦æµè§ˆå™¨é€šè¿‡æ‰§è¡Œ JS ä»£ç ,åˆ›å»ºé¡µé¢ç»“æ„</li>
<li>å¯¹åº”çš„æ˜¯ CSRï¼ˆClient Side Renderingï¼Œå®¢æˆ·ç«¯æ¸²æŸ“ï¼‰ï¼Œæˆ‘ä»¬å¼€å‘çš„ SPA é¡µé¢é€šå¸¸ä¾èµ–çš„å°±æ˜¯å®¢æˆ·ç«¯æ¸²æŸ“ï¼›</li>
</ul>
</li>
<li>æ—©æœŸçš„æœåŠ¡ç«¯æ¸²æŸ“åŒ…æ‹¬ PHPã€JSPã€ASP ç­‰æ–¹å¼ï¼Œä½†æ˜¯åœ¨ç›®å‰å‰åç«¯åˆ†ç¦»çš„å¼€å‘æ¨¡å¼ä¸‹ï¼Œå‰ç«¯å¼€å‘äººå‘˜ä¸å¤ªå¯èƒ½å†å»å­¦ä¹  PHPã€JSP ç­‰æŠ€æœ¯æ¥å¼€å‘ç½‘é¡µï¼›</li>
<li>ä¸è¿‡æˆ‘ä»¬å¯ä»¥å€ŸåŠ©äº Node æ¥å¸®åŠ©æˆ‘ä»¬æ‰§è¡Œ JavaScript ä»£ç ï¼Œæå‰å®Œæˆé¡µé¢çš„æ¸²æŸ“ï¼›</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/b04d59b8380f4cdab7eab9c7ac939f67" alt="1671170079470"></p>
<h2 id="SSR-åŒæ„åº”ç”¨"><a href="#SSR-åŒæ„åº”ç”¨" class="headerlink" title="SSR åŒæ„åº”ç”¨"></a>SSR åŒæ„åº”ç”¨</h2><ul>
<li>ä»€ä¹ˆæ˜¯åŒæ„ï¼Ÿ<ul>
<li><strong>ä¸€å¥—ä»£ç æ—¢å¯ä»¥åœ¨æœåŠ¡ç«¯è¿è¡Œåˆå¯ä»¥åœ¨å®¢æˆ·ç«¯è¿è¡Œï¼Œè¿™å°±æ˜¯åŒæ„åº”ç”¨</strong>ã€‚</li>
</ul>
</li>
<li>åŒæ„æ˜¯ä¸€ç§ SSR çš„å½¢æ€ï¼Œæ˜¯ç°ä»£ SSR çš„ä¸€ç§è¡¨ç°å½¢å¼ã€‚<ul>
<li>å½“ç”¨æˆ·å‘å‡ºè¯·æ±‚æ—¶ï¼Œå…ˆåœ¨æœåŠ¡å™¨é€šè¿‡ SSR æ¸²æŸ“å‡ºé¦–é¡µçš„å†…å®¹ã€‚</li>
<li>ä½†æ˜¯å¯¹åº”çš„ä»£ç åŒæ ·å¯ä»¥åœ¨å®¢æˆ·ç«¯è¢«æ‰§è¡Œã€‚</li>
<li>æ‰§è¡Œçš„ç›®çš„åŒ…æ‹¬äº‹ä»¶ç»‘å®šç­‰ä»¥åŠå…¶ä»–é¡µé¢åˆ‡æ¢æ—¶ä¹Ÿå¯ä»¥åœ¨å®¢æˆ·ç«¯è¢«æ¸²æŸ“ï¼›</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/3f84bc32aa3045e0ad45ecc43084f993" alt="1671170121905"></p>
<h2 id="Hydration"><a href="#Hydration" class="headerlink" title="Hydration"></a>Hydration</h2><ul>
<li>ä»€ä¹ˆæ˜¯ Hydrationï¼Ÿè¿™é‡Œæˆ‘å¼•å…¥ vite-plugin-ssr æ’ä»¶çš„å®˜æ–¹è§£é‡Šã€‚</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/f8b6cb90e3214ce484498f60de2a18e7" alt="1671170176536"></p>
<ul>
<li>åœ¨è¿›è¡Œ SSR æ—¶ï¼Œæˆ‘ä»¬çš„é¡µé¢ä¼šå‘ˆç°ä¸º HTMLã€‚<ul>
<li>ä½†ä»… HTML ä¸è¶³ä»¥ä½¿é¡µé¢å…·æœ‰äº¤äº’æ€§ã€‚ä¾‹å¦‚ï¼Œæµè§ˆå™¨ç«¯ JavaScript ä¸ºé›¶çš„é¡µé¢ä¸èƒ½æ˜¯äº¤äº’å¼çš„ï¼ˆæ²¡æœ‰ JavaScript äº‹ä»¶å¤„ç†ç¨‹åºæ¥å“åº”ç”¨æˆ·æ“ä½œï¼Œä¾‹å¦‚å•å‡»æŒ‰é’®ï¼‰ã€‚</li>
<li>ä¸ºäº†ä½¿æˆ‘ä»¬çš„é¡µé¢å…·æœ‰äº¤äº’æ€§ï¼Œé™¤äº†åœ¨ Node.js ä¸­å°†é¡µé¢å‘ˆç°ä¸º HTML ä¹‹å¤–ï¼Œæˆ‘ä»¬çš„ UI æ¡†æ¶ï¼ˆVue&#x2F;React&#x2F;â€¦ï¼‰è¿˜åœ¨æµè§ˆå™¨ä¸­åŠ è½½å’Œå‘ˆç°é¡µé¢ã€‚ï¼ˆå®ƒåˆ›å»ºé¡µé¢çš„å†…éƒ¨è¡¨ç¤ºï¼Œç„¶åå°†å†…éƒ¨è¡¨ç¤ºæ˜ å°„åˆ°æˆ‘ä»¬åœ¨ Node.js ä¸­å‘ˆç°çš„ HTML çš„ DOM å…ƒç´ ã€‚ï¼‰</li>
</ul>
</li>
<li>è¿™ä¸ªè¿‡ç¨‹ç§°ä¸º hydrationã€‚</li>
</ul>
<h2 id="useId-çš„ä½œç”¨"><a href="#useId-çš„ä½œç”¨" class="headerlink" title="useId çš„ä½œç”¨"></a>useId çš„ä½œç”¨</h2><ul>
<li>æˆ‘ä»¬å†æ¥çœ‹ä¸€éï¼š<strong>useId æ˜¯ä¸€ä¸ªç”¨äºç”Ÿæˆæ¨ªè·¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„ç¨³å®šçš„å”¯ä¸€ ID çš„åŒæ—¶é¿å… hydration ä¸åŒ¹é…çš„ hook</strong>ã€‚</li>
<li>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—å‡ºå¦‚ä¸‹ç»“è®ºï¼š<ul>
<li>useId æ˜¯ç”¨äº react çš„åŒæ„åº”ç”¨å¼€å‘çš„ï¼Œå‰ç«¯çš„ SPA é¡µé¢å¹¶ä¸éœ€è¦ä½¿ç”¨å®ƒï¼›</li>
<li>useId å¯ä»¥ä¿è¯åº”ç”¨ç¨‹åºåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ç”Ÿæˆå”¯ä¸€çš„ IDï¼Œè¿™æ ·å¯ä»¥æœ‰æ•ˆçš„é¿å…é€šè¿‡ä¸€äº›æ‰‹æ®µç”Ÿæˆçš„ id ä¸ä¸€è‡´ï¼Œé€ æˆ hydration mismatchï¼›</li>
</ul>
</li>
</ul>
<h2 id="useTransition"><a href="#useTransition" class="headerlink" title="useTransition"></a>useTransition</h2><ul>
<li>å®˜æ–¹è§£é‡Šï¼šè¿”å›ä¸€ä¸ªçŠ¶æ€å€¼è¡¨ç¤ºè¿‡æ¸¡ä»»åŠ¡çš„ç­‰å¾…çŠ¶æ€ï¼Œä»¥åŠä¸€ä¸ªå¯åŠ¨è¯¥è¿‡æ¸¡ä»»åŠ¡çš„å‡½æ•°ã€‚<ul>
<li>äº‹å®ä¸Šå®˜æ–¹çš„è¯´æ³•ï¼Œè¿˜æ˜¯è®©äººäº‘é‡Œé›¾é‡Œï¼Œä¸çŸ¥æ‰€äº‘ã€‚</li>
</ul>
</li>
<li>useTransition åˆ°åº•æ˜¯å¹²å˜›çš„å‘¢ï¼Ÿå®ƒå…¶å®åœ¨å‘Šè¯‰ react å¯¹äºæŸéƒ¨åˆ†ä»»åŠ¡çš„æ›´æ–°ä¼˜å…ˆçº§è¾ƒä½ï¼Œå¯ä»¥ç¨åè¿›è¡Œæ›´æ–°ã€‚</li>
</ul>
<h2 id="useDeferredValue"><a href="#useDeferredValue" class="headerlink" title="useDeferredValue"></a>useDeferredValue</h2><ul>
<li>å®˜æ–¹è§£é‡Šï¼šuseDeferredValue æ¥å—ä¸€ä¸ªå€¼ï¼Œå¹¶è¿”å›è¯¥å€¼çš„æ–°å‰¯æœ¬ï¼Œè¯¥å‰¯æœ¬å°†æ¨è¿Ÿåˆ°æ›´ç´§æ€¥åœ°æ›´æ–°ä¹‹åã€‚</li>
<li>åœ¨æ˜ç™½äº† useTransition ä¹‹åï¼Œæˆ‘ä»¬å°±ä¼šå‘ç° useDeferredValue çš„ä½œç”¨æ˜¯ä¸€æ ·çš„æ•ˆæœï¼Œå¯ä»¥è®©æˆ‘ä»¬çš„æ›´æ–°å»¶è¿Ÿã€‚</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author_group"><a class="post-copyright__author_img" href="/about/"><img class="post-copyright__author_img_front" src= "/img/loading.gif" data-lazy-src="https://bu.dusays.com/2023/11/08/654af68b25bb8.jpg"></a><div class="post-copyright__author_name">èœ—ç‰›æµªè¿¹å¤©æ¶¯</div><div class="post-copyright__author_desc">å®é™è‡´è¿œï¼Œçƒ­çˆ±ç”Ÿæ´»ã€‚</div></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div id="quit-box" onclick="RemoveRewardMask()"></div><div class="post-reward" onclick="AddRewardMask()"><div class="reward-button" title="èµèµä½œè€…"><i class="scoicon sco-hand-heart-fill"></i>æ‰“èµä½œè€…</div><div class="reward-main"><ul class="reward-all"><span class="reward-title">æ„Ÿè°¢ä½ èµäºˆæˆ‘å‰è¿›çš„åŠ›é‡</span><ul class="reward-group"><li class="reward-item"><a target="_blank" rel="noopener" href="https://bu.dusays.com/2023/11/07/6549e79364fa3.png"><img class="post-qr-code-img" src= "/img/loading.gif" data-lazy-src="https://bu.dusays.com/2023/11/07/6549e79364fa3.png" alt="å¾®ä¿¡"></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="https://bu.dusays.com/2023/11/07/6549e79d02bd6.png" target="_blank"><img class="post-qr-code-img" src= "/img/loading.gif" data-lazy-src="https://bu.dusays.com/2023/11/07/6549e79d02bd6.png" alt="æ”¯ä»˜å®"></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul><a class="reward-main-btn" href="/about"><div class="reward-text">èµèµè€…åå•</div><div class="reward-dec">å› ä¸ºä½ ä»¬çš„æ”¯æŒè®©æˆ‘æ„è¯†åˆ°å†™æ–‡ç« çš„ä»·å€¼ğŸ™</div></a></ul></div></div><script>function RemoveRewardMask() {
    let rewardMainElements = document.querySelectorAll(".reward-main");
    let quitBoxElement = document.querySelector("#quit-box");

    console.log("RemoveRewardMask")

    rewardMainElements.forEach(element => {
        element.style.display = "none";
    });

    if (quitBoxElement) {
        quitBoxElement.style.display = "none";
    }
}

function AddRewardMask() {
    let rewardMainElements = document.querySelectorAll(".reward-main");
    let quitBoxElement = document.querySelector("#quit-box");

    console.log("AddRewardMask")

    rewardMainElements.forEach(element => {
        element.style.display = "flex";
    });

    if (quitBoxElement) {
        quitBoxElement.style.display = "flex";
    }
}</script></div></div><div class="post-copyright__notice"><span class="post-copyright-info">æœ¬æ–‡æ˜¯åŸåˆ›æ–‡ç« ï¼Œé‡‡ç”¨<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a>åè®®ï¼Œå®Œæ•´è½¬è½½è¯·æ³¨æ˜æ¥è‡ª<a href="/">èœ—ç‰›æµªè¿¹å¤©æ¶¯</a></span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__tag-list"></div></div></div><nav class="needEndHide pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/01/24/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/401_TypeScript/40101_TypeScript/"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">TypeScript</div></div></a></div><div class="next-post pull-right"><a href="/2024/01/23/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/303_React/30304_React_Router/"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">React_Router</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><div class="author-info__top-group"><div class="author-info__sayhi" id="author-info__sayhi" onclick="sco.changeSayHelloText()">ä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨</div></div></div><div class="avatar-img-group"><img class="avatar-img" alt="å¤´åƒ" src= "/img/loading.gif" data-lazy-src="https://bu.dusays.com/2023/11/08/654af68b25bb8.jpg"><div class="avatar-sticker"><img class="avatar-sticker-img" src= "/img/loading.gif" data-lazy-src="https://bu.dusays.com/2023/12/30/659011053e246.png" alt="å¿ƒæƒ…è´´çº¸"></div></div><div class="author-info__description_group"><div class="author-info__description">åˆ†äº«è‡ªå·±å¯¹ç¼–ç¨‹çš„<b>çƒ­çˆ±</b>ï¼Œå¯¹ç¾å¥½ç”Ÿæ´»çš„<b>å‘å¾€</b>ï¼Œå¯¹çŸ¥è¯†æµ·æ´‹<b>æ¢ç´¢å†ç¨‹</b>ã€‚</div><div class="author-info__description2">ç›¸ä¿¡ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å¯¹ä½ æœ‰ç”¨çš„çŸ¥è¯†å’Œæ•™ç¨‹ã€‚</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/about"><div class="author-info__name">snail289</div><div class="author-info__desc">å®é™è‡´è¿œï¼Œçƒ­çˆ±ç”Ÿæ´»ã€‚</div></a><div class="card-info-social-icons is-center"><a class="social-icon" target="_blank" rel="noopener" href="https://github.com/DuoSco/Hexo-Theme-slitude" title="Github"><i class="scoicon sco-github-line"></i></a><a class="social-icon" target="_blank" rel="noopener" href="https://space.bilibili.com/1329819902" title="Bilibili"><i class="scoicon sco-bilibili-line"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="scoicon sco-menu-line"></i><span>æ–‡ç« ç›®å½•</span></div><div class="toc-content" id="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81-Hook"><span class="toc-text">ä¸ºä»€ä¹ˆéœ€è¦ Hook</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class-%E7%BB%84%E4%BB%B6%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-text">Class ç»„ä»¶å­˜åœ¨çš„é—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hook-%E7%9A%84%E5%87%BA%E7%8E%B0"><span class="toc-text">Hook çš„å‡ºç°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%BB%84%E4%BB%B6%E4%B8%8E%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6"><span class="toc-text">ç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E7%BB%84%E4%BB%B6%E4%B8%8E%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6%E5%AF%B9%E6%AF%94"><span class="toc-text">ç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶å¯¹æ¯”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0%E5%99%A8%E6%A1%88%E4%BE%8B%E5%AF%B9%E6%AF%94"><span class="toc-text">è®¡æ•°å™¨æ¡ˆä¾‹å¯¹æ¯”</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0"><span class="toc-text">ç±»ç»„ä»¶å®ç°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hooks-%E5%AE%9E%E7%8E%B0"><span class="toc-text">hooks å®ç°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useState"><span class="toc-text">useState</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#useState-%E8%A7%A3%E6%9E%90"><span class="toc-text">useState è§£æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86-useState"><span class="toc-text">è®¤è¯† useState</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Effect-Hook"><span class="toc-text">Effect Hook</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86-Effect-Hook"><span class="toc-text">è®¤è¯† Effect Hook</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%A0%87%E9%A2%98%E6%A1%88%E4%BE%8B"><span class="toc-text">ä¿®æ”¹æ ‡é¢˜æ¡ˆä¾‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#useEffect-%E7%9A%84%E8%A7%A3%E6%9E%90"><span class="toc-text">useEffect çš„è§£æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9C%80%E8%A6%81%E6%B8%85%E9%99%A4-Effect"><span class="toc-text">éœ€è¦æ¸…é™¤ Effect</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%A4%9A%E4%B8%AA-Effect"><span class="toc-text">ä½¿ç”¨å¤šä¸ª Effect</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Effect-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-text">Effect æ€§èƒ½ä¼˜åŒ–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useContext-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">useContext çš„ä½¿ç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useReducer"><span class="toc-text">useReducer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useCallback"><span class="toc-text">useCallback</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useMemo"><span class="toc-text">useMemo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useRef"><span class="toc-text">useRef</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useImperativeHandle"><span class="toc-text">useImperativeHandle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useLayoutEffect"><span class="toc-text">useLayoutEffect</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89-Hook"><span class="toc-text">è‡ªå®šä¹‰ Hook</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">æ‰“å°ç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Context-%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-text">Context è·å–æ•°æ®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%AA%97%E5%8F%A3%E6%BB%9A%E5%8A%A8%E4%BD%8D%E7%BD%AE"><span class="toc-text">è·å–çª—å£æ»šåŠ¨ä½ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8"><span class="toc-text">æœ¬åœ°å­˜å‚¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#redux-hooks"><span class="toc-text">redux hooks</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-store-%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-text">ä½¿ç”¨ store ä¸­çš„æ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#connect-%E5%AE%9E%E7%8E%B0"><span class="toc-text">connect å®ç°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hook-%E5%AE%9E%E7%8E%B0"><span class="toc-text">hook å®ç°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shallowEqual"><span class="toc-text">shallowEqual</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useId"><span class="toc-text">useId</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSR-%E5%90%8C%E6%9E%84%E5%BA%94%E7%94%A8"><span class="toc-text">SSR åŒæ„åº”ç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hydration"><span class="toc-text">Hydration</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useId-%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">useId çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useTransition"><span class="toc-text">useTransition</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useDeferredValue"><span class="toc-text">useDeferredValue</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="scoicon sco-map-line"></i><span>æœ€è¿‘å‘å¸ƒ</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/01/26/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/007_UI%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/001_UI%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" title="UIè‡ªåŠ¨åŒ–æµ‹è¯•"><img alt="UIè‡ªåŠ¨åŒ–æµ‹è¯•" src= "/img/loading.gif" data-lazy-src="https://tse3-mm.cn.bing.net/th/id/OIP-C.FjupsUlF0U4eTb-7NSK7VQHaEK?w=324&amp;h=182&amp;c=7&amp;r=0&amp;o=5&amp;pid=1.7"></a><div class="content"><a class="title" href="/2024/01/26/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/007_UI%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/001_UI%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" title="UIè‡ªåŠ¨åŒ–æµ‹è¯•">UIè‡ªåŠ¨åŒ–æµ‹è¯•</a><a class="article-recent_post_categories" href="/2024/01/26/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/007_UI%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/001_UI%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/">è½¯ä»¶æµ‹è¯•</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/26/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/006_%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/11_%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95-02/" title="æ€§èƒ½æµ‹è¯•åŸºç¡€02"><img alt="æ€§èƒ½æµ‹è¯•åŸºç¡€02" src= "/img/loading.gif" data-lazy-src="https://tse1-mm.cn.bing.net/th/id/OIP-C.n0oCh3l8SwuNaJd7YTGnbAHaEo?w=254&amp;h=180&amp;c=7&amp;r=0&amp;o=5&amp;pid=1.7"></a><div class="content"><a class="title" href="/2024/01/26/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/006_%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/11_%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95-02/" title="æ€§èƒ½æµ‹è¯•åŸºç¡€02">æ€§èƒ½æµ‹è¯•åŸºç¡€02</a><a class="article-recent_post_categories" href="/2024/01/26/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/006_%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/11_%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95-02/">è½¯ä»¶æµ‹è¯•</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/26/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/006_%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/11_%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95-01/" title="æ€§èƒ½æµ‹è¯•åŸºç¡€01"><img alt="æ€§èƒ½æµ‹è¯•åŸºç¡€01" src= "/img/loading.gif" data-lazy-src="https://tse2-mm.cn.bing.net/th/id/OIP-C.ZtthBYLzEnDQCcjKSvSD9gHaEo?w=273&amp;h=180&amp;c=7&amp;r=0&amp;o=5&amp;pid=1.7"></a><div class="content"><a class="title" href="/2024/01/26/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/006_%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/11_%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95-01/" title="æ€§èƒ½æµ‹è¯•åŸºç¡€01">æ€§èƒ½æµ‹è¯•åŸºç¡€01</a><a class="article-recent_post_categories" href="/2024/01/26/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/006_%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/11_%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95-01/">è½¯ä»¶æµ‹è¯•</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/26/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/005_%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/10_%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95_%E6%8E%A5%E5%8F%A3%E5%AF%B9%E8%B1%A1%E5%B0%81%E8%A3%85_%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6_%E5%85%A8%E9%87%8F%E5%AD%97%E6%AE%B5%E6%A0%A1%E9%AA%8C_%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/" title="æ¥å£å¯¹è±¡å°è£…"><img alt="æ¥å£å¯¹è±¡å°è£…" src= "/img/loading.gif" data-lazy-src="https://tse2-mm.cn.bing.net/th/id/OIP-C.28wuGV9jWB2_sq1WCmD7HAHaEK?w=304&amp;h=180&amp;c=7&amp;r=0&amp;o=5&amp;pid=1.7"></a><div class="content"><a class="title" href="/2024/01/26/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/005_%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/10_%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95_%E6%8E%A5%E5%8F%A3%E5%AF%B9%E8%B1%A1%E5%B0%81%E8%A3%85_%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6_%E5%85%A8%E9%87%8F%E5%AD%97%E6%AE%B5%E6%A0%A1%E9%AA%8C_%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/" title="æ¥å£å¯¹è±¡å°è£…">æ¥å£å¯¹è±¡å°è£…</a><a class="article-recent_post_categories" href="/2024/01/26/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/005_%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/10_%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95_%E6%8E%A5%E5%8F%A3%E5%AF%B9%E8%B1%A1%E5%B0%81%E8%A3%85_%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6_%E5%85%A8%E9%87%8F%E5%AD%97%E6%AE%B5%E6%A0%A1%E9%AA%8C_%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/">è½¯ä»¶æµ‹è¯•</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/26/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/005_%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/09_%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95_Requests%E5%BA%93_UnitTest%E6%A1%86%E6%9E%B6_%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C_%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/" title="æ¥å£æµ‹è¯•_Requestsåº“_UnitTestæ¡†æ¶_æ•°æ®åº“æ“ä½œ_æ—¥å¿—æ”¶é›†"><img alt="æ¥å£æµ‹è¯•_Requestsåº“_UnitTestæ¡†æ¶_æ•°æ®åº“æ“ä½œ_æ—¥å¿—æ”¶é›†" src= "/img/loading.gif" data-lazy-src="https://tse1-mm.cn.bing.net/th/id/OIP-C.9CeGYs4RfVcivCbpKRmJKwHaEK?w=328&amp;h=184&amp;c=7&amp;r=0&amp;o=5&amp;pid=1.7"></a><div class="content"><a class="title" href="/2024/01/26/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/005_%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/09_%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95_Requests%E5%BA%93_UnitTest%E6%A1%86%E6%9E%B6_%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C_%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/" title="æ¥å£æµ‹è¯•_Requestsåº“_UnitTestæ¡†æ¶_æ•°æ®åº“æ“ä½œ_æ—¥å¿—æ”¶é›†">æ¥å£æµ‹è¯•_Requestsåº“_UnitTestæ¡†æ¶_æ•°æ®åº“æ“ä½œ_æ—¥å¿—æ”¶é›†</a><a class="article-recent_post_categories" href="/2024/01/26/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/005_%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/09_%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95_Requests%E5%BA%93_UnitTest%E6%A1%86%E6%9E%B6_%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C_%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/">è½¯ä»¶æµ‹è¯•</a></div></div></div></div></div></div></main><footer id="footer"><div id="sco-footer-bar"><div class="footer-logo"><span class="scoicon">é¦–é¡µ</span></div><div class="footer-bar-description">æ¥è‡ªèœ—ç‰›æµªè¿¹å¤©æ¶¯ - å®é™è‡´è¿œï¼Œçƒ­çˆ±ç”Ÿæ´»ã€‚çš„æ–‡ç« </div><a class="footer-bar-link" href="/">äº†è§£æ›´å¤š</a></div><div id="footer_deal"><a class="deal_link" target="_blank" rel="noopener" href="https://github.com" title="Github"><i class="scoicon sco-bilibili-line"></i></a><a class="deal_link" href="mailto:1448623289@qq.com" title="Mail"><i class="scoicon sco-mail-line"></i></a><div class="footer_mini_logo" id="footer_mini_logo" title="è¿”å›é¡¶éƒ¨" onclick="sco.toTop()"><img src= "/img/loading.gif" data-lazy-src="https://bu.dusays.com/2023/11/08/654af68b25bb8.jpg" alt="è¿”å›é¡¶éƒ¨"></div><a class="deal_link" target="_blank" rel="noopener" href="https://space.bilibili.com" title="Bilibili"><i class="scoicon sco-bilibili-line"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://v.douyin.com" title="æŠ–éŸ³"><i class="scoicon sco-douyin-fill"></i></a></div><div id="sco-footer"><div class="footer-group"><h3 class="footer-title">å¯¼èˆª</h3><div class="footer-links"><a class="footer-item" href="/archives/" title="å½’æ¡£">å½’æ¡£</a><a class="footer-item" href="/categories/" title="åˆ†ç±»">åˆ†ç±»</a><a class="footer-item" href="/tags/" title="æ ‡ç­¾">æ ‡ç­¾</a></div></div><div class="footer-group"><h3 class="footer-title">æœåŠ¡</h3><div class="footer-links"><a class="footer-item" target="_blank" rel="noopener" href="https://aliyun.com/" title="é˜¿é‡Œäº‘">é˜¿é‡Œäº‘</a><a class="footer-item" target="_blank" rel="noopener" href="https://v6.51.la/" title="51laç»Ÿè®¡">51laç»Ÿè®¡</a><a class="footer-item" target="_blank" rel="noopener" href="https://tongji.baidu.com/" title="ç™¾åº¦ç»Ÿè®¡">ç™¾åº¦ç»Ÿè®¡</a></div></div><div class="footer-group"><h3 class="footer-title">æ”¯æŒ</h3><div class="footer-links"><a class="footer-item" href="/about/" title="æ‰“èµè®°å½•">æ‰“èµè®°å½•</a><a class="footer-item" target="_blank" rel="noopener" href="https://docs.wzsco.top/" title="æ–‡æ¡£">æ–‡æ¡£</a><a class="footer-item" target="_blank" rel="noopener" href="https://blog.wzsco.top/" title="æ¡ˆä¾‹">æ¡ˆä¾‹</a></div></div><div class="footer-group"><h3 class="footer-title">åè®®</h3><div class="footer-links"><a class="footer-item" href="/cookies/" title="Cookies">Cookies</a><a class="footer-item" href="/privacy/" title="ç”¨æˆ·åè®®">ç”¨æˆ·åè®®</a><a class="footer-item" href="/copyright/" title="ç‰ˆæƒåè®®">ç‰ˆæƒåè®®</a></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div class="copyright">Â© 2024 By&nbsp;<a class="footer-bar-link" href="/">snail289</a></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/DuoSco/hexo-theme-solitude">ä¸»é¢˜</a><a class="footer-bar-link cc" href="/copyright/"><i class="scoicon sco-copyright-line"></i><i class="scoicon sco-creative-commons-by-line"></i><i class="scoicon sco-creative-commons-nc-line"></i><i class="scoicon sco-creative-commons-nd-line"></i></a></div></div></div><div class="needEndHide" id="cookies-window"><div class="cookies-window-title">åè®®æé†’åŠ©æ‰‹</div><div class="cookies-window-content"><span class="cookies-tip">æŸ¥çœ‹æœ¬ç«™ä¸ºä½ çš„ä¸ªäººéšç§åšå‡ºçš„åŠªåŠ›</span><a class="cookies-link" href="/privacy/" title="æœ¬ç«™å¦‚ä½•ä¿æŠ¤ä½ çš„éšç§"><i class="scoicon sco-right-btn-fill"></i></a></div></div></footer></div><!-- inject body--><script src="https://cdn.bootcdn.net/ajax/libs/pjax/0.2.8/pjax.min.js"></script><script src="/lib/lazyload.min.js"></script><script src="/lib/snackbar.min.js"></script><script src="/lib/view-image.min.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/Swiper/9.2.4/swiper-bundle.min.js"></script><div id="js-pjax"><script id="config-diff">var PAGE_CONFIG = {
    is_post: true,
    is_page: false,
    is_home: false,
    page: 'post',
    toc: true,
    comment: false,
}
</script></div><!-- post-ai)--><script src="https://cdn.bootcdn.net/ajax/libs/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/meting/2.0.1/Meting.min.js"></script><script>const meting_api = 'https://api.injahow.cn/meting/?server=:server&type=:type&id=:id&auth=:auth&r=:r';
</script><script>const coverColorConfig = {
    mode: 'local',
    api: 'https://img2color.meuicat.com/api?img=',
    time: 43200000,
}</script><script src="/lib/cover-color.min.js"></script><!-- waterfall--><script src="/lib/waterfall.min.js"></script><!-- pjax--><script>let pjaxSelectors = [
    'title',
    '#body-wrap',
    '#site-config',
    'meta[name="description"]',
    '#js-pjax',
    'meta[property^="og:"]',
]

const pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
})

document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
})

document.addEventListener('pjax:complete', () => {
    window.refreshFn()
})

document.addEventListener('pjax:error', (e) => {
    if (e.request.status === 404) {
        pjax.loadUrl('/404.html')
    }
})</script><!-- music--><script src="/js/music.js"></script><!-- inject custom body--><script>console.log("body")</script><!-- search--><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><button class="search-close-button"><i class="scoicon sco-close-fill"></i></button></nav><div class="search-wrap"><div class="search-box"><input class="search-box-input" id="search-input" type="text" autocomplete="off" spellcheck="false" autocorrect="off" autocapitalize="off" placeholder="è¾“å…¥å…³é”®è¯å¿«é€ŸæŸ¥æ‰¾"></div><div id="search-results"></div><div id="search-pagination"></div><div id="search-tips"></div></div></div><div id="search-mask"></div></div><script src="/js/extend/search/local-search.js"></script><!-- music--><div class="needEndHide" id="nav-music" onclick="sco.musicToggle()"><div id="nav-music-hoverTips">éŸ³ä¹å·²æš‚åœ</div><meting-js id="8927329843" server="netease" type="playlist" mutex="true" preload="none" data-lrctype="0" order="random" theme="var(--sco-main)"></meting-js></div></body></html><script>const posts=["2024/01/26/è½¯ä»¶æµ‹è¯•/007_UIè‡ªåŠ¨åŒ–æµ‹è¯•/001_UIè‡ªåŠ¨åŒ–æµ‹è¯•/","2024/01/26/è½¯ä»¶æµ‹è¯•/006_æ€§èƒ½æµ‹è¯•/11_æ€§èƒ½æµ‹è¯•-02/","2024/01/26/è½¯ä»¶æµ‹è¯•/006_æ€§èƒ½æµ‹è¯•/11_æ€§èƒ½æµ‹è¯•-01/","2024/01/26/è½¯ä»¶æµ‹è¯•/005_æ¥å£æµ‹è¯•/10_æ¥å£æµ‹è¯•_æ¥å£å¯¹è±¡å°è£…_æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶_å…¨é‡å­—æ®µæ ¡éªŒ_æŒç»­é›†æˆ/","2024/01/26/è½¯ä»¶æµ‹è¯•/005_æ¥å£æµ‹è¯•/09_æ¥å£æµ‹è¯•_Requestsåº“_UnitTestæ¡†æ¶_æ•°æ®åº“æ“ä½œ_æ—¥å¿—æ”¶é›†/","2024/01/26/è½¯ä»¶æµ‹è¯•/005_æ¥å£æµ‹è¯•/08_æ¥å£æµ‹è¯•_Postmançš„ä½¿ç”¨/","2024/01/26/è½¯ä»¶æµ‹è¯•/005_æ¥å£æµ‹è¯•/07_æ¥å£æµ‹è¯•_æ¥å£æµ‹è¯•åŸºç¡€/","2024/01/25/è½¯ä»¶æµ‹è¯•/003_MySQL/004_MySQL_è¿ç»´ç¯‡/","2024/01/25/è½¯ä»¶æµ‹è¯•/003_MySQL/003_MySQL_è¿›é˜¶ç¯‡-02/","2024/01/25/è½¯ä»¶æµ‹è¯•/003_MySQL/002_MySQL_è¿›é˜¶ç¯‡-01/","2024/01/25/è½¯ä»¶æµ‹è¯•/003_MySQL/001_MySQL_åŸºç¡€ç¯‡/","2024/01/25/è½¯ä»¶æµ‹è¯•/002_Linux/001_Linux/","2024/01/25/è½¯ä»¶æµ‹è¯•/001_è½¯ä»¶æµ‹è¯•åŸºç¡€/01_è½¯ä»¶æµ‹è¯•åŸºç¡€_åˆ†ç±»_æ¨¡å‹_æµç¨‹_ç”¨ä¾‹_bugç®¡ç†/","2024/01/24/Webå‰ç«¯å¼€å‘/402_Webpack/40201_Webpack/","2024/01/24/Webå‰ç«¯å¼€å‘/401_TypeScript/40101_TypeScript/","2024/01/23/Webå‰ç«¯å¼€å‘/303_React/30305_React_Hooksè§£æ/","2024/01/23/Webå‰ç«¯å¼€å‘/303_React/30304_React_Router/","2024/01/23/Webå‰ç«¯å¼€å‘/303_React/30303_Redux/","2024/01/23/Webå‰ç«¯å¼€å‘/303_React/30302_React_è¿‡æ¸¡åŠ¨ç”»ä¸CSSæ ·å¼/","2024/01/23/Webå‰ç«¯å¼€å‘/303_React/30301_Reactæ ¸å¿ƒåŸºç¡€/","2024/01/23/Webå‰ç«¯å¼€å‘/302_Vue3/30207_Vue3_Vue3åŸç†/","2024/01/23/Webå‰ç«¯å¼€å‘/302_Vue3/30206_Vue3_è¿‡æ¸¡ä¸åŠ¨ç”»/","2024/01/23/Webå‰ç«¯å¼€å‘/302_Vue3/30205_Vue3_è‡ªå®šä¹‰æŒ‡ä»¤ä¸æ’ä»¶/","2024/01/23/Webå‰ç«¯å¼€å‘/302_Vue3/30204_Vue3_Pinia/","2024/01/23/Webå‰ç«¯å¼€å‘/302_Vue3/30203_Vue3_VueX/","2024/01/23/Webå‰ç«¯å¼€å‘/302_Vue3/30202_Vue3_Router/","2024/01/23/Webå‰ç«¯å¼€å‘/302_Vue3/30201_Vue3_åŸºç¡€æ ¸å¿ƒ/","2024/01/23/Webå‰ç«¯å¼€å‘/301_Vue2/30103_Vue2_VueX/","2024/01/23/Webå‰ç«¯å¼€å‘/301_Vue2/30102_Vue2_VueRouter/","2024/01/23/Webå‰ç«¯å¼€å‘/301_Vue2/30101_Vue2_Vue2Base/","2024/01/23/Webå‰ç«¯å¼€å‘/206_æ¨¡å—åŒ–/20601_ModuleJS/","2024/01/22/Webå‰ç«¯å¼€å‘/205_Git/20501_Git/","2024/01/21/Webå‰ç«¯å¼€å‘/204_Fetch/20401_Fetch/","2024/01/20/Webå‰ç«¯å¼€å‘/203_Axios/20301_Axios/","2024/01/19/Webå‰ç«¯å¼€å‘/106_JavaScripté«˜çº§/10509_JSä»£ç çš„æ‰§è¡ŒåŸç†/","2024/01/19/Webå‰ç«¯å¼€å‘/202_Promise/20201_Promise/","2024/01/18/Webå‰ç«¯å¼€å‘/201_Ajax/20101_Ajax/","2024/01/18/Webå‰ç«¯å¼€å‘/106_JavaScripté«˜çº§/10508_æµè§ˆå™¨æ‰§è¡Œè¿‡ç¨‹åŸç†/","2024/01/17/Webå‰ç«¯å¼€å‘/106_JavaScripté«˜çº§/10507_JS_ES6-ES13/","2024/01/16/Webå‰ç«¯å¼€å‘/105_JavaScript/10506_JS_BOM/","2024/01/15/Webå‰ç«¯å¼€å‘/105_JavaScript/10505_JS_DOM/","2024/01/14/Webå‰ç«¯å¼€å‘/105_JavaScript/10504_JS_Function/","2024/01/13/Webå‰ç«¯å¼€å‘/105_JavaScript/10503_JS_Object/","2024/01/12/Webå‰ç«¯å¼€å‘/105_JavaScript/10502_JS_Array/","2024/01/11/Webå‰ç«¯å¼€å‘/105_JavaScript/10501_JavaScript_Base/","2024/01/10/Webå‰ç«¯å¼€å‘/104_Less/10401_Less/","2024/01/09/Webå‰ç«¯å¼€å‘/103_ç§»åŠ¨ç«¯å¼€å‘/10304_Flex/","2024/01/08/Webå‰ç«¯å¼€å‘/103_ç§»åŠ¨ç«¯å¼€å‘/10303_Rem/","2024/01/07/Webå‰ç«¯å¼€å‘/103_ç§»åŠ¨ç«¯å¼€å‘/10302_Percent/","2024/01/06/Webå‰ç«¯å¼€å‘/103_ç§»åŠ¨ç«¯å¼€å‘/10301_WebMobileBase/","2024/01/05/Webå‰ç«¯å¼€å‘/102_HTML5_CSS3/10202_CSS3/","2024/01/04/Webå‰ç«¯å¼€å‘/102_HTML5_CSS3/10201_HTML5/","2024/01/03/Webå‰ç«¯å¼€å‘/101_HTML_CSS/10103_CSS/","2024/01/02/Webå‰ç«¯å¼€å‘/101_HTML_CSS/10102_HTML/","2024/01/01/Webå‰ç«¯å¼€å‘/101_HTML_CSS/10101_WebBase/"];function toRandomPost(){ pjax.loadUrl('/'+posts[Math.floor(Math.random()*posts.length)]); };</script>