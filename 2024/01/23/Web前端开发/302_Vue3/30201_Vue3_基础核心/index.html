<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Vue3_基础核心 | 蜗牛浪迹天涯</title><noscript>开启JavaScript才能访问本站哦~</noscript><link rel="icon" href="https://bu.dusays.com/2023/11/08/654af68b25bb8.jpg"><!-- index.css--><link rel="stylesheet" href="/css/index.css"><!-- inject head--><link rel="stylesheet" href="https://cdn3.codesign.qq.com/icons/7pOrz0WXB5ZWJPX/latest/iconfont.css"><link rel="stylesheet" href="/lib/snackbar.min.css"><!-- comment--><!-- pace 胶囊加载条(Capsule loading bar)--><script src="https://cdn.bootcdn.net/ajax/libs/pace/1.2.4/pace.min.js"></script><!-- search--><script src="https://cdn.bootcdn.net/ajax/libs/lunr.js/2.3.9/lunr.min.js"></script><!-- aplayer--><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/aplayer/1.10.1/APlayer.min.css"><!-- swiper--><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/Swiper/9.2.4/swiper-bundle.min.css"><!-- echarts--><script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.4.2/echarts.min.js"></script><!-- 灰色纪念日(Gray Anniversary)--><!-- Open Graph--><meta name="description" content="# Vue基础核心 邂逅VueJS认识Vue Vue (读音 &amp;#x2F;vjuː&amp;#x2F;，类似于 view ) 是一套用于构建用户界面的渐进式 JavaScript 框架。 官网 : https:&amp;#x2F;&amp;#x2F;cn.vuejs.org&amp;#x2F; 全称是 Vue.js 或者 Vuejs； 它基于标准 HTM"><!-- pwa--><script>(win => {
        win.saveToLocal = {
            set: function setWithExpiry(key, value, ttl) {
                if (ttl === 0)
                    return
                const now = new Date()
                const expiryDay = ttl * 86400000
                const item = {
                    value: value,
                    expiry: now.getTime() + expiryDay,
                }
                localStorage.setItem(key, JSON.stringify(item))
            },

            get: function getWithExpiry(key) {
                const itemStr = localStorage.getItem(key)

                if (!itemStr) {
                    return undefined
                }
                const item = JSON.parse(itemStr)
                const now = new Date()

                if (now.getTime() > item.expiry) {
                    localStorage.removeItem(key)
                    return undefined
                }
                return item.value
            }
        }

        const DarkModeStatus = localStorage.getItem('theme')
        if (DarkModeStatus !== null) {
            if (DarkModeStatus === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark')
            } else {
                document.documentElement.setAttribute('data-theme', 'light')
            }
        }

        const asideStatus = saveToLocal.get('aside-status')
        if (asideStatus !== undefined) {
            if (asideStatus === 'hide') {
                document.documentElement.classList.add('hide-aside')
            } else {
                document.documentElement.classList.remove('hide-aside')
            }
        }
    }
)(window)

console.log(
    "%c🔥 程序：Hexo | 主题：Hexo-Theme-Solitude | 作者：王卓Sco、亦封 | Github: https://github.com/DuoSco/Hexo-theme-solitude | 版本：v1.3.0 😄",
    "color: #fff; background: linear-gradient(-25deg, #a8edea, #fed6e3); padding: 8px 15px; border-radius: 8px; text-shadow: 2px 2px 4px white; color: black;"
);
</script><div><script src="/js/utils.js"></script><script src="/js/main.js"></script></div><!-- custom inject--><script>console.log("head")</script><!-- global head--><script>const GLOBAL_CONFIG = {
    root: '/',
    algolia: undefined,
    localsearch: {"preload":true,"path":"/search.xml"},
    runtime: '2024-01-01 00:00:00',
    lazyload: {
        enable: true,
        error: '/img/error_load.png'
    },
    hightlight: {
        enable: true,
        limit: 200,
        expand: false,
        copy: true,
    },
    lightbox: true,
    randomlinks: false,
    lang: {
        theme: {
            dark: '已切换至深色模式',
            light: '已切换至浅色模式',
        },
        copy: {
            success: '复制成功',
            error: '复制失败',
        },
        backtop: '返回顶部',
        time: {
            recent: '最近',
            yesterday: '昨天',
            berforeyesterday: '前天',
            daybefore: '天前',
            runtime: '天',
        },
        sayhello: {
            morning: `一日之计在于晨`,
            noon: `吃饱了才有力气干活`,
            afternoon: `集中精力，攻克难关`,
            night: `不要太劳累了，早睡更健康`,
            goodnight: `睡个好觉，保证精力充沛`,
        },
        search: {
            empty: '找不到你查询的内容：${query}',
            hit: '找到 ${hits} 条结果，用时 ${time} 毫秒',
            placeholder: '输入关键词快速查找',
        }
    },
    covercolor: {
        enable: true
    },
    comment: {
        enable: false,
        type: 'twikoo',
        commentBarrage: false,
        randomInfoStart: ["聪敏的","可爱的","美丽的"],
        randomInfoEnd: ["白菜","小可爱","小仙女"],
        twikoo: {
            url: '',
            accessToken: ''
        },
        waline: {
            url: '',
        }
    },
    rightside: {
        enable: false
    },
    ai:{
        enable: false,
        key: '',
        talk: '我是王卓Sco开发的摘要生成助理ScoGPT，ScoGPT在静态部署时进行摘要的撰写，并且在访客访问时通过ScoCorrection转译后的文本摘要实现工具。我在这里只负责已经生成的摘要显示，你无法与我直接沟通，但我可以回答一些预设的问题。',
        randomPost: false,
    },
    music:{
        enable: true,
    }
}</script><meta name="generator" content="Hexo 6.3.0"></head><body id="body"><!-- loading--><div id="loading-box" onclick="preloader.endLoading();" style="zoom:1"><div class="loading-bg"><img class="loading-img" src= "/img/loading.gif" data-lazy-src="https://bu.dusays.com/2023/11/08/654af68b25bb8.jpg" alt="loading image"></div></div><script>const preloader = {
    endLoading: () => {
        document.getElementById('loading-box').classList.add('loaded');
    },
    initLoading: () => {
        document.getElementById('loading-box').classList.remove('loaded');
    },
    removePaceDone: () => {
        document.getElementById('body').classList = 'pace-done';
    }
}
window.addEventListener('load', () => {
    preloader.endLoading();
});
window.addEventListener('pjax:send', () => {
    preloader.initLoading();
});
document.addEventListener('pjax:complete', () => {
    preloader.endLoading();
});</script><!-- console--><div id="console"><div class="close-btn" onclick="sco.hideConsole()"><i class="scoicon sco-close-fill"></i></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments" onclick="sco.hideConsole()"><div class="card-content"><div class="author-content-item-tips">互动</div><div class="author-content-item-title">最新评论</div></div><div class="aside-list"></div></div></div><div class="console-card-group-right"><div class="console-card tags" onclick="sco.hideConsole()"><div class="card-content"><div class="author-content-item-tips">标签</div><div class="author-content-item-title">寻找感兴趣的领域</div></div><div class="card-tag-cloud"></div></div><div class="console-card history" onclick="sco.hideConsole()"><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2024/')" href="javascript:void(0);"><span class="card-archive-list-date">2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">43</span><span class="card-archive-list-count-unit">篇</span></div></a></li></ul></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" onclick="sco.switchDarkMode()" title="昼夜切换" href="javascript:void(0);"><i class="scoicon sco-moon-clear-fill"></i></a></div><div class="console-btn-item" id="consoleHideAside"><a class="asideSwitch" onclick="sco.switchHideAside()" title="边栏显示控制" href="javascript:void(0);"><i class="scoicon sco-side-bar-fill"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="sco.musicToggle()"><a class="music-switch" title="音乐开关" href="javascript:void(0);"><i class="scoicon sco-disc-fill"></i></a></div></div><div class="console-mask" onclick="sco.hideConsole()"></div></div><!-- sidebar--><div id="sidebar" style="zoom: 1;"><div id="menu-mask" style="display: none;"></div><div id="sidebar-menus"><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" onclick="sco.switchDarkMode()" href="javascript:void(0);"><i class="scoicon sco-moon-clear-fill"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/DuoSco/Hexo-Theme-solitude" title="Solitude"><img class="back-menu-item-icon" src="https://bu.dusays.com/2023/11/08/654af68b25bb8.jpg" alt="项目"><span class="back-menu-item-text">Solitude</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文库</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="scoicon sco-folder-fill"></i><span>文章列表</span></a></li><li><a class="site-page child" href="/categories/"><i class="scoicon sco-checkbox-multiple-blank-fill"></i><span>全部分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="scoicon sco-price-tag-fill"></i><span>全部标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>友链</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/moments/"><i class="scoicon sco-wifi-fill"></i><span>鱼塘</span></a></li><li><a class="site-page child" href="/links/"><i class="scoicon sco-group-fill"></i><span>友情链接</span></a></li><li><a class="site-page child" href="javascript:travelling()"><i class="scoicon sco-gift-fill"></i><span>宝藏博主</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/equipment/"><i class="scoicon sco-laptop-line"></i><span>装备</span></a></li><li><a class="site-page child" href="/tlink/"><i class="scoicon sco-tools-fill"></i><span>工具箱</span></a></li><li><a class="site-page child" href="/music/"><i class="scoicon sco-laptop-line"></i><span>音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="scoicon sco-contacts-fill"></i><span>关于本站</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-widget card-tags card-archives card-webinfo card-allinfo"><div class="card-tag-cloud"></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav class="show" id="nav"><div id="nav-group"><div id="blog_name"><div class="back-home-button" tabindex="-1"><i class="back-home-button-icon scoicon sco-more-fill"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/DuoSco/Hexo-Theme-solitude" title="Solitude"><img class="back-menu-item-icon" src="https://bu.dusays.com/2023/11/08/654af68b25bb8.jpg" alt="项目"><span class="back-menu-item-text">Solitude</span></a></div></div></div></div><a id="site-name" href="/" title="返回博客主页" target="_self"><span class="scoicon">首页</span></a></div><div id="page-name-mask"><div id="page-name"><a id="page-name-text" onclick="sco.toTop()">Vue3_基础核心</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文库</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="scoicon sco-folder-fill"></i><span>文章列表</span></a></li><li><a class="site-page child" href="/categories/"><i class="scoicon sco-checkbox-multiple-blank-fill"></i><span>全部分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="scoicon sco-price-tag-fill"></i><span>全部标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>友链</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/moments/"><i class="scoicon sco-wifi-fill"></i><span>鱼塘</span></a></li><li><a class="site-page child" href="/links/"><i class="scoicon sco-group-fill"></i><span>友情链接</span></a></li><li><a class="site-page child" href="javascript:travelling()"><i class="scoicon sco-gift-fill"></i><span>宝藏博主</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/equipment/"><i class="scoicon sco-laptop-line"></i><span>装备</span></a></li><li><a class="site-page child" href="/tlink/"><i class="scoicon sco-tools-fill"></i><span>工具箱</span></a></li><li><a class="site-page child" href="/music/"><i class="scoicon sco-laptop-line"></i><span>音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="scoicon sco-contacts-fill"></i><span>关于本站</span></a></li></ul></div></div></div><div id="nav-left"></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button"><a class="site-page" href="https://www.travellings.cn/go.html" title="开往-友链接力" target="_blank"><i class="scoicon sco-train-line"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机一篇文章" href="javascript:void(0);"><i class="scoicon sco-signal-tower-fill"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索"><i class="scoicon sco-search-line"></i></a></div><div class="nav-button" id="nav-console"><a class="console_switchbutton" onclick="sco.showConsole()" title="中控台" href="javascript:void(0);"><i class="scoicon sco-dashboard-fill"></i></a></div><div class="nav-button" id="nav-totop" onclick="sco.toTop()"><a class="totopbtn"><i class="scoicon sco-arrow-up-line"></i><span id="percent">0</span></a></div><div id="toggle-menu"><a class="site-page"><i class="scoicon sco-menu-line"></i></a></div></div></div></nav><div class="coverdiv" id="coverdiv"><img class="nolazyload" id="post-cover" src="https://img0.baidu.com/it/u=970873607,346231305&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=640&amp;h=267" alt="Vue3_基础核心"></div><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original" title="该文章为原创文章，注意版权协议">原创</a><span class="post-meta-categories"><a class="post-meta-categories" href="/categories/Web前端开发/">Web前端开发</a></span><div class="tag_share"><div class="post-meta__tag-list"></div></div></div></div><h1 class="post-title">Vue3_基础核心</h1><div id="post-meta"><div class="meta-secondline"><span class="post-meta-date" title="meta_posted 2024-01-23 04:00:00"><i class="post-meta-icon scoicon sco-calendar-todo-fill"></i><time datetime="2024-01-22T20:00:00.000Z">2024-01-22T20:00:00.000Z</time></span><span class="post-meta-date" title="meta_updated 2024-01-28 13:53:28"><i class="post-meta-icon scoicon sco-refresh-line"></i><time datetime="2024-01-28T05:53:28.225Z">2024-01-28T05:53:28.225Z</time></span><span class="post-meta-wordcount"><i class="post-meta-icon scoicon sco-word-fill" title="文章字数"></i><span class="word-count">43.5k</span><span class="post-meta-separator"></span><i class="post-meta-icon scoicon sco-clock-fill" title="阅读耗时"></i><span>193 min</span></span><span class="post-meta-position" title="作者IP归属地为衡阳"><i class="post-meta-icon scoicon sco-map-pin-fill"></i><span>衡阳</span></span><a class="post-meta-pv" href="/2024/01/23/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/302_Vue3/30201_Vue3_%E5%9F%BA%E7%A1%80%E6%A0%B8%E5%BF%83/" title="文章热度"><i class="post-meta-icon scoicon sco-fire-fill"></i><span id="busuanzi_value_page_pv"><i class="scoicon sco-loading-line"></i></span></a></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><meta name="referrer" content="no-referrer" />
# Vue基础核心

<h2 id="邂逅VueJS"><a href="#邂逅VueJS" class="headerlink" title="邂逅VueJS"></a>邂逅VueJS</h2><h3 id="认识Vue"><a href="#认识Vue" class="headerlink" title="认识Vue"></a>认识Vue</h3><ul>
<li><strong>Vue (读音  &#x2F;vjuː&#x2F;，类似于 view ) 是一套用于构建用户界面的渐进式 JavaScript 框架</strong>。<ul>
<li>官网 : <a target="_blank" rel="noopener" href="https://cn.vuejs.org/">https://cn.vuejs.org/</a></li>
<li>全称是 Vue.js 或者 Vuejs；</li>
<li><strong>它基于标准 HTML、CSS 和 JavaScript 构建，并提供了一套声明式的、组件化的编程模型</strong>；</li>
<li>可以帮助你高效地开发用户界面，无论任务是简单还是复杂；</li>
</ul>
</li>
<li>什么是渐进式框架 :<ul>
<li><strong>表示我们可以在项目中一点点来引入和使用 Vue，而不一定需要全部使用 Vue 来开发整个项目</strong>；</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/72be4f4d02994663a02651e021d46a88" alt="1660797226523"></p>
<h3 id="vue的地位"><a href="#vue的地位" class="headerlink" title="vue的地位"></a>vue的地位</h3><ul>
<li>目前前端最流行的是三大框架：<strong>Vue 、 React 、 Angular</strong> 。</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/8519c256dfce44728dc25af30374f444" alt="1660797277942"></p>
<h3 id="框架的选择"><a href="#框架的选择" class="headerlink" title="框架的选择"></a>框架的选择</h3><ul>
<li><p>谁是最好的前端框架</p>
<ul>
<li>首先，这是一个敏感的话题，在很多地方都争论不休，就像很多人喜欢争论谁才是世界上最好的语言一样；</li>
<li>其次，争论这个话题是没有意义的，是一个争论不休的话题；</li>
</ul>
</li>
<li><p>我们从现实的角度，分析一下，学习哪一门语言更容易找到工作</p>
<ul>
<li>找后端的工作：优先推荐 <strong>Java</strong>、其次推荐 Go、再次推荐 Node（JavaScript），可能不推荐 PHP、C#；</li>
<li>找前端的工作：优先推荐 <strong>JavaScript（TypeScript）</strong>、其次 Flutter、再次 Android（Java、Kotlin）、iOS（OC、Swift）；</li>
<li>也有很多的其他方向：游戏开发、人工智能、算法工程师等等；</li>
</ul>
</li>
<li><p>那么，就前端来说，学习了 HTML、CSS、JavaScript，哪一个框架更容易找到工作？</p>
<ul>
<li>如果去国外找工作，优先推荐 React、其次是 Vue 和 Angular；</li>
<li>如果在国内找工作，<strong>优先推荐且必须学习 Vue，其次是 React，再其次是 Angular</strong>；</li>
</ul>
</li>
<li><p>学好 Vue 你一定可以找到一份满意的前端工作,如果你没有掌握 Vue,很难找到一份满意的前端工作</p>
</li>
</ul>
<h3 id="Vue版本的选择"><a href="#Vue版本的选择" class="headerlink" title="Vue版本的选择"></a>Vue版本的选择</h3><ul>
<li><p>在 2020 年的 9 月 19 日，万众期待的 Vue3 终于发布了正式版，命名为 “One Piece”。相对于 Vue2 ,  Vue3 具有以下优点 :</p>
<ul>
<li><strong>更好的性能；</strong></li>
<li><strong>更小的包体积；</strong></li>
<li><strong>更好的 TypeScript 集成；</strong></li>
<li><strong>更优秀的 API 设计。</strong></li>
</ul>
</li>
<li><p>那么现在是否是学习 vue3 的时间呢</p>
<ul>
<li>答案是肯定的</li>
<li><strong>Vue3 目前已经是稳定的版本，并且 Vue3 在 2022 年 2 月 7 日已经成为默认安装版本；</strong></li>
<li>目前社区也经过一定时间的沉淀，更加的完善了，包括 AntDesignVue、Element-Plus 都提供了对 Vue3 的支持，所以很多公司目前新的项目都已经在使用 Vue3 来进行开发了。</li>
<li>并且在面试的时候，几乎都会问到各种各样 Vue3 相关的问题；</li>
</ul>
</li>
</ul>
<h3 id="devtool插件的安装"><a href="#devtool插件的安装" class="headerlink" title="devtool插件的安装"></a>devtool插件的安装</h3><ul>
<li>devtool 插件推荐下载地址:<ul>
<li>极简插件 : <a target="_blank" rel="noopener" href="https://chrome.zzzmh.cn/##/search">https://chrome.zzzmh.cn/##/search</a></li>
</ul>
</li>
</ul>
<h3 id="VSCode代码片段"><a href="#VSCode代码片段" class="headerlink" title="VSCode代码片段"></a>VSCode代码片段</h3><ul>
<li><p>有些代码片段是需要经常写的，我们在 VSCode 中我们可以生成一个代码片段，方便我们快速生成。</p>
</li>
<li><p>VSCode 中的代码片段有固定的格式，所以我们一般会借助于一个在线工具来完成。</p>
</li>
<li><p>具体的步骤如下：</p>
<ul>
<li>第一步，复制自己需要生成代码片段的代码；</li>
<li>第二步，访问 <a target="_blank" rel="noopener" href="https://snippet-generator.app/">https://snippet-generator.app/</a> ,在该网站中生成代码片段；</li>
<li>第三步，在 VSCode 中配置代码片段；<ul>
<li>设置 - 配置用户代码片段 - html.json&#x2F;vue.json - 逗号分隔,粘贴网站中生成的代码片段</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Vue的基本使用"><a href="#Vue的基本使用" class="headerlink" title="Vue的基本使用"></a>Vue的基本使用</h2><h3 id="Vue的引入方式"><a href="#Vue的引入方式" class="headerlink" title="Vue的引入方式"></a>Vue的引入方式</h3><ul>
<li><p>Vue 的本质，就是一个 JavaScript 的库：</p>
<ul>
<li>刚开始我们不需要把它想象的非常复杂；</li>
<li>我们就把它理解成一个已经帮助我们封装好的库；</li>
<li>在项目中可以引入并且使用它即可。</li>
</ul>
</li>
<li><p>那么安装和使用 Vue 这个 JavaScript 库有哪些方式呢</p>
<ul>
<li>方式一：在页面中通过 CDN 的方式来引入；</li>
<li>方式二：下载 Vue 的 JavaScript 文件，并且自己手动通过 script 标签引入；</li>
<li>方式三：<strong>通过 npm 包管理工具安装使用</strong><ul>
<li>该方式也是后期项目开发时使用的方式</li>
<li>NPM 包管理工具的使用在 webpack 有讲述；</li>
</ul>
</li>
<li>方式四：直接通过 Vue CLI 创建项目，并且使用它；<ul>
<li>该方式也是后期项目开发时使用的方式</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="CDN引入"><a href="#CDN引入" class="headerlink" title="CDN引入"></a>CDN引入</h4><ul>
<li>Vue 的 CDN 引入 : <ul>
<li>在 Vue 官网 或者 BootCDN(<a target="_blank" rel="noopener" href="https://www.bootcdn.cn/">https://www.bootcdn.cn/</a>) 可以获取 CDN 地址</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- CDN 引入 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 01 创建 Vue 实例对象</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">template</span>: <span class="string">`&lt;h2&gt;Hello World&lt;/h2&gt;&lt;span&gt;呵呵呵&lt;/span&gt;`</span></span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 02 挂载</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="本地下载引入"><a href="#本地下载引入" class="headerlink" title="本地下载引入"></a>本地下载引入</h4><ul>
<li>可以直接打开 CDN 的链接下载 Vue 的源码：<ul>
<li>打开链接，复制其中所有的代码；</li>
<li>创建一个新的文件，比如 vue.js，将代码粘贴到其中；</li>
<li>通过 script 标签，引入刚才的文件：</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">template</span>: <span class="string">`&lt;h1&gt;Hello Vue&lt;/h1&gt;`</span></span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Vue-初体验"><a href="#Vue-初体验" class="headerlink" title="Vue 初体验"></a>Vue 初体验</h3><h4 id="动态展示数据"><a href="#动态展示数据" class="headerlink" title="动态展示数据"></a>动态展示数据</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 01 创建 vue 实例对象</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">template</span>: <span class="string">`&lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;`</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;你好啊, Vue3&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 02 挂载</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="展示列表数据"><a href="#展示列表数据" class="headerlink" title="展示列表数据"></a>展示列表数据</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 01 创建 vue 实例对象</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">template</span>: <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        &lt;ul&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">          &lt;li v-for=&quot;item in movies&quot; :key=&quot;item&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        &lt;/ul&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">      `</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;电影列表&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">movies</span>: [<span class="string">&quot;大话西游&quot;</span>, <span class="string">&quot;星际穿越&quot;</span>, <span class="string">&quot;盗梦空间&quot;</span>, <span class="string">&quot;少年派&quot;</span>, <span class="string">&quot;飞驰人生&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 02 挂载</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="计数器功能实现"><a href="#计数器功能实现" class="headerlink" title="计数器功能实现"></a>计数器功能实现</h4><ul>
<li>计数器案例的实现方法一 :</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 01 创建 vue 实例对象</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 模板</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">template</span>: <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        &lt;h2&gt;当前计数: &#123;&#123;counter&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        &lt;button @click=&quot;increment&quot;&gt;+1&lt;/button&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        &lt;button @click=&quot;decrement&quot;&gt;-1&lt;/button&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">      `</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 数据</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">counter</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 方法</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">increment</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">counter</span>++</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">decrement</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">counter</span>--</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 02 挂载</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>计数器案例实现的方法二:<ul>
<li>若创建 vue 实例对象时传递的配置对象中没有 template 模板选项, 就会将 <code>div#app</code> 容器中的代码作为模板渲染</li>
<li>若创建 vue 实例对象时传递的配置对象中有 template 模板选项,就会将 template 模板选项作为模板渲染, <code>div#app</code> 容器中的代码会被 template 模板覆盖<ul>
<li>在刷新页面时出现短暂的  mustache 语法, 出现的原因以及处理方法, 见 v-clock 指令章节</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前计数: &#123;&#123;counter&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;decrement&quot;</span>&gt;</span>-1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 01 创建 vue 实例对象</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 数据</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">counter</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 方法</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">increment</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">counter</span>++</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">decrement</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">counter</span>--</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 02 挂载</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>计算器案例的原生 JS 实现<ul>
<li>HTML DOM 对象的 textContent 属性用于设置或返回指定节点及其所有后代的文本内容。此属性与 nodeValue 属性非常相似，但此属性返回所有子节点的文本。</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前计数: <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;counter&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;sub&quot;</span>&gt;</span>-1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.获取dom</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> counterEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.counter&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> addBtnEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.add&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> subBtnEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.sub&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.定义一个变量记录数据</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> counter = <span class="number">100</span></span></span><br><span class="line"><span class="language-javascript">    counterEl.<span class="property">textContent</span> = counter <span class="comment">// 将数据放到页面中</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.监听按钮的点击更新数据</span></span></span><br><span class="line"><span class="language-javascript">    addBtnEl.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      counter++ <span class="comment">// 更新数据</span></span></span><br><span class="line"><span class="language-javascript">      counterEl.<span class="property">textContent</span> = counter <span class="comment">// 将数据放到页面中</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    subBtnEl.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      counter-- <span class="comment">// 更新数据</span></span></span><br><span class="line"><span class="language-javascript">      counterEl.<span class="property">textContent</span> = counter <span class="comment">// 将数据放到页面中</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="编程范式"><a href="#编程范式" class="headerlink" title="编程范式"></a>编程范式</h3><ul>
<li>原生开发和 Vue 开发的模式和特点，我们会发现是完全不同的，这里其实涉及到两种不同的编程范式：<ul>
<li><strong>命令式编程</strong>和<strong>声明式编程</strong>；</li>
<li>命令式编程关注的是 “how to do” 自己完成整个 how 的过程；</li>
<li>声明式编程关注的是 “what to do”，由框架(机器)完成 “how” 的过程；</li>
</ul>
</li>
<li>在原生的实现过程中，我们是如何操作的呢<ul>
<li>我们每完成一个操作，都需要通过 JavaScript 编写一条代码，来给浏览器一个指令；</li>
<li>这样的编写代码的过程，我们称之为<strong>命令式编程</strong>；</li>
<li>在早期的原生 JavaScript 和 jQuery 开发的过程中，我们都是通过这种命令式的方式在编写代码的；</li>
</ul>
</li>
<li>在 Vue 的实现过程中，我们是如何操作的呢？<ul>
<li>我们会在 createApp 传入的对象中声明需要的内容，比如模板 template、数据 data、方法 methods 等等；</li>
<li>这样的编写代码的过程，我们称之为是<strong>声明式编程</strong>；</li>
<li>目前 Vue、React、Angular、小程序的编程模式，我们称之为声明式编程；</li>
</ul>
</li>
</ul>
<h3 id="MVVM模型"><a href="#MVVM模型" class="headerlink" title="MVVM模型"></a>MVVM模型</h3><ul>
<li>MVC 和 MVVM 都是一种软件的体系结构<ul>
<li>MVC 是 Model – View –Controller 的简称，是在前期被使用非常广泛的架构模式，比如 iOS、前端</li>
<li>MVVM 是 Model-View-ViewModel 的简称，是目前非常流行的架构模式</li>
</ul>
</li>
<li>通常情况下，我们也经常称 Vue 是一个 MVVM 的框架<ul>
<li>Vue 官方其实有说明，<strong>Vue 虽然并没有完全遵守 MVVM 的模型，但是整个设计是受到它的启发的。</strong></li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/5b35edf26ac7483088649cde2e909ecb" alt="1660802961303"></p>
<h3 id="data属性"><a href="#data属性" class="headerlink" title="data属性"></a>data属性</h3><ul>
<li><p>data 属性是一个函数，并且该函数需要返回一个对象：</p>
<ul>
<li>在 Vue2.x 的时候，也可以是一个对象（但是官方推荐是一个函数）</li>
<li><strong>在 Vue3.x 的时候，必须是一个函数，否则就会直接在浏览器中报错；</strong></li>
</ul>
</li>
<li><p><strong>data 中返回的对象会被 Vue 的响应式系统劫持，之后对该对象的修改或者访问都会在劫持中被处理</strong></p>
<ul>
<li>所以我们在 template 或者 app 中通过 <code>&#123;&#123;counter&#125;&#125;</code> ，就可以从 data 对象中直接获取到数据</li>
<li>所以我们修改 counter 的值时，data 中的 <code>counter</code> 也会发生改变, 进而引入页面的重新渲染, 即<strong>数据驱动页面的更新</strong></li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeMessage&quot;</span>&gt;</span>改变message<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 数据</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;Hello Data&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 方法</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">changeMessage</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&quot;你好, 师姐!&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="methods属性"><a href="#methods属性" class="headerlink" title="methods属性"></a>methods属性</h3><ul>
<li>methods 属性是一个对象，通常我们会在这个对象中定义很多的方法：<ul>
<li>这些方法可以被绑定到模板中；</li>
<li><strong>在 methods 对象中定义的方法，我们可以使用 this 关键字来直接访问到 data 中返回的对象的属性；</strong></li>
</ul>
</li>
<li>对于有经验的同学，在这里我提一个问题，官方文档有这么一段描述：<ul>
<li>问题一：为什么不能使用箭头函数（官方文档有给出解释）<ul>
<li>因为我们在 methods 中要使用 data 返回的对象中的数据：<ul>
<li>那么这个 this 是必须有值的，并且应该可以通过 this 获取到 data 返回的对象中的数据。</li>
</ul>
</li>
<li>那么我们这个 this 能不能是 window 呢<ul>
<li>不可以是 window，因为 window 中我们无法获取到 data 返回对象中的数据；</li>
<li>但是<strong>如果我们使用箭头函数，那么这个 this 就会是 window 了</strong>；</li>
<li><strong>事实上 Vue 的源码当中就是对 methods 中的所有函数进行了遍历，并且通过 bind 绑定了 this</strong> , (箭头函数都没有 this , 自然没有修改 this 指向的说法)</li>
</ul>
</li>
</ul>
</li>
<li>问题二：不使用箭头函数的情况下，this 到底指向的是什么（可以作为一道面试题）<ul>
<li><strong>官网的解释</strong> : methods 将被混入到 Vue 实例中。可以直接通过 VM 实例访问这些方法，或者在指令表达式中使用。<strong>方法中的 this 自动绑定指向为 Vue 实例对象</strong>。 </li>
<li><strong>官网的解释</strong> : 注意，<strong>不应该使用箭头函数来定义 method 函数</strong> (例如 <code>plus: () =&gt; this.a++</code>)。理由是<strong>箭头函数绑定了父级作用域的上下文</strong>，所以 <code>this</code> 将不会按照期望指向 Vue 实例，<code>this.a</code> 将是 undefined。 </li>
<li>为什么是 window 呢<ul>
<li>这里涉及到箭头函数使用 this 的查找规则，它会在自己的上层作用域中来查找 this；</li>
<li>最终刚好找到的是 script 作用域中的 this，所以就是 window；</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/39597aa8a959451d8e8bd90570711686" alt="1660821570206"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 01 创建 vue 实例对象</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">counter</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="attr">increment</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// Proxy &#123;increment: ƒ, …&#125; , 当前的 app 实例对象</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">counter</span>++</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">decrement</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// window , 使用的是箭头函数,则 this 指向为 window</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 02 挂载</span></span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="模板语法"><a href="#模板语法" class="headerlink" title="模板语法"></a>模板语法</h2><h3 id="模板语法-1"><a href="#模板语法-1" class="headerlink" title="模板语法"></a>模板语法</h3><ul>
<li>React 的开发模式：<ul>
<li>React 使用的 jsx，所以对应的代码都是编写的类似于 js 的一种语法；</li>
<li>之后通过 Babel 将 jsx 编译成 React.createElement 函数调用；</li>
</ul>
</li>
<li>Vue 也支持 jsx 的开发模式（后续有时间也会讲到）：<ul>
<li>但是大多数情况下，使用基于 HTML 的模板语法；</li>
<li>在模板中，允许开发者以声明式的方式将 DOM 和底层组件实例的数据绑定在一起；</li>
<li><strong>在底层的实现中，Vue 将模板编译成虚拟 DOM 渲染函数</strong>，这个我会在后续给大家讲到；</li>
</ul>
</li>
</ul>
<h3 id="插值语法"><a href="#插值语法" class="headerlink" title="插值语法"></a>插值语法</h3><ul>
<li>如果我们希望把数据显示到模板（template）中，使用最多的语法是 <strong>“Mustache” 语法</strong> (双大括号) 的文本插值。<ul>
<li>并且我们前面提到过，data 返回的对象是有添加到 Vue 的响应式系统中的；<ul>
<li><strong>当 data 中的数据发生改变时，模板会重新渲染, 对应的内容也会发生更新。</strong></li>
</ul>
</li>
<li>当然，Mustache 中不仅仅可以是 data 中的属性，也可以是一个 JavaScript 的表达式。</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 1.基本使用 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前计数: &#123;&#123; counter &#125;&#125; <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 2.表达式 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>计数双倍: &#123;&#123; counter * 2 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>展示的信息: &#123;&#123; info.split(&quot; &quot;) &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 3.三元运算符 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; age &gt;= 18? &quot;成年人&quot;: &quot;未成年人&quot; &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 4.调用methods中函数,并将 data 中的数据作为参数传递 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; formatDate(time) &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 5.注意: 这里不能定义语句,否则会报错 --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;h2&gt;&#123;&#123; const name = &quot;why&quot; &#125;&#125;&lt;/h2&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 数据</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">message</span>: <span class="string">&quot;Hello Vue&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">counter</span>: <span class="number">100</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">info</span>: <span class="string">&quot;my name is why&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">age</span>: <span class="number">22</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">time</span>: <span class="number">123</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 方法</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 事件回调并传递参数</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">formatDate</span>: <span class="keyword">function</span>(<span class="params">date</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="string">&quot;2022-10-10-&quot;</span> + date</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">  app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="指令语法"><a href="#指令语法" class="headerlink" title="指令语法"></a>指令语法</h2><h3 id="v-once"><a href="#v-once" class="headerlink" title="v-once"></a>v-once</h3><ul>
<li>v-once 用于指定元素或者组件只渲染一次<ul>
<li>当数据发生变化时，元素或者组件以及其所有的子元素将视为静态内容并且跳过,不再重新渲染</li>
<li>如果是子节点，也是只会渲染一次</li>
<li><strong>该指令可以用于性能优化</strong></li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 指令: v-once --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-once</span>&gt;</span></span><br><span class="line">      &#123;&#123; message &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>数字: &#123;&#123;counter&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeMessage&quot;</span>&gt;</span>改变message<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;Hello Vue&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">counter</span>: <span class="number">100</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">changeMessage</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&quot;你好啊, 李银河&quot;</span></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">counter</span> += <span class="number">100</span></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">message</span>, <span class="variable language_">this</span>.<span class="property">counter</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h3><ul>
<li>用于更新元素的 textContent</li>
<li>如果 v-text 所在的标签内部还有内容,则会被 v-text 绑定的值覆盖,并会报警告 : Template compilation error: v-text will override element children</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span> aa &#123;&#123;message&#125;&#125; bbb<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- v-text --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-text</span>=<span class="string">&quot;message&quot;</span>&gt;</span>aaa<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;Hello Vue&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="v-html"><a href="#v-html" class="headerlink" title="v-html"></a>v-html</h3><ul>
<li>默认情况下，如果我们展示的内容本身是 html 的，那么 vue 并不会对其进行特殊的解析。<ul>
<li>如果我们希望这个内容被 Vue 可以解析出来，那么可以使用 v-html 来展示；</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; content &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-html</span>=<span class="string">&quot;content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">content</span>: <span class="string">`&lt;span style=&quot;color: red; font-size: 30px;&quot;&gt;哈哈哈&lt;/span&gt;`</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="v-pre"><a href="#v-pre" class="headerlink" title="v-pre"></a>v-pre</h3><ul>
<li>v-pre 用于跳过元素和它的子元素的编译过程，显示原始的 Mustache 标签：<ul>
<li>跳过不需要编译的节点，加快编译的速度；</li>
<li><strong>该指令可以用于性能优化</strong></li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-pre</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>当前计数: &#123;&#123; counter &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;Hello Vue&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">counter</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="v-cloak"><a href="#v-cloak" class="headerlink" title="v-cloak"></a>v-cloak</h3><ul>
<li>这个指令保持在元素上直到关联组件实例结束编译。</li>
<li>存在的一种现象: 当模板编译未完成时,会在页面中显示 Mustache 标签<ul>
<li><strong>造成的原因</strong>: CDN 引入的 Vue 加载延时,或者延时加载 Vue 等原因 ,导致模板的编译迟缓,进而导致在页面中出现 Mustache 标签</li>
<li><strong>解决方法</strong> : 和 CSS 规则如 <code>[v-cloak] &#123; display: none &#125;</code> 一起用时，这个指令可以隐藏未编译的 Mustache 标签直到组件实例准备完毕。<ul>
<li>当模板编译完毕时, Vue 内部就会自动去掉 v-cloak 属性</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-attr">[v-cloak]</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-cloak</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">message</span>: <span class="string">&quot;Hello Vue&quot;</span></span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#125;)</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">      app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;, <span class="number">3000</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="v-memo"><a href="#v-memo" class="headerlink" title="v-memo"></a>v-memo</h3><ul>
<li>Vue3.2 新增的指令</li>
<li><strong>只有 v-memo 指定的数据发生变化时,v-memo 指令所在的结构才会被重新渲染</strong></li>
<li><strong>官网解释</strong>:  为了实现缓存，该指令需要传入一个固定长度的依赖值数组进行比较。如果数组里的每个值都与最后一次的渲染相同，那么整个子树的更新将被跳过。 </li>
<li><strong>该指令可以用于性能优化</strong></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 只有指定的数据中任意一个发生变化时,v-memo 指令所在的结构才会重新渲染 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-memo</span>=<span class="string">&quot;[name, age]&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>姓名: &#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>年龄: &#123;&#123; age &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>身高: &#123;&#123; height &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是 P 中的 : &#123;&#123;height&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateInfo&quot;</span>&gt;</span>改变信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="string">&quot;why&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">age</span>: <span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">height</span>: <span class="number">1.88</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">updateInfo</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// this.name = &quot;kobe&quot;</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// this.age = 20</span></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">height</span> = <span class="number">2.1</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="v-bind"><a href="#v-bind" class="headerlink" title="v-bind"></a>v-bind</h3><h4 id="v-bind的作用"><a href="#v-bind的作用" class="headerlink" title="v-bind的作用"></a>v-bind的作用</h4><ul>
<li><p>前面讲的一系列指令，主要是将值插入到模板内容中。</p>
</li>
<li><p>但是，除了内容需要动态来决定外，某些属性我们也希望动态来绑定。</p>
<ul>
<li>比如动态绑定 a 元素的 href 属性；</li>
<li>比如动态绑定 img 元素的 src 属性；</li>
</ul>
</li>
<li><p>绑定属性我们使用 v-bind：</p>
</li>
<li><p>缩写：<code>:</code></p>
</li>
<li><p>预期：any (with argument) | Object (without argument)</p>
</li>
<li><p>参数：attrOrProp (optional)</p>
</li>
<li><p>修饰符：</p>
<ul>
<li>.camel : 将 kebab-case attribute 名转换为 camelCase。</li>
</ul>
</li>
<li><p>用法：动态地绑定一个或多个 attribute，或一个组件 prop 到表达式。</p>
</li>
</ul>
<h4 id="绑定基本属性"><a href="#绑定基本属性" class="headerlink" title="绑定基本属性"></a>绑定基本属性</h4><ul>
<li><p><strong>v-bind 用于绑定一个或多个属性值，或者向另一个组件传递 props 值</strong>（这个学到组件时再介绍）；</p>
</li>
<li><p>在开发中，有哪些属性需要动态进行绑定呢</p>
<ul>
<li>还是有很多的，比如<code>图片的链接 src、网站的链接 href、动态绑定一些类、样式</code>等等</li>
</ul>
</li>
<li><p>v-bind 有一个对应的语法糖，也就是简写方式。</p>
</li>
<li><p>在开发中，我们通常会使用语法糖的形式，因为这样更加简洁。</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;switchImage&quot;</span>&gt;</span>切换图片<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 1.绑定img的src属性 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-bind:src</span>=<span class="string">&quot;showImgUrl&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 语法糖: v-bind  : --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;showImgUrl&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 2.绑定a的href属性 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;href&quot;</span>&gt;</span>百度一下<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">imgUrl1</span>: <span class="string">&quot;http://p1.music.126.net/agGc1qkogHtJQzjjyS-kAA==/109951167643767467.jpg&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">imgUrl2</span>: <span class="string">&quot;http://p1.music.126.net/_Q2zGH5wNR9xmY1aY7VmUw==/109951167643791745.jpg&quot;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">showImgUrl</span>: <span class="string">&quot;http://p1.music.126.net/_Q2zGH5wNR9xmY1aY7VmUw==/109951167643791745.jpg&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">href</span>: <span class="string">&quot;http://www.baidu.com&quot;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">switchImage</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">showImgUrl</span> = <span class="variable language_">this</span>.<span class="property">showImgUrl</span> === <span class="variable language_">this</span>.<span class="property">imgUrl1</span> ? <span class="variable language_">this</span>.<span class="property">imgUrl2</span>: <span class="variable language_">this</span>.<span class="property">imgUrl1</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">  app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="绑定-class-介绍"><a href="#绑定-class-介绍" class="headerlink" title="绑定 class 介绍"></a>绑定 class 介绍</h4><ul>
<li>在开发中，有时候我们的元素 class 也是动态的，比如：<ul>
<li>当数据为某个状态时，字体显示红色。</li>
<li>当数据另一个状态时，字体显示黑色。</li>
</ul>
</li>
<li>绑定 class 有两种方式：<ul>
<li>对象语法</li>
<li>数组语法</li>
</ul>
</li>
</ul>
<h4 id="绑定-class-对象写法"><a href="#绑定-class-对象写法" class="headerlink" title="绑定 class 对象写法"></a>绑定 class 对象写法</h4><ul>
<li>对象语法：我们可以传给 <code>:class</code> (v-bind:class 的简写) 一个对象，以动态地切换 class。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 1.基本绑定class --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;classes&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 2.动态class 三目运算符 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">:class</span>=<span class="string">&quot; isActive ? &#x27;active&#x27;: &#x27;&#x27; &quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>我是按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 2.1.对象语法的基本使用(掌握) --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">:class</span>=<span class="string">&quot;&#123; active: isActive &#125;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>我是按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 2.2.对象语法的多个键值对 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">:class</span>=<span class="string">&quot;&#123; active: isActive, why: true, kobe: false &#125;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>我是按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 2.3.动态绑定的class是可以和普通的class同时的使用,类名会进行合并 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;abc cba&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123; active: isActive, why: true, kobe: false &#125;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>我是按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 2.4.动态绑定的class是一个对象,并且该对象是函数调用后的返回值,类名会进行合并 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;abc cba&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;getDynamicClasses()&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>我是按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">classes</span>: <span class="string">&quot;abc cba nba&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">isActive</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">className</span>: <span class="string">&quot;why&quot;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">btnClick</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">isActive</span> = !<span class="variable language_">this</span>.<span class="property">isActive</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">getDynamicClasses</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123; <span class="attr">active</span>: <span class="variable language_">this</span>.<span class="property">isActive</span>, <span class="attr">why</span>: <span class="literal">true</span>, <span class="attr">kobe</span>: <span class="literal">false</span> &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">  app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="绑定-class-数组写法"><a href="#绑定-class-数组写法" class="headerlink" title="绑定 class 数组写法"></a>绑定 class 数组写法</h4><ul>
<li>数组语法：我们可以把一个数组传给 <code>:class</code>，以应用一个 class 列表<ul>
<li>注意: 数组中的变量如果加了引号,将会成为一个普通的类名,不加引号作为变量使用,即可通过 Vue 实例管理</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 3.动态class可以写数组语法(了解) , 若加引号会成为字符串普通类名,不再是变量--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;[&#x27;abc&#x27;, &#x27;cba&#x27;]&quot;</span>&gt;</span>Hello Array<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;[&#x27;abc&#x27;, className]&quot;</span>&gt;</span>Hello Array<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;[&#x27;abc&#x27;, className, isActive? &#x27;active&#x27;: &#x27;&#x27;]&quot;</span>&gt;</span>Hello Array<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;[&#x27;abc&#x27;, className, &#123; active: isActive &#125;]&quot;</span>&gt;</span>Hello Array<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">   <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">   <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">     <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">         <span class="attr">isActive</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">         <span class="attr">className</span>: <span class="string">&quot;why&quot;</span></span></span><br><span class="line"><span class="language-javascript">       &#125;</span></span><br><span class="line"><span class="language-javascript">     &#125;,</span></span><br><span class="line"><span class="language-javascript">   &#125;)</span></span><br><span class="line"><span class="language-javascript">   <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">   app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"> </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="绑定-style-介绍"><a href="#绑定-style-介绍" class="headerlink" title="绑定 style 介绍"></a>绑定 style 介绍</h4><ul>
<li>我们可以利用 <code>v-bind:style</code> 来绑定一些 CSS 内联样式：<ul>
<li>这次因为某些样式我们需要根据数据动态来决定；</li>
<li>比如某段文字的颜色，大小等等；</li>
</ul>
</li>
<li>CSS property 名可以用驼峰式 (camelCase) 或短横线分隔 (kebab-case，记得用引号括起来) 来命名；</li>
<li>绑定 class 有两种方式：<ul>
<li>对象语法</li>
<li>数组语法</li>
</ul>
</li>
</ul>
<h4 id="绑定-style-对象写法"><a href="#绑定-style-对象写法" class="headerlink" title="绑定 style 对象写法"></a>绑定 style 对象写法</h4><ul>
<li>v-bind 绑定 style 的对象写法:<ul>
<li>绑定的对象中的 key 为 CSS 的样式名,某些样式名需要用驼峰命名</li>
<li>绑定的对象中的 value 为 CSS 的样式值,若有单位,则需要注意拼接单位</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 1.普通的html写法 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&quot;color: red; font-size: 30px;&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 2.style中的某些值, 来自data中 --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 2.1.动态绑定style, 在后面跟上 对象类型 (重要) --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-bind:style</span>=<span class="string">&quot;&#123; color: fontColor, fontSize: fontSize + &#x27;px&#x27; &#125;&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 2.2.动态的绑定属性, 这个属性是一个对象 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;objStyle&quot;</span>&gt;</span>呵呵呵呵<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">fontColor</span>: <span class="string">&quot;blue&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">fontSize</span>: <span class="number">30</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">objStyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">fontSize</span>: <span class="string">&#x27;50px&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">color</span>: <span class="string">&quot;green&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">  app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="绑定-style-数组写法"><a href="#绑定-style-数组写法" class="headerlink" title="绑定 style 数组写法"></a>绑定 style 数组写法</h4><ul>
<li>:style 的数组语法可以将多个样式对象应用到同一个元素上；<ul>
<li>数组中的元素是一个个对象,对象的 key 和 value 分别对应 CSS 的样式名和样式值,注意某些样式名要用驼峰命名</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 3. style 的数组语法 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;[objStyle, &#123; backgroundColor: &#x27;purple&#x27; &#125;]&quot;</span>&gt;</span>嘿嘿嘿嘿<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">   <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">   <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">     <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">         <span class="attr">objStyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">           <span class="attr">fontSize</span>: <span class="string">&#x27;50px&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">           <span class="attr">color</span>: <span class="string">&quot;green&quot;</span></span></span><br><span class="line"><span class="language-javascript">         &#125;</span></span><br><span class="line"><span class="language-javascript">       &#125;</span></span><br><span class="line"><span class="language-javascript">     &#125;,</span></span><br><span class="line"><span class="language-javascript">   &#125;)</span></span><br><span class="line"><span class="language-javascript">   <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">   app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"> </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="绑定属性名"><a href="#绑定属性名" class="headerlink" title="绑定属性名"></a>绑定属性名</h4><ul>
<li>在某些情况下，我们属性的名称可能也不是固定的：<ul>
<li>前面我们无论绑定 src、href、class、style，属性名称都是固定的；</li>
<li>如果属性名称不是固定的，我们可以使用<code>:[属性名]=&quot;值&quot;</code>的格式来定义；</li>
<li>这种绑定的方式，我们称之为动态绑定属性</li>
</ul>
</li>
<li>动态绑定属性名, 该属性名来自 data 中<ul>
<li><code>[ ]</code> 中的变量不能使用驼峰命名,不能包含大写字母,多个字段可以通过下划线分隔,但是不能以下划线开头</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:</span>[<span class="attr">name</span>]=<span class="string">&quot;&#x27;aaaa&#x27;&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="string">&quot;class&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="绑定对象作为属性"><a href="#绑定对象作为属性" class="headerlink" title="绑定对象作为属性"></a>绑定对象作为属性</h4><ul>
<li>如果我们希望将一个对象的所有属性，绑定到元素上的所有属性，应该怎么做呢？<ul>
<li>非常简单，我们可以直接使用 v-bind 绑定一个 对象；v-bind 也可以直接使用简写( <code>:</code> )形式</li>
<li>绑定的 infos 对象的 key 和 value 会被拆解成标签的各个属性和对应的属性值</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">:age</span>=<span class="string">&quot;age&quot;</span> <span class="attr">:height</span>=<span class="string">&quot;height&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- v-bind绑定对象: 给组件传递参数,此处 v-bind 也可以直接使用简写( : )形式,--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-bind</span>=<span class="string">&quot;infos&quot;</span>&gt;</span>Hello Bind<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">infos</span>: &#123; <span class="attr">name</span>: <span class="string">&quot;why&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">height</span>: <span class="number">1.88</span>, <span class="attr">address</span>: <span class="string">&quot;广州市&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="string">&quot;why&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">age</span>: <span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">height</span>: <span class="number">1.88</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a>v-on</h3><h4 id="v-on-的介绍"><a href="#v-on-的介绍" class="headerlink" title="v-on 的介绍"></a>v-on 的介绍</h4><ul>
<li>前面我们绑定了元素的内容和属性，在前端开发中另外一个非常重要的特性就是<strong>交互</strong>。</li>
<li>在前端开发中，我们需要经常和用户进行各种各样的交互：<ul>
<li>这个时候，我们就必须监听用户发生的事件，比如点击、拖拽、键盘事件等等</li>
<li>在 Vue 中如何监听事件呢？<strong>使用 v-on 指令进行事件绑定</strong>。</li>
</ul>
</li>
</ul>
<h4 id="v-on的基本使用"><a href="#v-on的基本使用" class="headerlink" title="v-on的基本使用"></a>v-on的基本使用</h4><ul>
<li>v-on 的基本使用</li>
<li>v-on 的语法糖写法</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.基本的写法 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">v-on:click</span>=<span class="string">&quot;divClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2.语法糖写法(重点掌握) --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;divClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">counter</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">divClick</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;divClick&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>可以在 v-on 指令所在的标签中直接写事件回调处理程序</li>
<li>v-on 指令绑定其他事件类型</li>
<li>v-on 绑定多个事件类型及其回调</li>
<li>v-on 绑定多个事件类型以对象的形式存在</li>
<li>v-on 绑定多个事件类型以对象的形式存在时的简写</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 3.绑定的方法位置, 也可以写成一个表达式(不常用, 不推荐) --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; counter &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;counter++&quot;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;counter--&quot;</span>&gt;</span>-1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 4.绑定其他方法(掌握) --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> @<span class="attr">mousemove</span>=<span class="string">&quot;divMousemove&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 5.1元素绑定多个事件(掌握) --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;divClick&quot;</span> @<span class="attr">mousemove</span>=<span class="string">&quot;divMousemove&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 5.2 v-on 绑定的事件及其回调以对象的形式存在,对象的 key 和 value ,分别对应事件类型和事件回调--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">v-on</span>=<span class="string">&quot;&#123; click: divClick, mousemove: divMousemove &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 5.3 v-on 的简写: @ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> @=<span class="string">&quot;&#123; click: divClick, mousemove: divMousemove &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">counter</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">divClick</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;divClick&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">divMousemove</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;divMousemove&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="v-on-传递参数"><a href="#v-on-传递参数" class="headerlink" title="v-on 传递参数"></a>v-on 传递参数</h4><ul>
<li>当通过 methods 中定义方法，以供 @click 调用时，需要注意参数问题：</li>
<li>情况一：如果该方法不需要额外参数，那么方法后的<code>()</code>可以不添加, 即使不添加括号,也会默认将事件对象 event 传递到回调函数中。<ul>
<li>但是注意：如果回调方法本身中有一个形参，那么该形参会默认接收原生事件对象 event , 当然如果不需要使用事件对象 event ,可以不写形参</li>
</ul>
</li>
<li>情况二：如果需要同时传入某个参数，同时需要 event 时，可以通过 $event 传入事件回调。<ul>
<li>建议在模板中传递参数时, <code>$event</code> 放到所有实参的最前面,在回调函数中,事件对象 evnet 放到所有形参的最前面</li>
<li>当然,不管事件对象放到那个位置,都会按实参与形参从左到右依次匹配传递</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.默认传递event对象 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn1Click&quot;</span>&gt;</span>按钮1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2.只有自己的参数 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn2Click(&#x27;why&#x27;, age)&quot;</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 3. event 对象和自己的参数, 在模板中想要明确的获取 event 对象: $event --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn3Click( $event,&#x27;why&#x27;, age)&quot;</span>&gt;</span>按钮3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;Hello Vue&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">age</span>: <span class="number">18</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 1.默认参数: event对象, 如果在绑定事件的时候, 没有传递任何的参数, 那么 event 对象会被默认传递进来</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">btn1Click</span>(<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;btn1Click:&quot;</span>, event)</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 2.明确参数:</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">btn2Click</span>(<span class="params">name, age</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;btn2Click:&quot;</span>, name, age)</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 3.event对象 和 明确参数</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">btn3Click</span>(<span class="params">event, name, age</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;btn3Click:&quot;</span>, event, name, age,)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="v-on-的事件修饰符"><a href="#v-on-的事件修饰符" class="headerlink" title="v-on 的事件修饰符"></a>v-on 的事件修饰符</h4><ul>
<li>v-on 支持修饰符，修饰符相当于对事件进行了一些特殊的处理：<ul>
<li><code>.stop</code>  阻止事件冒泡,相当于调用 event.stopPropagation()。</li>
<li><code>.prevent</code>  阻止事件的默认行为,相当于调用 event.preventDefault()。</li>
<li><code>.capture</code> 添加事件侦听器时使用 capture 捕获模式。</li>
<li><code>.self</code>  只当事件是从侦听器绑定的元素本身触发时才触发回调。</li>
<li><code>.&#123;keyAlias&#125;</code>  仅当事件是从特定键触发时才触发回调。</li>
<li><code>.once</code>  只触发一次回调。</li>
<li><code>.left</code> 只当点击鼠标左键时触发。</li>
<li><code>.right</code> 只当点击鼠标右键时触发。</li>
<li><code>.middle</code> 只当点击鼠标中键时触发。</li>
<li><code>.passive</code> { passive: true } 模式添加侦听器</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;divClick&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 添加 .stop 事件修饰符,阻止事件冒泡--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.stop</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="v-if"><a href="#v-if" class="headerlink" title="v-if"></a>v-if</h3><h4 id="条件渲染介绍"><a href="#条件渲染介绍" class="headerlink" title="条件渲染介绍"></a>条件渲染介绍</h4><ul>
<li>在某些情况下，我们需要根据当前的条件决定某些元素或组件是否渲染，这个时候我们就需要进行条件判断了。</li>
<li>Vue 提供了下面的指令来进行条件判断：<ul>
<li>v-if</li>
<li>v-else</li>
<li>v-else-if</li>
<li>v-show</li>
</ul>
</li>
<li>下面我们来对它们进行学习。</li>
</ul>
<h4 id="v-if-v-else"><a href="#v-if-v-else" class="headerlink" title="v-if&#x2F;v-else"></a>v-if&#x2F;v-else</h4><ul>
<li><p>v-if、v-else、v-else-if 用于根据条件来渲染某一块的内容：</p>
<ul>
<li>这些内容只有在条件为 true 时，才会被渲染出来；</li>
<li>这三个指令与 JavaScript 的条件语句 if、else、else if 类似；</li>
</ul>
</li>
<li><p>v-if 的渲染原理：</p>
<ul>
<li>v-if 是惰性的；</li>
<li>当条件为 false 时，其判断的内容完全不会被渲染或者会被销毁；</li>
<li>当条件为 true 时，才会真正渲染条件块中的内容；</li>
</ul>
</li>
<li><p>v-if</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Object.keys(info).length : 由 info 对象的属性组成的数组的长度.  </span></span><br><span class="line"><span class="comment">		Object.keys(info):由 info 对象的属性组成的数组 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;Object.keys(info).length&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>个人信息<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>姓名: &#123;&#123;info.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>年龄: &#123;&#123;info.age&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>v-if &#x2F; v-else<ul>
<li><strong>v-if 与 v-else 两个指令之间,不能有别的标签中断 v-if &#x2F; v-else 逻辑结构, 否则会报警告,且两个结构都会渲染</strong></li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">v-if</span>=<span class="string">&quot;names.length &gt; 0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in names&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-else</span>&gt;</span>当前names没有数据, 请求获取数据后展示<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- v-if=&quot;条件&quot; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;Object.keys(info).length&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>个人信息<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>姓名: &#123;&#123;info.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>年龄: &#123;&#123;info.age&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- v-else,  v-if 与 v-else 两个指令之间,不能有别的标签中断 v-if / v-else 逻辑结构,否则会报警告,且两个结构都会渲染--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>没有输入个人信息<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>请输入个人信息后, 再进行展示~<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>v-if &#x2F; v-else-if &#x2F; v-else<ul>
<li>同样, v-if 逻辑结构不能被其他标签中断</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">&quot;score &gt; 90&quot;</span>&gt;</span>优秀<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-else-if</span>=<span class="string">&quot;score &gt; 80&quot;</span>&gt;</span>良好<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-else-if</span>=<span class="string">&quot;score &gt;= 60&quot;</span>&gt;</span>及格<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h4</span> <span class="attr">v-else</span>&gt;</span>不及格<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="template元素"><a href="#template元素" class="headerlink" title="template元素"></a>template元素</h4><ul>
<li>因为 v-if 是一个指令，所以必须将其添加到一个元素上：<ul>
<li>但是如果我们希望切换的是多个元素呢？</li>
<li>此时我们渲染 div，但是我们并不希望 div 这种元素被渲染,因为会渲染一个多余无用的 div 结构；</li>
<li>这个时候，我们可以选择使用 template 标签；</li>
</ul>
</li>
<li>template 元素可以当做不可见的包裹元素，并且在 v-if 上使用，但是最终 <strong>template 不会被渲染出来</strong>：<ul>
<li>有点类似于小程序中的 block</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- v-if=&quot;条件&quot; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;Object.keys(info).length&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>个人信息<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>姓名: &#123;&#123;info.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>年龄: &#123;&#123;info.age&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- v-else --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>没有输入个人信息<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>请输入个人信息后, 再进行展示~<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>案例: 图片的显示与隐藏</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 02 给按钮添加点击事件 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;toggle&quot;</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 04 变量,用于控制显示与隐藏--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;isShowCode&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://game.gtimg.cn/images/yxzj/web201706/images/comm/floatwindow/wzry_qrcode.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 01 准备一个变量,用于控制显示与隐藏</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">isShowCode</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 03 按钮点击事件的回调,将变量取反</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">toggle</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">isShowCode</span> = !<span class="variable language_">this</span>.<span class="property">isShowCode</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="v-show"><a href="#v-show" class="headerlink" title="v-show"></a>v-show</h3><h4 id="v-show的基本使用"><a href="#v-show的基本使用" class="headerlink" title="v-show的基本使用"></a>v-show的基本使用</h4><ul>
<li>v-show 和 v-if 的用法看起来是一致的，也是根据一个条件决定是否显示元素或者组件</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- 通过 isShowCode 变量控制结构的显示与隐藏--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;isShowCode&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://game.gtimg.cn/images/yxzj/web201706/images/comm/floatwindow/wzry_qrcode.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="v-if与v-show的区别"><a href="#v-if与v-show的区别" class="headerlink" title="v-if与v-show的区别"></a>v-if与v-show的区别</h4><ul>
<li>首先，在用法上的区别：<ul>
<li><strong>v-show 是不支持 template 标签</strong>, 因为 template 标签不会渲染到页面中,自然就不能给 template 标签添加行内样式 display:”block&#x2F;none”；</li>
<li>v-show 不可以和 v-else 一起使用；</li>
</ul>
</li>
<li>其次，本质的区别：<ul>
<li><strong>v-show 元素无论是否需要显示到浏览器上，它的 DOM 实际都是有存在的，只是通过给标签添加行内样式 display:” block&#x2F;none” 来进行切换；</strong></li>
<li><strong>v-if 当条件为 false 时，其对应的标签结构压根不会被渲染到 DOM 中；</strong></li>
</ul>
</li>
<li>开发中如何进行选择呢？<ul>
<li>如果我们的元素结构需要在显示和隐藏之间频繁的切换，那么使用 v-show；</li>
<li>如果不会频繁的发生切换，那么使用 v-if；</li>
</ul>
</li>
</ul>
<h3 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h3><h4 id="v-for的介绍"><a href="#v-for的介绍" class="headerlink" title="v-for的介绍"></a>v-for的介绍</h4><ul>
<li>在真实开发中，我们往往会从服务器拿到一组数据，并且需要对其进行渲染。<ul>
<li>这个时候我们可以使用 v-for 来完成；</li>
</ul>
</li>
<li>v-for 类似于 JavaScript 的 for 循环，可以用于遍历一组数据；</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/38b1f99ce3a44c1ca9078e23f8a8f33c" alt="1660907567054"></p>
<h4 id="v-for基本使用"><a href="#v-for基本使用" class="headerlink" title="v-for基本使用"></a>v-for基本使用</h4><ul>
<li>v-for 的基本格式是 <code>&quot;item in 数组&quot;</code>：<ul>
<li>数组通常是来自 data 或者 prop，也可以是其他方式；</li>
<li>item 是我们给每项元素起的一个别名，这个别名可以自定义；</li>
</ul>
</li>
<li>我们知道，在遍历一个数组的时候会经常需要拿到数组的索引：<ul>
<li>如果我们需要索引，可以使用格式：<code> &quot;(item, index) in 数组&quot;</code>；</li>
<li>注意上面的顺序：数组元素项 item 是在前面的，索引项 index 是在后面的, 有先后的顺序区别；</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.电影列表进行渲染  movie 就是 movies 数组中的每一个元素 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>电影列表<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;movie in movies&quot;</span>&gt;</span>&#123;&#123; movie &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2.电影列表同时有索引, movie 和 index 就是 movies 数组中的每一个元素及其对应的下标索引值 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(movie, index) in movies&quot;</span>&gt;</span>&#123;&#123;index + 1&#125;&#125; - &#123;&#123; movie &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 3.遍历数组复杂数据, item 就是 products 数组中的每一个元素,该元素均为一个对象 ,开发常用 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>商品列表<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;item in products&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>商品: &#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>价格: &#123;&#123;item.price&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>秒杀: &#123;&#123;item.desc&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 1.movies</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">movies</span>: [<span class="string">&quot;星际穿越&quot;</span>, <span class="string">&quot;少年派&quot;</span>, <span class="string">&quot;大话西游&quot;</span>, <span class="string">&quot;哆啦A梦&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 2.数组: 存放的是对象</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">products</span>: [</span></span><br><span class="line"><span class="language-javascript">            &#123; <span class="attr">id</span>: <span class="number">110</span>, <span class="attr">name</span>: <span class="string">&quot;Macbook&quot;</span>, <span class="attr">price</span>: <span class="number">9.9</span>, <span class="attr">desc</span>: <span class="string">&quot;9.9秒杀, 快来抢购!&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123; <span class="attr">id</span>: <span class="number">111</span>, <span class="attr">name</span>: <span class="string">&quot;iPhone&quot;</span>, <span class="attr">price</span>: <span class="number">8.8</span>, <span class="attr">desc</span>: <span class="string">&quot;9.9秒杀, 快来抢购!&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123; <span class="attr">id</span>: <span class="number">112</span>, <span class="attr">name</span>: <span class="string">&quot;小米电脑&quot;</span>, <span class="attr">price</span>: <span class="number">9.9</span>, <span class="attr">desc</span>: <span class="string">&quot;9.9秒杀, 快来抢购!&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="v-for-遍历其他类型"><a href="#v-for-遍历其他类型" class="headerlink" title="v-for 遍历其他类型"></a>v-for 遍历其他类型</h4><ul>
<li>v-for 也支持遍历对象，并且支持 一个 或 二个 或 三个参数：<ul>
<li>一个参数： <code>&quot;value in object&quot;</code> , 参数 value 为对象的属性对应的属性值</li>
<li>二个参数：<code> &quot;(value, key) in object&quot;</code> , 第一个参数为 object 对象的属性对应的属性值, 第二个参数是对象的属性 </li>
<li>三个参数： <code>&quot;(value, key, index) in object&quot;</code> , 三个参数依次分别为 : value值  key属性  index索引</li>
</ul>
</li>
<li>v-for 同时也支持数字的遍历：<ul>
<li>每一个 item 都是一个数字, 数字从 1 开始递增 1</li>
</ul>
</li>
<li>v-for 也可以遍历其他可迭代对象( Iterable )</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 2.遍历对象 , 同样参数也有先后循序的区别,三个参数分别为 : value值 key属性 index索引 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value, key, index) in info&quot;</span>&gt;</span>&#123;&#123;key&#125;&#125;-&#123;&#123;value&#125;&#125;-&#123;&#123;index&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 3.遍历字符串(iterable) ,每一项 item 都是一个字符,包括空格--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in message&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 4.遍历数字 每一项 item 都是数字,数字从 1 开始递增 1--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in 100&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">info</span>: &#123; <span class="attr">name</span>: <span class="string">&quot;why&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">height</span>: <span class="number">1.88</span> &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">  app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="v-for-与-template"><a href="#v-for-与-template" class="headerlink" title="v-for 与 template"></a>v-for 与 template</h4><ul>
<li>类似于 v-if，你可以使用 template 元素来循环渲染一段包含多个元素的内容<ul>
<li>如果 div 没有实际的意义, 那么可以使用 template 替换</li>
<li>我们使用 template 来对多个元素进行包裹，而不是使用 div 来完成</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-for</span>=<span class="string">&quot;(value, key, index) in infos&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;value&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">strong</span>&gt;</span>&#123;&#123;key&#125;&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span>&gt;</span>&#123;&#123;index&#125;&#125;<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">infos</span>: &#123; <span class="attr">name</span>: <span class="string">&quot;why&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">height</span>: <span class="number">1.88</span> &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>v-for 中 key 的作用</p>
<ul>
<li>在使用 v-for 进行列表渲染时，我们通常会给元素或者组件绑定一个 key 属性。</li>
<li>这个 key 属性有什么作用呢？我们先来看一下官方的解释：<ul>
<li><strong>key 属性主要用在 Vue 的虚拟 DOM 算法，在新旧 nodes 对比时辨识 VNodes</strong> ；</li>
<li><strong>如果不使用 key，Vue 会使用一种最大限度减少动态元素并且尽可能的尝试就地修改&#x2F;复用相同类型元素的算法</strong>；</li>
<li><strong>而使用 key 时，它会基于 key 的变化重新排列元素顺序，并且会移除&#x2F;销毁 key 不存在的元素</strong>；</li>
</ul>
</li>
</ul>
<h4 id="认识VNode虚拟节点"><a href="#认识VNode虚拟节点" class="headerlink" title="认识VNode虚拟节点"></a>认识VNode虚拟节点</h4><ul>
<li>我们先来解释一下 VNode 的概念：<ul>
<li>因为目前我们还没有比较完整的学习组件的概念，所以目前我们先理解 HTML 元素创建出来的 VNode；</li>
<li>VNode 的全称是 Virtual Node，也就是<strong>虚拟节点</strong>；</li>
<li>事实上，无论是组件还是元素，它们最终在 Vue 中表示出来的都是一个个 VNode；</li>
<li><strong>VNode 的本质是一个 JavaScript 的一般对象,对象中的各个属性用于描述要生成的真实 DOM 节点；</strong></li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/79a9c0cd5b8445b4bac09f90355e190b" alt="1660912490480"></p>
<h4 id="认识虚拟DOM"><a href="#认识虚拟DOM" class="headerlink" title="认识虚拟DOM"></a>认识虚拟DOM</h4><ul>
<li>如果我们不只是一个简单的 div，而是有一大堆的元素，那么它们应该会形成一个 VNode Tree,并能通过虚拟 DOM 渲染出不同平台的代码</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/7777bbb049864cb8817e2066edf60a73" alt="1660912652676"></p>
<h4 id="列表插入数据案例"><a href="#列表插入数据案例" class="headerlink" title="列表插入数据案例"></a>列表插入数据案例</h4><ul>
<li><p>我们先来看一个案例：这个案例是当我点击按钮时会在列表中间插入一个 f；</p>
</li>
<li><p>我们可以确定的是，这次更新对于 ul 和 button 是不需要进行更新，需要更新的是我们 li 的列表：</p>
<ul>
<li>在 Vue 中，对于相同父元素的子元素节点并不会重新渲染整个列表；</li>
<li>因为对于列表中 a、b、c、d 它们都是没有变化的；</li>
<li>在操作真实 DOM 的时候，我们只需要在中间插入一个 f 的 li 即可；</li>
</ul>
</li>
<li><p>那么 Vue 中对于列表的更新究竟是如何操作的呢？</p>
<ul>
<li>Vue 事实上会对于有 key 和没有 key 会调用两个不同的方法；<ul>
<li>有 key，那么就使用 patchKeyedChildren 方法；</li>
<li>没有 key，那么就使用 patchUnkeyedChildren 方法；</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;insertF&quot;</span>&gt;</span>插入f<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- key 要求是唯一: id --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in letters&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">letters</span>: [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">insertF</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">letters</span>.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">0</span>, <span class="string">&quot;f&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>没有 key 时的过程如下:<ul>
<li>对于 c 和 d 来说, 它们事实上并不需要有任何的改动；</li>
<li>但是因为我们的 c 被 f 所使用了，所有后续所有的内容都要进行一次改动，并且最后还需要进行新增一个字母；</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/5be0555220ae4344afebe5e984c5aed0" alt="1660913107879"></p>
<ul>
<li>有 key 时的 diff 算法如下:</li>
<li>第一步的操作是从头开始进行遍历、比较：<ul>
<li>a 和 b 是一致的会继续进行比较；</li>
<li>c 和 f 因为 key 不一致，所以就会 break 跳出循环；</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/ad24a7bd39a647efbe8f6da3d00dc765" alt="1660913292071"></p>
<ul>
<li>第二步的操作是从尾部开始进行遍历、比较 key 值是否相同：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/c7134bc51b074b6c91fa4bfd8ad49699" alt="1660913302742"></p>
<ul>
<li>第三步是如果旧节点遍历完毕，但是依然有新的节点，那么就会新增节点：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/8f5fa237a1ca488a90444b08c9f70c5b" alt="1660913371627"></p>
<ul>
<li>第四步是如果新的节点遍历完毕，但是依然有旧的节点，那么就移除旧节点：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/c1eb3aaa3b1e48afac1d08dc031a9911" alt="1660913378512"></p>
<ul>
<li>第五步是最特色的情况，中间还有很多未知的或者乱序的节点：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/e747458e2a6041aa878d468b53853453" alt="1660913439809"></p>
<ul>
<li>所以我们可以发现，Vue 在进行 diff 算法的时候，会尽量利用我们的 key 来进行优化操作：<ul>
<li>在没有 key 的时候我们的效率是非常低效的；</li>
<li>在进行插入或者重置顺序的时候，保持相同新旧虚拟 DOM 的 key , 可以让 diff 算法更加的高效</li>
</ul>
</li>
</ul>
<h2 id="数组的响应式方法"><a href="#数组的响应式方法" class="headerlink" title="数组的响应式方法"></a>数组的响应式方法</h2><ul>
<li>Vue 将被侦听的数组的变更方法进行了包裹，所以它们也将会触发视图更新。</li>
<li>这些被包裹过的方法包括：<ul>
<li>push()</li>
<li>pop()</li>
<li>shift()</li>
<li>unshift()</li>
<li>splice()</li>
<li>sort()</li>
<li>reverse()</li>
</ul>
</li>
<li>替换数组的方法<ul>
<li>上面的方法会直接修改原来的数组；</li>
<li>但是某些方法不会替换原来的数组，而是会生成新的数组，比如 filter()、concat() 和 slice()；</li>
</ul>
</li>
<li>直接通过数组的索引值修改数组元素,在 Vue2 中不是响应式的, 但是在 vue 3 中是响应式的</li>
</ul>
<h2 id="数组的三个高阶方法"><a href="#数组的三个高阶方法" class="headerlink" title="数组的三个高阶方法"></a>数组的三个高阶方法</h2><h3 id="for…of-实现元素处理"><a href="#for…of-实现元素处理" class="headerlink" title="for…of 实现元素处理"></a>for…of 实现元素处理</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个数组</span></span><br><span class="line"><span class="keyword">const</span> nums = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">111</span>, <span class="number">222</span>, <span class="number">444</span>, <span class="number">40</span>, <span class="number">50</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 需求1: 取出所有小于 100 的数字</span></span><br><span class="line"><span class="keyword">let</span> newNums = []</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> nums) &#123;</span><br><span class="line">  <span class="keyword">if</span> (item &lt; <span class="number">100</span>) &#123;</span><br><span class="line">    newNums.<span class="title function_">push</span>(item)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newNums) <span class="comment">// [ 10, 20, 40, 50 ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 需求2: 在需求1的结果的基础上,将数组的每一项都乘以 2</span></span><br><span class="line"><span class="keyword">let</span> newNums2 = []</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> newNums) &#123;</span><br><span class="line">  newNums2.<span class="title function_">push</span>(item * <span class="number">2</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newNums2) <span class="comment">// [ 20, 40, 80, 100 ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 需求3: 在需求2的结果的基础上,将数组的每一项进行相加求和</span></span><br><span class="line"><span class="keyword">let</span> total = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> newNums2) &#123;</span><br><span class="line">  total = total + item</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(total) <span class="comment">//240</span></span><br></pre></td></tr></table></figure>

<h3 id="filter-方法"><a href="#filter-方法" class="headerlink" title="filter 方法"></a>filter 方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 需求1: 取出所有小于 100 的数字</span></span><br><span class="line"><span class="comment">// 需求2: 在需求1的结果的基础上,将数组的每一项都乘以 2</span></span><br><span class="line"><span class="comment">// 需求3: 在需求2的结果的基础上,将数组的每一项进行相加求和</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个数组</span></span><br><span class="line"><span class="keyword">const</span> nums = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">111</span>, <span class="number">222</span>, <span class="number">444</span>, <span class="number">40</span>, <span class="number">50</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 需求1: 取出所有小于 100 的数字</span></span><br><span class="line"><span class="comment">// filter 方法:</span></span><br><span class="line"><span class="comment">//   filter 中的回调函数,必须返回一个 Boolean 值</span></span><br><span class="line"><span class="comment">//          true : 当返回的是 true 时,函数内部会自动将这次回调的 item 加入到新的数组 nuwNums 中</span></span><br><span class="line"><span class="comment">//          false : 当返回的是 false 时,函数内部会过滤掉这次的 item</span></span><br><span class="line"><span class="comment">// 对数组 nums 进行遍历,数组中有多少个元素,就会执行多少次回调方法,形参 item 为遍历的数组中的每一项</span></span><br><span class="line"><span class="comment">// filter 方法返回一个新的数组</span></span><br><span class="line"><span class="keyword">let</span> nuwNums = nums.<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">item</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> item &lt; <span class="number">100</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nuwNums) <span class="comment">// [ 10, 20, 40, 50 ]</span></span><br></pre></td></tr></table></figure>

<h3 id="map-方法"><a href="#map-方法" class="headerlink" title="map 方法"></a>map 方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 需求2: 在需求1的结果的基础上,将数组的每一项都乘以 2</span></span><br><span class="line"><span class="comment">// map 方法:</span></span><br><span class="line"><span class="comment">//  对数组 nuwNums 进行遍历,数组中有多少个元素,就会执行多少次回调方法,形参 item 为遍历的数组中的每一项</span></span><br><span class="line"><span class="comment">//  新数组 newNum2 中的每一项,由 map 方法中的回调的返回值决定</span></span><br><span class="line"><span class="comment">// map 方法返回一个新的数组</span></span><br><span class="line"><span class="keyword">let</span> newNum2 = nuwNums.<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">item</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> item * <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newNum2) <span class="comment">//[ 20, 40, 80, 100 ]</span></span><br></pre></td></tr></table></figure>

<h3 id="reduce-方法"><a href="#reduce-方法" class="headerlink" title="reduce 方法"></a>reduce 方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 需求3: 在需求2的结果的基础上,将数组的每一项进行相加求和</span></span><br><span class="line"><span class="comment">// reduce 方法:</span></span><br><span class="line"><span class="comment">//    参数一: 遍历时执行的回调</span></span><br><span class="line"><span class="comment">//            回调中的形参 preValue: 第一次遍历时,值为初始值 0 , 即 reduce 方法的参数二,</span></span><br><span class="line"><span class="comment">//																以后每次遍历时,该值等于每次遍历时回调的返回值</span></span><br><span class="line"><span class="comment">//            回调中的形参 item : 为每次遍历数组时的每一项数组元素</span></span><br><span class="line"><span class="comment">//    参数二: 初始值</span></span><br><span class="line"><span class="comment">// 遍历的数组由多少项,就会执行多少次回调函数</span></span><br><span class="line"><span class="comment">// refuce 方法的返回值,由遍历完后的最后一次返回值决定</span></span><br><span class="line"><span class="keyword">let</span> total1 = newNum2.<span class="title function_">reduce</span>(<span class="keyword">function</span> (<span class="params">preValue, item</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> preValue + item</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(total1) <span class="comment">// 240</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="对以上方法的综合写法"><a href="#对以上方法的综合写法" class="headerlink" title="对以上方法的综合写法"></a>对以上方法的综合写法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个数组</span></span><br><span class="line"><span class="keyword">const</span> nums = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">111</span>, <span class="number">222</span>, <span class="number">444</span>, <span class="number">40</span>, <span class="number">50</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对以上三个需求的综合写法</span></span><br><span class="line"><span class="keyword">let</span> total2 = nums</span><br><span class="line">  .<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">item</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> item &lt; <span class="number">100</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">item</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> item * <span class="number">2</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">reduce</span>(<span class="keyword">function</span> (<span class="params">preValue, item</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> preValue + item</span><br><span class="line">  &#125;, <span class="number">0</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(total2) <span class="comment">// 240</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h2><h3 id="复杂数据的处理"><a href="#复杂数据的处理" class="headerlink" title="复杂数据的处理"></a>复杂数据的处理</h3><ul>
<li>我们知道，在模板中可以直接通过插值语法显示一些 data 中的数据。</li>
<li>但是在某些情况，我们可能需要对数据进行一些转化后再显示，或者需要将多个数据结合起来进行显示；<ul>
<li>比如我们需要对多个 data 数据进行运算、三元运算符来决定结果、数据进行某种转化后显示；</li>
<li>在模板中使用表达式，可以非常方便的实现，但是设计它们的初衷是用于简单的运算；</li>
<li>在模板中放入太多的逻辑会让模板过重和难以维护；</li>
<li>并且如果多个地方都使用到，那么会有大量重复的代码；</li>
</ul>
</li>
<li>我们有没有什么方法可以将逻辑抽离出去呢？<ul>
<li>可以，其中一种方式就是将逻辑抽取到一个 method 中，放到 methods 的 options 中；</li>
<li>但是，这种做法有一个直观的弊端，就是所有的 data 使用过程都会变成了一个方法的调用；</li>
<li>另外一种方式就是使用计算属性 computed；</li>
</ul>
</li>
</ul>
<h3 id="认识计算属性"><a href="#认识计算属性" class="headerlink" title="认识计算属性"></a>认识计算属性</h3><ul>
<li>什么是计算属性呢？<ul>
<li>官方并没有给出直接的概念解释；</li>
<li>而是说：对于任何包含响应式数据的复杂逻辑，你都应该使用计算属性；</li>
<li>计算属性将被混入到组件实例中<ul>
<li><strong>所有 getter 和 setter 的 this 上下文自动地绑定为组件实例</strong>；</li>
</ul>
</li>
</ul>
</li>
<li>计算属性的用法：<ul>
<li>选项：computed</li>
<li>类型：{ [key: string]: Function | { get: Function, set: Function } }</li>
</ul>
</li>
</ul>
<h3 id="三个案例引出计算属性"><a href="#三个案例引出计算属性" class="headerlink" title="三个案例引出计算属性"></a>三个案例引出计算属性</h3><ul>
<li>我们来看三个案例：</li>
<li>案例一：我们有两个变量：firstName 和 lastName，希望它们拼接之后在界面上显示；</li>
<li>案例二：我们有一个分数：score<ul>
<li>当 score 大于 60 的时候，在界面上显示及格；</li>
<li>当 score 小于 60 的时候，在界面上显示不及格；</li>
</ul>
</li>
<li>案例三：我们有一个变量 message，记录一段文字：比如 Hello World<ul>
<li>某些情况下我们是直接显示这段文字；</li>
<li>某些情况下我们需要对这段文字进行反转；</li>
</ul>
</li>
<li>我们可以有三种实现思路：<ul>
<li>思路一：在模板语法中直接使用表达式；</li>
<li>思路二：使用 method 对逻辑进行抽取；</li>
<li>思路三：使用计算属性 computed；</li>
</ul>
</li>
</ul>
<h4 id="案例-模板语法实现"><a href="#案例-模板语法实现" class="headerlink" title="案例_模板语法实现"></a>案例_模板语法实现</h4><ul>
<li>思路一的实现：模板语法<ul>
<li>缺点一：模板中存在大量的复杂逻辑，不便于维护（模板中表达式的初衷是用于简单的计算）；</li>
<li>缺点二：当有多次一样的逻辑时，存在重复的代码；</li>
<li>缺点三：多次使用的时候，很多运算也需要多次执行，没有缓存；</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.拼接名字, 插值语法表达式直接进行拼接 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; firstName + &quot; &quot; + lastName &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; firstName + &quot; &quot; + lastName &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; firstName + &quot; &quot; + lastName &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2.显示分数等级 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; score &gt;= 60 ? &#x27;及格&#x27;: &#x27;不及格&#x27; &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 3.反转单词显示文本 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; message.split(&quot; &quot;).reverse().join(&quot; &quot;) &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// data: option api</span></span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 1.姓名</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">firstName</span>: <span class="string">&quot;kobe&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">lastName</span>: <span class="string">&quot;bryant&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 2.分数: 及格/不及格</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">score</span>: <span class="number">80</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 3.一串文本: 对文本中的单词进行反转显示</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;my name is why&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="案例-用方法实现"><a href="#案例-用方法实现" class="headerlink" title="案例_用方法实现"></a>案例_用方法实现</h4><ul>
<li>思路二的实现：method 实现<ul>
<li>缺点一：我们事实上先显示的是一个结果，但是都变成了一种方法的调用；</li>
<li>缺点二：多次使用方法的时候，没有缓存，也需要多次计算；</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 插值语法表达式直接进行拼接 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.拼接名字 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; getFullname() &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; getFullname() &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; getFullname() &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2.显示分数等级 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; getScoreLevel() &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 3.反转单词显示文本 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; reverseMessage() &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 1.姓名</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">firstName</span>: <span class="string">&quot;kobe&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">lastName</span>: <span class="string">&quot;bryant&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 2.分数: 及格/不及格</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">score</span>: <span class="number">80</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 3.一串文本: 对文本中的单词进行反转显示</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;my name is why&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">getFullname</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">getScoreLevel</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">score</span> &gt;= <span class="number">60</span> ? <span class="string">&quot;及格&quot;</span>: <span class="string">&quot;不及格&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">reverseMessage</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">message</span>.<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>).<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&quot; &quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="案例-计算属性实现"><a href="#案例-计算属性实现" class="headerlink" title="案例_计算属性实现"></a>案例_计算属性实现</h4><ul>
<li>思路三的实现：computed 实现<ul>
<li>注意：计算属性看起来像是一个函数，但是我们在使用的时候不需要加 () ，这个后面讲 setter 和 getter 时会讲到；</li>
<li>我们会发现无论是直观上，还是效果上计算属性都是更好的选择；</li>
<li>并且计算属性是有缓存的；</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 插值语法表达式直接进行拼接 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.拼接名字 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; fullname &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; fullname &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; fullname &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2.显示分数等级 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; scoreLevel &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 3.反转单词显示文本 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; reverseMessage &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 1.姓名</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">firstName</span>: <span class="string">&quot;kobe&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">lastName</span>: <span class="string">&quot;bryant&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 2.分数: 及格/不及格</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">score</span>: <span class="number">80</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 3.一串文本: 对文本中的单词进行反转显示</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;my name is why&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 1.计算属性默认对应的是一个函数</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">fullname</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">scoreLevel</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">score</span> &gt;= <span class="number">60</span> ? <span class="string">&quot;及格&quot;</span>: <span class="string">&quot;不及格&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">reverseMessage</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">message</span>.<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>).<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&quot; &quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="计算属性和方法的对比"><a href="#计算属性和方法的对比" class="headerlink" title="计算属性和方法的对比"></a>计算属性和方法的对比</h3><ul>
<li>在上面的实现思路中，我们会发现计算属性和 methods 的实现看起来是差别是不大的，而且我们多次提到计算属性有缓存的。</li>
<li>接下来我们来看一下同一个计算多次使用，计算属性和 methods 的差异：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.methods --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; getFullname() &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; getFullname() &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; getFullname() &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2.computed --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; fullname &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; fullname &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; fullname &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 修改name值 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeLastname&quot;</span>&gt;</span>修改lastname<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">firstName</span>: <span class="string">&quot;kobe&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">lastName</span>: <span class="string">&quot;bryant&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">getFullname</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;getFullname-----&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">changeLastname</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">lastName</span> = <span class="string">&quot;why&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">fullname</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;computed fullname-----&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>为什么计算属性只执行一次,而方法使用多次次,就调用多少次<ul>
<li>这是因为<strong>计算属性会基于它们的依赖关系进行缓存</strong>；</li>
<li><strong>在数据不发生变化时，计算属性是不需要重新计算的；</strong></li>
<li><strong>但是如果依赖的数据发生变化，在使用时，计算属性依然会重新进行计算；</strong></li>
</ul>
</li>
</ul>
<h3 id="getter和setter"><a href="#getter和setter" class="headerlink" title="getter和setter"></a>getter和setter</h3><ul>
<li>计算属性在大多数情况下，只需要一个 getter 方法即可，所以我们会将计算属性直接写成一个函数。</li>
<li>但是，如果我们确实想设置计算属性的值呢？<ul>
<li>这个时候我们也可以给计算属性设置一个 setter 的方法；</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; fullname &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;setFullname&quot;</span>&gt;</span>设置fullname<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">firstname</span>: <span class="string">&quot;coder&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">lastname</span>: <span class="string">&quot;why&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 语法糖的写法,相当于调用 getter</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// fullname() &#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//   return this.firstname + &quot; &quot; + this.lastname</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 完整的写法:</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">fullname</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 读取计算属性 fullname 时调用 getter ,读取到的值以及模板中使用的的值就是 getter 的返回值</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstname</span> + <span class="string">&quot; &quot;</span> + <span class="variable language_">this</span>.<span class="property">lastname</span></span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 形参 value 为修改后的新值</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> names = value.<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">firstname</span> = names[<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">lastname</span> = names[<span class="number">1</span>]</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setFullname</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">fullname</span> = <span class="string">&quot;kobe bryant&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>你可能觉得很奇怪，Vue 内部是如何对我们传入的是一个 getter，还是说是一个包含 setter 和 getter 的对象进行处理的呢？</li>
<li>事实上非常的简单，Vue 源码内部只是做了一个逻辑判断而已；</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/ae93f68c8cb54f1e9b2bb165f1a07725" alt="1660961806214"></p>
<h2 id="监听属性"><a href="#监听属性" class="headerlink" title="监听属性"></a>监听属性</h2><h3 id="认识侦听器"><a href="#认识侦听器" class="headerlink" title="认识侦听器"></a>认识侦听器</h3><ul>
<li><p>什么是侦听器呢？</p>
<ul>
<li>开发中我们在 data 返回的对象中定义了数据，这个数据通过插值语法等方式绑定到 template 中；</li>
<li>当数据变化时，template 会自动进行更新来显示最新的数据；</li>
<li>但是在某些情况下，我们希望在代码逻辑中监听某个数据的变化，这个时候就需要用侦听器 watch 来完成了；</li>
</ul>
</li>
<li><p>侦听器的用法如下：</p>
<ul>
<li>选项：watch</li>
<li>类型：{ [key: string]: string | Function | Object | Array}</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeMessage&quot;</span>&gt;</span>修改message<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;Hello Vue&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">info</span>: &#123; <span class="attr">name</span>: <span class="string">&quot;why&quot;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">changeMessage</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&quot;你好啊, 李银河!&quot;</span></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">info</span> = &#123; <span class="attr">name</span>: <span class="string">&quot;kobe&quot;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 监听 message   默认有两个参数: newValue/oldValue</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">message</span>(<span class="params">newValue, oldValue</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;message数据发生了变化:&quot;</span>, newValue, oldValue)</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 监听 info 对象</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">info</span>(<span class="params">newValue, oldValue</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 2.如果是对象类型, 那么拿到的是代理对象</span></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;info数据发生了变化:&quot;</span>, newValue, oldValue)</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(newValue.<span class="property">name</span>, oldValue.<span class="property">name</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 3.将代理对象转为原生对象</span></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(&#123; ...newValue &#125;) <span class="comment">// 此处生成的是一个新的对象</span></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Vue</span>.<span class="title function_">toRaw</span>(newValue))</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="侦听器配置项"><a href="#侦听器配置项" class="headerlink" title="侦听器配置项"></a>侦听器配置项</h3><ul>
<li>我们先来看一个例子：<ul>
<li>当我们点击按钮的时候会修改 info.name 的值；</li>
<li>这个时候我们使用 watch 来侦听 info，可以侦听到吗？答案是不可以。</li>
</ul>
</li>
<li>这是因为<strong>默认情况下，watch 只是在侦听对象 info 的引用变化，对于内部属性的变化是不会做出响应的</strong><ul>
<li>这个时候我们可以使用一个选项 deep 进行更深层的侦听；</li>
<li>注意前面我们说过 watch 里面侦听的属性对应的也可以是一个 Object；</li>
</ul>
</li>
<li>还有另外一个属性，是希望一开始的就会立即执行一次：<ul>
<li>这个时候我们使用 immediate 选项；</li>
<li>这个时候无论后面数据是否有变化，侦听的函数都会优先执行一次；</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; info.name &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeInfo&quot;</span>&gt;</span>修改info<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">info</span>: &#123; <span class="attr">name</span>: <span class="string">&quot;why&quot;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">changeInfo</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 1.创建一个新对象, 赋值给info  直接修改了原对象,能监听到数据的变化</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// this.info = &#123; name: &quot;kobe&quot; &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 2.直接修改原对象某一个属性 修改的是对象中的某个属性,默认watch监听不会进行深度监听,开启深度监听即可监听到</span></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">info</span>.<span class="property">name</span> = <span class="string">&quot;kobe&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 默认watch监听不会进行深度监听</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// info(newValue, oldValue) &#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//   console.log(&quot;侦听到info改变:&quot;, newValue, oldValue)</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 进行深度监听</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">info</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 只要监听到数据的变化, handler 方法就会调用 , 两个参数分别为新值 和 旧值</span></span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">handler</span>(<span class="params">newValue, oldValue</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;侦听到info改变:&quot;</span>, newValue, oldValue)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(newValue === oldValue)</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">deep</span>: <span class="literal">true</span>, <span class="comment">// 开启深度监听</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">immediate</span>: <span class="literal">true</span>, <span class="comment">// 第一次渲染直接执行一次监听器</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 单独监听对象中的指定属性</span></span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;info.name&quot;</span>: <span class="keyword">function</span> (<span class="params">newValue, oldValue</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;name发生改变:&quot;</span>, newValue, oldValue)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="watch-API"><a href="#watch-API" class="headerlink" title="$watch API"></a>$watch API</h3><ul>
<li>还有另外一种方式就是使用 <code>$watch</code> 的API：</li>
<li>我们可以在 created 的生命周期中，使用 <code>this.$watchs </code>来侦听；<ul>
<li>第一个参数是要侦听的源；</li>
<li>第二个参数是侦听的回调函数 callback；</li>
<li>第三个参数是一个对象,额外的其他选项，比如 deep、immediate ；</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">【<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeMessage&quot;</span>&gt;</span>修改message<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;Hello Vue&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">changeMessage</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&quot;你好啊, 李银河!&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// created : 生命周期回调函数: 当前的组件被创建时自动执行,一般在该函数中, 会进行网络请求</span></span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.$watch(<span class="string">&quot;message&quot;</span>, <span class="function">(<span class="params">newValue, oldValue</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;message数据变化:&quot;</span>, newValue, oldValue)</span></span><br><span class="line"><span class="language-javascript">        &#125;, &#123; <span class="attr">deep</span>: <span class="literal">true</span> &#125;)</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="案例-书籍购物车-空"><a href="#案例-书籍购物车-空" class="headerlink" title="案例_书籍购物车(空)"></a>案例_书籍购物车(空)</h3><ul>
<li>案例说明：<ul>
<li>01 在界面上以表格的形式，显示一些书籍的数据；</li>
<li>02 在底部显示书籍的总价格；</li>
<li>03 点击 + 或者 - 可以增加或减少书籍数量（如果为1，那么不能继续-）；</li>
<li>04 点击移除按钮，可以将书籍移除（当所有的书籍移除完毕时，显示：购物车为空~）；</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/f2942164f8a249ab9a1aee43dbb8c9b8" alt="1660967787189"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//...</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="双向数据绑定"><a href="#双向数据绑定" class="headerlink" title="双向数据绑定"></a>双向数据绑定</h2><h3 id="v-model的基本使用"><a href="#v-model的基本使用" class="headerlink" title="v-model的基本使用"></a>v-model的基本使用</h3><ul>
<li>表单提交是开发中非常常见的功能，也是和用户交互的重要手段：<ul>
<li>比如用户在登录、注册时需要提交账号密码；</li>
<li>比如用户在检索、创建、更新信息时，需要提交一些数据；</li>
</ul>
</li>
<li>这些都要求我们可以在代码逻辑中获取到用户提交的数据，我们通常会使用 v-model 指令来完成：<ul>
<li>v-model 指令可以在表单 input、textarea 以及 select 元素上创建双向数据绑定；</li>
<li>它会根据控件类型自动选取正确的方法来更新元素；</li>
<li>尽管有些神奇，但 v-model 本质上不过是语法糖，它负责监听用户的输入事件来更新数据，并在某种极端场景下进行一些特殊处理；</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/e2de0a143a9f4d0aba480e68aab4ad22" alt="1660977072972"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- v-model 实现双向数据绑定 , 绑定 input 的 value 属性 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;Hello Model&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>登录表单的双向数据绑定案例</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 双向数据绑定,将 data 中的账号密码,与输入框中的账号密码双向数据绑定,绑定的是输入框的 value 值--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;account&quot;</span>&gt;</span></span><br><span class="line">      账号:<span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;account&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;account&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">      密码:<span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;password&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;loginClick&quot;</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123; <span class="comment">// 数据</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">account</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">password</span>: <span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 登录按钮的事件回调,获取到 data 中的账号密码,进行其他业务处理</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">loginClick</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> account = <span class="variable language_">this</span>.<span class="property">account</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> password = <span class="variable language_">this</span>.<span class="property">password</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="v-model的原理"><a href="#v-model的原理" class="headerlink" title="v-model的原理"></a>v-model的原理</h3><ul>
<li>官方有说到，v-model 的原理其实是背后有两个操作：<ul>
<li><strong>v-bind 绑定 value 属性的值</strong>；</li>
<li><strong>v-on 绑定 input 事件监听到函数中，函数会获取最新的值, 赋值到绑定的属性中</strong>；</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 01 将 data 中的数据单向绑定到输入框的 value 值, 通过 input 事件触发回调 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;message&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;inputChange&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;Hello Model&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 02 在 input 的事件回调中,修改 data 中的值,data 中的值改变,又会重新渲染模板,页面数据更新</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">inputChange</span>(<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">message</span> = event.<span class="property">target</span>.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="绑定-textarea"><a href="#绑定-textarea" class="headerlink" title="绑定 textarea"></a>绑定 textarea</h3><ul>
<li>v-model 默认绑定的是输入框的 value 值</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">cols</span>=<span class="string">&quot;30&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;10&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>输入的内容: &#123;&#123;content&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">content</span>: <span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="绑定-checkbox"><a href="#绑定-checkbox" class="headerlink" title="绑定 checkbox"></a>绑定 checkbox</h3><ul>
<li>我们来看一下 v-model 绑定 checkbox ,单个勾选框和多个勾选框</li>
<li>单个勾选框：<ul>
<li>v-model 即为布尔值。</li>
<li>此时 input 的 value 属性并不影响 v-model 的值。</li>
</ul>
</li>
<li>多个复选框：<ul>
<li>当是多个复选框时，因为可以选中多个，所以对应的 data 中属性是一个数组。</li>
<li>多选框当中, 必须明确的绑定一个 value 值 ,会将 value 绑定到 data 中</li>
<li>当选中某一个复选框时，就会将 input 的 value 值添加到数组中。</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 01 checkbox单选框: 绑定到属性中的值是一个 Boolean --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;agree&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;agree&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;isAgree&quot;</span>&gt;</span> 同意协议</span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>单选框: &#123;&#123;isAgree&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">isAgree</span>: <span class="literal">false</span>, <span class="comment">// 默认值为 false ,则复选框不会被勾选</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 02 checkbox多选框: 绑定到属性中的值是一个Array数组 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hobbies&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>请选择你的爱好:<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;sing&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;sing&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobbies&quot;</span> <span class="attr">value</span>=<span class="string">&quot;sing&quot;</span>&gt;</span> 唱</span><br><span class="line">      <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;jump&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;jump&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobbies&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jump&quot;</span>&gt;</span> 跳</span><br><span class="line">      <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;rap&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;rap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobbies&quot;</span> <span class="attr">value</span>=<span class="string">&quot;rap&quot;</span>&gt;</span> rap</span><br><span class="line">      <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;basketball&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;basketball&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobbies&quot;</span> <span class="attr">value</span>=<span class="string">&quot;basketball&quot;</span>&gt;</span> 篮球</span><br><span class="line">      <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>爱好: &#123;&#123;hobbies&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">hobbies</span>: []</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="绑定-radio"><a href="#绑定-radio" class="headerlink" title="绑定 radio"></a>绑定 radio</h3><ul>
<li>v-model 会将单选框的 value 值绑定到 data 中</li>
<li>单选框的 value 值与 data 中的值相同,就会被选中</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gender&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;male&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;male&quot;</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span>&gt;</span> 男</span><br><span class="line">      <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;female&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;female&quot;</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;female&quot;</span>&gt;</span> 女</span><br><span class="line">      <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>性别: &#123;&#123;gender&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">gender</span>: <span class="string">&quot;female&quot;</span> <span class="comment">// 默认值</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="绑定-select"><a href="#绑定-select" class="headerlink" title="绑定 select"></a>绑定 select</h3><ul>
<li>和 checkbox 一样，select 也分单选和多选两种情况。</li>
<li>单选：只能选中一个值<ul>
<li>v-model 绑定的是一个值；</li>
<li>当我们选中 option 中的一个时，会将它对应的 value 赋值到 data 中；</li>
</ul>
</li>
<li>多选：可以按住 Ctrl 和 Shift 选中多个值<ul>
<li>v-model 绑定的是一个数组；</li>
<li>当选中多个值时，就会将选中的 option 对应的 value 添加到 data 的数组 fruits 中；</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- select的单选  v-model指令写在 select 标签中,每一个 option 选项都需要有一个 value 值,会将该 value 值绑定到 data 中--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;fruit&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;apple&quot;</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;orange&quot;</span>&gt;</span>橘子<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;banana&quot;</span>&gt;</span>香蕉<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>单选: &#123;&#123;fruit&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">fruit</span>: <span class="string">&quot;orange&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- select的多选 v-model指令写在 select 标签中,每一个 option 选项都需要有一个 value 值,会将该 value 值绑定到 data 中--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">multiple</span> <span class="attr">size</span>=<span class="string">&quot;3&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;fruits&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;apple&quot;</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;orange&quot;</span>&gt;</span>橘子<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;banana&quot;</span>&gt;</span>香蕉<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>多选: &#123;&#123;fruits&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">fruits</span>: []</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="v-model的值绑定"><a href="#v-model的值绑定" class="headerlink" title="v-model的值绑定"></a>v-model的值绑定</h3><ul>
<li>目前我们在前面的案例中大部分的值都是在 template 中固定好的：<ul>
<li>比如 gender 的两个输入框值 male、female；</li>
<li>比如 hobbies 的三个输入框值 basketball、football、tennis；</li>
</ul>
</li>
<li>在真实开发中，我们的数据可能是来自服务器的，那么我们就可以先将值请求下来，绑定到 data 返回的对象中，再通过 v-bind 来进行值的绑定，这个过程就是值绑定。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.select的值绑定 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">multiple</span> <span class="attr">size</span>=<span class="string">&quot;3&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;fruits&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">v-for</span>=<span class="string">&quot;item in allFruits&quot;</span> </span></span><br><span class="line"><span class="tag">              <span class="attr">:key</span>=<span class="string">&quot;item.value&quot;</span> </span></span><br><span class="line"><span class="tag">              <span class="attr">:value</span>=<span class="string">&quot;item.value&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;item.text&#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>多选: &#123;&#123;fruits&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2.checkbox的值绑定 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hobbies&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>请选择你的爱好:<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-for</span>=<span class="string">&quot;item in allHobbies&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.value&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">:for</span>=<span class="string">&quot;item.value&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">:id</span>=<span class="string">&quot;item.value&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobbies&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;item.value&quot;</span>&gt;</span> &#123;&#123;item.text&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>爱好: &#123;&#123;hobbies&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 水果  allFruits 为服务器返回的数据 , fruits 为用户的选择结果</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">allFruits</span>: [</span></span><br><span class="line"><span class="language-javascript">            &#123; <span class="attr">value</span>: <span class="string">&quot;apple&quot;</span>, <span class="attr">text</span>: <span class="string">&quot;苹果&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123; <span class="attr">value</span>: <span class="string">&quot;orange&quot;</span>, <span class="attr">text</span>: <span class="string">&quot;橘子&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123; <span class="attr">value</span>: <span class="string">&quot;banana&quot;</span>, <span class="attr">text</span>: <span class="string">&quot;香蕉&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          ],</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">fruits</span>: [],</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 爱好  allHobbies 为服务器返回的数据 , hobbies 为用户的选择结果</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">allHobbies</span>: [</span></span><br><span class="line"><span class="language-javascript">            &#123; <span class="attr">value</span>: <span class="string">&quot;sing&quot;</span>, <span class="attr">text</span>: <span class="string">&quot;唱&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123; <span class="attr">value</span>: <span class="string">&quot;jump&quot;</span>, <span class="attr">text</span>: <span class="string">&quot;跳&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123; <span class="attr">value</span>: <span class="string">&quot;rap&quot;</span>, <span class="attr">text</span>: <span class="string">&quot;rap&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123; <span class="attr">value</span>: <span class="string">&quot;basketball&quot;</span>, <span class="attr">text</span>: <span class="string">&quot;篮球&quot;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">          ],</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">hobbies</span>: []</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="v-model-的修饰符"><a href="#v-model-的修饰符" class="headerlink" title="v-model 的修饰符"></a>v-model 的修饰符</h3><h4 id="lazy"><a href="#lazy" class="headerlink" title=".lazy"></a>.lazy</h4><ul>
<li>lazy 修饰符是什么作用呢？<ul>
<li>默认情况下，v-model 在进行双向绑定时，绑定的是 input 事件，那么会在每次内容输入后就将最新的值和绑定的属性进行同步；</li>
<li>如果我们在 v-model 后跟上 lazy 修饰符，那么会将绑定的事件切换为 change 事件，只有在表单失去焦点时（比如回车）才会触发；</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.lazy: 绑定 change 事件,只有表单失去焦点时才会绑定数据到 data 中  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.lazy</span>=<span class="string">&quot;message&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>message: &#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;Hello Vue&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="number"><a href="#number" class="headerlink" title=".number"></a>.number</h4><ul>
<li>v-model 绑定后的值是什么类型的：<ul>
<li>绑定的 message 总是 string 类型，即使在我们设置 type 为 number ,绑定到 data 中的值也是 string 类型；</li>
<li>在我们进行逻辑判断时，如果是一个 string 类型，在可以转化的情况下会进行隐式转换的：</li>
</ul>
</li>
<li>如果我们希望转换为数字类型，那么可以使用 <code>.number </code>修饰符,但只限输入的是数字, 如果输入其他非数字字符,依旧会转为字符串类型</li>
<li>将 input 的类型指定为 number 类型,也可以将输入的内容转为 number 类型,并且<code> type=&quot;number&quot;</code>, 只能输入数字</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 2.1 .number: 自动将内容转换成数字 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.number</span>=<span class="string">&quot;counter&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>counter:&#123;&#123;counter&#125;&#125;-&#123;&#123;typeof counter&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">    <span class="comment">&lt;!-- 2.2 将 input 的类型指定为 number 类型,也可以将输入的内容转为 number 类型--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;counter2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>counter2:&#123;&#123;counter2&#125;&#125;-&#123;&#123;typeof counter2&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">counter</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">counter2</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="trim"><a href="#trim" class="headerlink" title=".trim"></a>.trim</h4><ul>
<li>如果要自动过滤用户输入的首尾空白字符，可以给 v-model 添加 <code>.trim</code> 修饰符：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 3.trim: 去除收尾的空格 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.trim</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>content: &#123;&#123;content&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">content</span>: <span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 监听 content 属性</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">content</span>(<span class="params">newValue</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;content:&quot;</span>, newValue)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="多个修饰符"><a href="#多个修饰符" class="headerlink" title="多个修饰符"></a>多个修饰符</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 4. 同时使用多个修饰符 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.lazy.trim</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>content: &#123;&#123;content&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">content</span>: <span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">content</span>(<span class="params">newValue</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;content:&quot;</span>, newValue)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="组件化开发"><a href="#组件化开发" class="headerlink" title="组件化开发"></a>组件化开发</h2><h3 id="复杂问题的解决"><a href="#复杂问题的解决" class="headerlink" title="复杂问题的解决"></a>复杂问题的解决</h3><ul>
<li>人面对复杂问题的处理方式：<ul>
<li>任何一个人处理信息的逻辑能力都是有限的</li>
<li>所以，当面对一个非常复杂的问题时，我们不太可能一次性搞定一大堆的内容。</li>
<li>但是，我们人有一种天生的能力，就是将问题进行拆解。</li>
<li>如果将一个复杂的问题，拆分成很多个可以处理的小问题，再将其放在整体当中，你会发现大的问题也会迎刃而解。</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/1a6ee3cf296f47418525cc0a78f27226" alt="1660985670801"></p>
<h3 id="认识组件化开发"><a href="#认识组件化开发" class="headerlink" title="认识组件化开发"></a>认识组件化开发</h3><ul>
<li>组件化也是类似的思想：<ul>
<li>如果我们将一个页面中所有的处理逻辑全部放在一起，处理起来就会变得非常复杂，而且不利于后续的管理以及扩展；</li>
<li>但如果，我们将一个页面拆分成一个个小的功能块，每个功能块完成属于自己这部分独立的功能，那么之后整个页面的管理和维护就变得非常容易了；</li>
<li>如果我们将一个个功能块拆分后，就可以像搭建积木一下来搭建我们的项目；</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/4371917b325e4fc6b0926d22464b109e" alt="1660985825360"></p>
<ul>
<li><p>现在可以说整个的大前端开发都是组件化的天下，</p>
<ul>
<li>无论从三大框架（Vue、React、Angular），还是跨平台方案的 Flutter，甚至是移动端都在转向组件化开发，包括小程序的开发也是采用组件化开发的思想。</li>
</ul>
</li>
<li><p>所以，学习组件化最重要的是它的思想，每个框架或者平台可能实现方法不同，但是思想都是一样的。</p>
</li>
<li><p>我们需要通过组件化的思想来思考整个应用程序：</p>
<ul>
<li>我们将一个完整的页面分成很多个组件；</li>
<li>每个组件都用于实现页面的一个功能块；</li>
<li>而每一个组件又可以进行细分；</li>
<li>而组件本身又可以在多个地方进行复用；</li>
</ul>
</li>
</ul>
<h3 id="Vue-的组件化"><a href="#Vue-的组件化" class="headerlink" title="Vue 的组件化"></a>Vue 的组件化</h3><ul>
<li>组件化是 Vue、React、Angular 的核心思想，也是我们后续课程的重点（包括以后实战项目）：<ul>
<li>前面我们的 createApp 函数传入了一个对象 App，这个对象其实本质上就是一个组件，也是我们应用程序的根组件；</li>
<li>组件化提供了一种抽象，让我们可以开发出一个个独立可复用的小组件来构造我们的应用；</li>
<li>任何的应用都会被抽象成一颗组件树；</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/d346d59e162c443cbc632056785a3cf8" alt="1660986197775"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// App组件(根组件)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title class_">App</span> = &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;Hello Vue&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(<span class="title class_">App</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Vue组件的注册"><a href="#Vue组件的注册" class="headerlink" title="Vue组件的注册"></a>Vue组件的注册</h3><ul>
<li><p>如果我们现在有一部分内容（模板、逻辑等），我们希望将这部分内容抽取到一个独立的组件中去维护，这个时候如何注册一个组件呢？</p>
</li>
<li><p>注册组件分成两种：</p>
<ul>
<li>全局组件：在任何其他的组件中都可以使用的组件；</li>
<li>局部组件：只有在注册的组件中才能使用的组件；</li>
</ul>
</li>
</ul>
<h4 id="注册全局组件"><a href="#注册全局组件" class="headerlink" title="注册全局组件"></a>注册全局组件</h4><ul>
<li><p>我们先来学习一下全局组件的注册：</p>
<ul>
<li>全局组件需要使用我们全局创建的 app 来注册组件；</li>
<li>通过 component 方法传入组件名称、组件对象即可注册一个全局组件了；</li>
<li>之后，我们可以在 App 组件的 template 中直接使用这个全局组件：</li>
</ul>
</li>
<li><p>我们组件本身也可以有自己的代码逻辑：</p>
<ul>
<li>比如自己的 data、computed、methods 等等</li>
</ul>
</li>
<li><p>全局组件的特点:  <strong>一旦注册成功后, 可以在任意其他组件的 template 中使用</strong></p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 4. 使用组件: 组件可以多次使用 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">product-item</span>&gt;</span><span class="tag">&lt;/<span class="name">product-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">product-item</span>&gt;</span><span class="tag">&lt;/<span class="name">product-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 组件 product-item 的模板 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;product&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是商品<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>商品图片<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>商品价格: <span class="tag">&lt;<span class="name">span</span>&gt;</span>¥9.9<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>商品描述信息, 9.9秒杀<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.组件: App组件(根组件)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title class_">App</span> = &#123;&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(<span class="title class_">App</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 3.注册一个全局组件  product-item 全局组件  </span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//   参数一:为使用组件时的标签名   参数二: 为该全局组件的配置对象</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">component</span>(<span class="string">&quot;product-item&quot;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">template</span>: <span class="string">&quot;#item&quot;</span> <span class="comment">// 模板</span></span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>组件本身也可以有自己的代码逻辑:</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 4. 在容器中使用组件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">product-item</span>&gt;</span><span class="tag">&lt;/<span class="name">product-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">product-item</span>&gt;</span><span class="tag">&lt;/<span class="name">product-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">product-item</span>&gt;</span><span class="tag">&lt;/<span class="name">product-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- product-item 组件的模板 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;product&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;product&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>商品描述, 限时折扣, 赶紧抢购<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>价格: &#123;&#123;price&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;favarItem&quot;</span>&gt;</span>收藏<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.创建app</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          </span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 3. 注册全局组件,以及该组件的逻辑,业务处理等</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">component</span>(<span class="string">&quot;product-item&quot;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">template</span>: <span class="string">&quot;##product&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">title</span>: <span class="string">&quot;我是商品Item&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">price</span>: <span class="number">9.9</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">favarItem</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;收藏了当前的item&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="注册局部组件"><a href="#注册局部组件" class="headerlink" title="注册局部组件"></a>注册局部组件</h4><ul>
<li>全局组件往往是在应用程序一开始就会全局注册完成，那么就意味着如果某些组件我们并没有用到，也会一起被注册：<ul>
<li>比如我们注册了三个全局组件：ComponentA、ComponentB、ComponentC；</li>
<li>在开发中我们只使用了 ComponentA、ComponentB，如果 ComponentC 没有用到但是我们依然在全局进行了注册，那么就意味着类似于 webpack 这种打包工具在打包我们的项目时，我们依然会对其进行打包；</li>
<li>这样最终打包出的 JavaScript 包就会有关于 ComponentC 的内容，用户在下载对应的 JavaScript 时也会增加包的大小；</li>
</ul>
</li>
<li>所以在开发中我们通常使用组件的时候采用的都是局部注册：<ul>
<li>局部注册是在我们需要使用到的组件中，通过 components 属性选项来进行注册；</li>
<li>比如之前的 App 组件中，我们有 data、computed、methods 等选项了，事实上还可以有一个 components 选项；</li>
<li>该 components 选项对应的是一个对象，对象中的键值对是 <code>组件的名称: 组件对象</code></li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 3. 在 App 跟组件中使用自己的两个子组件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">home-nav</span>&gt;</span><span class="tag">&lt;/<span class="name">home-nav</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">product-item</span>&gt;</span><span class="tag">&lt;/<span class="name">product-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">product-item</span>&gt;</span><span class="tag">&lt;/<span class="name">product-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">product-item</span>&gt;</span><span class="tag">&lt;/<span class="name">product-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!-- ProductItem 组件的模板 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;product&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;product&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>商品描述, 限时折扣, 赶紧抢购<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>价格: &#123;&#123;price&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span>&gt;</span>收藏<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- HomeNav 组件的模板 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是home-nav的组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 3. 在模板中使用自己的子组件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">product-item</span>&gt;</span><span class="tag">&lt;/<span class="name">product-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2 创建 ProductItem 组件</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title class_">ProductItem</span> = &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">template</span>: <span class="string">&quot;##product&quot;</span>, <span class="comment">// 组件模板</span></span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;	<span class="comment">// 组件的数据</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">title</span>: <span class="string">&quot;我是product的title&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">price</span>: <span class="number">9.9</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1 创建 App 根组件</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">components</span>: &#123; <span class="comment">// 注册组件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">ProductItem</span>, <span class="comment">// 将 ProductItem 组件注册成 App 组件的子组件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">HomeNav</span>: &#123; <span class="comment">// 将 HomeNav 组件注册成 App 组件的子组件</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">template</span>: <span class="string">&quot;#nav&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">ProductItem</span>  <span class="comment">// 将 ProductItem 组件注册成 HomeNav 组件的子组件</span></span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;Hello Vue&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.挂载app</span></span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="组件名的命名"><a href="#组件名的命名" class="headerlink" title="组件名的命名"></a>组件名的命名</h4><ul>
<li>在通过 app.component 注册一个组件的时候，第一个参数是组件的名称，定义组件名的方式有两种：</li>
<li>方式一：使用 kebab-case（短横线分割符）<ul>
<li>当使用 kebab-case (短横线分隔命名) 定义一个组件时，你也必须在引用这个自定义元素时使用 kebab-case<ul>
<li>例如<code> &lt;my-component-name&gt;</code>；</li>
</ul>
</li>
</ul>
</li>
<li>方式二：使用 PascalCase（驼峰标识符）<ul>
<li>当使用 PascalCase (首字母大写命名) 定义一个组件时，你在引用这个自定义元素时两种命名法都可以使用。</li>
<li>也就是说 <code>&lt;my-component-name&gt; </code>和 <code>&lt;MyComponentName&gt;</code> 都是可接受的；</li>
</ul>
</li>
</ul>
<h3 id="单文件组件"><a href="#单文件组件" class="headerlink" title="单文件组件"></a>单文件组件</h3><h4 id="Vue-的开发模式"><a href="#Vue-的开发模式" class="headerlink" title="Vue 的开发模式"></a>Vue 的开发模式</h4><ul>
<li>目前我们使用 vue 的过程都是在 html 文件中，通过 template 编写自己的模板、脚本逻辑、样式等。</li>
<li>但是随着项目越来越复杂，我们会采用组件化的方式来进行开发：<ul>
<li>这就意味着每个组件都会有自己的模板、脚本逻辑、样式等；</li>
<li>当然我们依然可以把它们抽离到单独的 js、css 文件中，但是它们还是会分离开来；</li>
<li>也包括我们的 script 是在一个全局的作用域下，很容易出现命名冲突的问题；</li>
<li>并且我们的代码为了适配一些浏览器，必须使用 ES5 的语法；</li>
<li>在我们编写代码完成之后，依然需要通过构建工具对代码进行构建打包处理；</li>
</ul>
</li>
<li>所以在真实开发中，我们可以通过一个后缀名为<code>.vue</code>的 single-file components (单文件组件) 来解决，并且可以使用 webpack 或者 vite 或者 rollup 等构建工具来对其进行处理。</li>
</ul>
<h4 id="单文件组件的特点"><a href="#单文件组件的特点" class="headerlink" title="单文件组件的特点"></a>单文件组件的特点</h4><ul>
<li>在这个组件中我们可以获得非常多的特性：<ul>
<li><strong>代码的高亮；</strong></li>
<li><strong>ES6、CommonJS 的模块化能力；</strong></li>
<li><strong>组件作用域的 CSS；</strong></li>
<li><strong>可以使用预处理器来构建更加丰富的组件，比如 TypeScript、Babel、Less、Sass 等；</strong></li>
</ul>
</li>
</ul>
<h4 id="单文件组件的支持"><a href="#单文件组件的支持" class="headerlink" title="单文件组件的支持"></a>单文件组件的支持</h4><ul>
<li>如果我们想要使用这一的 SFC 的<code>.vue</code>文件，比较常见的是两种方式：<ul>
<li>方式一：使用 Vue CLI 来创建项目，项目会默认帮助我们配置好所有的配置选项，可以在其中直接使用<code>.vue</code>文件；</li>
<li>方式二：自己使用 webpack 或 rollup 或 vite 这类打包工具，对其进行打包处理；</li>
</ul>
</li>
<li>最终无论是后期我们做项目，还是在公司进行开发，通常都会采用 Vue CLI 的方式来完成。</li>
</ul>
<h4 id="VScode对SFC的支持"><a href="#VScode对SFC的支持" class="headerlink" title="VScode对SFC的支持"></a>VScode对SFC的支持</h4><ul>
<li><p>在前面我们提到过，真实开发中多数情况下我们都是使用 SFC（ single-file components (单文件组件) ）。</p>
</li>
<li><p>我们先说一下 VSCode 对 SFC 的支持：</p>
<ul>
<li>插件一：<strong>Vetur</strong>，从 Vue2 开发就一直在使用的 VSCode 支持 Vue 的插件；</li>
<li>插件二：<strong>Volar</strong>，官方推荐的插件；</li>
</ul>
</li>
</ul>
<h2 id="Vue脚手架"><a href="#Vue脚手架" class="headerlink" title="Vue脚手架"></a>Vue脚手架</h2><h3 id="脚手架的介绍"><a href="#脚手架的介绍" class="headerlink" title="脚手架的介绍"></a>脚手架的介绍</h3><ul>
<li>什么是 Vue 脚手架？<ul>
<li>我们前面学习了如何通过 webpack 配置 Vue 的开发环境，但是在真实开发中我们不可能每一个项目从头来完成所有的 webpack 配置，这样开发的效率会大大的降低；</li>
<li>所以在真实开发中，我们通常会使用脚手架来创建一个项目，Vue 的项目我们使用的就是 Vue 的脚手架；</li>
<li>脚手架其实是建筑工程中的一个概念，在我们软件工程中也会将一些帮助我们搭建项目的工具称之为脚手架；</li>
</ul>
</li>
<li>Vue 的脚手架就是 Vue CLI：<ul>
<li>CLI 是 Command-Line Interface, 翻译为命令行界面；</li>
<li>我们可以通过 CLI 选择项目的配置和创建出我们的项目；</li>
<li>Vue CLI 已经内置了 webpack 相关的配置，我们不需要从零来配置；</li>
</ul>
</li>
</ul>
<h3 id="脚手架的安装"><a href="#脚手架的安装" class="headerlink" title="脚手架的安装"></a>脚手架的安装</h3><ul>
<li><p>安装 Vue CLI</p>
<ul>
<li>我们是进行全局安装，这样在任何时候都可以通过 vue 的命令来创建项目；</li>
<li>命令 : <strong>npm install @vue&#x2F;cli -g</strong></li>
</ul>
</li>
<li><p>升级脚手架:</p>
<ul>
<li>如果是比较旧的版本，可以通过下面的命令来升级</li>
<li>命令: <strong>npm update @vue&#x2F;cli -g</strong></li>
</ul>
</li>
</ul>
<h3 id="用脚手架创建项目"><a href="#用脚手架创建项目" class="headerlink" title="用脚手架创建项目"></a>用脚手架创建项目</h3><ul>
<li><p>通过 Vue 的命令来创建项目</p>
<ul>
<li>命令: <strong>vue create 项目的名称</strong></li>
</ul>
</li>
<li><p>项目的创建过程:</p>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/32b4506c44b748b7ac9968b177ffe9ea" alt="1660998056066"></p>
<h3 id="项目的目录结构"><a href="#项目的目录结构" class="headerlink" title="项目的目录结构"></a>项目的目录结构</h3><p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/ca9ffbd23dfd4bc8aba305dc67d120be" alt="1660998089776"></p>
<ul>
<li>jsconfig.json 的作用 :  给 VSCode 来进行读取, VSCode 在读取到其中的内容时, 给我们的代码更加友好的提示</li>
</ul>
<p><strong>jsconfig.json:</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;target&quot;</span>: <span class="string">&quot;es5&quot;</span>, <span class="comment">// 最终转为 ES5 版本的代码</span></span><br><span class="line">    <span class="string">&quot;module&quot;</span>: <span class="string">&quot;esnext&quot;</span>, <span class="comment">// 使用的模块化</span></span><br><span class="line">    <span class="string">&quot;baseUrl&quot;</span>: <span class="string">&quot;./&quot;</span>, <span class="comment">// 基础路径</span></span><br><span class="line">    <span class="string">&quot;moduleResolution&quot;</span>: <span class="string">&quot;node&quot;</span>, <span class="comment">// 按 node 的查找规则查找模块</span></span><br><span class="line">    <span class="string">&quot;paths&quot;</span>: &#123; <span class="comment">// 路径别名</span></span><br><span class="line">      <span class="string">&quot;@/*&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;src/*&quot;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="string">&quot;utils/*&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;src/utils/*&quot;</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;lib&quot;</span>: [ <span class="comment">// 项目中可能用到的库</span></span><br><span class="line">      <span class="string">&quot;esnext&quot;</span>,</span><br><span class="line">      <span class="string">&quot;dom&quot;</span>,</span><br><span class="line">      <span class="string">&quot;dom.iterable&quot;</span>,</span><br><span class="line">      <span class="string">&quot;scripthost&quot;</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>配置路径别名:</li>
</ul>
<p><strong>vue.config.js:</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; defineConfig &#125; = <span class="built_in">require</span>(<span class="string">&#x27;@vue/cli-service&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">transpileDependencies</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">configureWebpack</span>: &#123;</span><br><span class="line">    <span class="attr">resolve</span>: &#123;</span><br><span class="line">      <span class="comment">// 配置路径别名 , @ 是已经配置好的路径别名: 对应的是src路径</span></span><br><span class="line">      <span class="attr">alias</span>: &#123;</span><br><span class="line">        <span class="string">&quot;utils&quot;</span>: <span class="string">&quot;@/utils&quot;</span> </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="关于vue的版本"><a href="#关于vue的版本" class="headerlink" title="关于vue的版本"></a>关于vue的版本</h3><ul>
<li>引入的 vue 的版本<ul>
<li>默认 vue 版本: runtime, vue-loader 完成 template 的编译过程</li>
<li>vue.esm-bundler : runtime + compile, 对 template 进行编译</li>
</ul>
</li>
</ul>
<h3 id="单文件组件的使用"><a href="#单文件组件的使用" class="headerlink" title="单文件组件的使用"></a>单文件组件的使用</h3><ul>
<li>01 新建 <strong>.&#x2F;src&#x2F;components&#x2F;AppHeader.vue</strong>  单文件组件:</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&quot;AppHeader&quot;,</span><br><span class="line">  components: &#123;&#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped lang=&quot;less&quot;&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>02 在 <strong>App.vue</strong> 根组件中引入并注册使用 AppHeader.vue 组件</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2 class=&quot;title&quot;&gt;我是App.vue中的h2元素&lt;/h2&gt;</span><br><span class="line">    &lt;!-- 03 使用 AppHeader 组件 --&gt;</span><br><span class="line">    &lt;AppHeader&gt;&lt;/AppHeader&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 01 导入 AppHeader.vue 组件</span><br><span class="line">import AppHeader from &quot;./components/AppHeader&quot;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    // 02 注册 AppHeader.vue 组件</span><br><span class="line">    AppHeader</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .title &#123;</span><br><span class="line">    color: red;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="CSS的作用域"><a href="#CSS的作用域" class="headerlink" title="CSS的作用域"></a>CSS的作用域</h3><ul>
<li>在 单文件组件中 , <strong>给 style 标签添加 scoped 即可</strong>让当前的 CSS 样式仅在当前组件中生效,不添加 scoped 关键字,则样式全局生效</li>
</ul>
<h3 id="用Vite创建Vue项目"><a href="#用Vite创建Vue项目" class="headerlink" title="用Vite创建Vue项目"></a>用Vite创建Vue项目</h3><ul>
<li>01 输入命令: <strong>npm init vue@latest</strong></li>
<li>02 安装依赖: <strong>npm install</strong></li>
<li>03 运行项目: <strong>npm run dev</strong></li>
</ul>
<h3 id="脚手架的运行原理"><a href="#脚手架的运行原理" class="headerlink" title="脚手架的运行原理"></a>脚手架的运行原理</h3><p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/dadcbcb2ed59486c8160cd047a70edf8" alt="1660998125458"></p>
<h2 id="组件间通信"><a href="#组件间通信" class="headerlink" title="组件间通信"></a>组件间通信</h2><h3 id="组件的嵌套与拆分"><a href="#组件的嵌套与拆分" class="headerlink" title="组件的嵌套与拆分"></a>组件的嵌套与拆分</h3><ul>
<li><p>前面我们是将所有的逻辑放到一个 App.vue 中：</p>
<ul>
<li>在之前的案例中，我们只是创建了一个组件 App；</li>
<li>如果我们一个应用程序将所有的逻辑都放在一个组件中，那么这个组件就会变成非常的臃肿和难以维护；</li>
<li><strong>所以组件化的核心思想应该是对组件进行拆分，拆分成一个个小的组件；</strong></li>
<li><strong>再将这些组件组合嵌套在一起，最终形成我们的应用程序；</strong></li>
</ul>
</li>
<li><p>我们来分析一下下面代码的嵌套逻辑，假如我们将所有的代码逻辑都放到一个 App.vue 组件中：</p>
<ul>
<li>我们会发现，将所有的代码逻辑全部放到一个组件中，代码是非常的臃肿和难以维护的。</li>
<li>并且在真实开发中，我们会有更多的内容和代码逻辑，对于扩展性和可维护性来说都是非常差的。</li>
<li>所以，在真实的开发中，我们会对组件进行拆分，拆分成一个个功能的小组件。</li>
</ul>
</li>
<li><p>我们可以按照如下的方式进行拆分：</p>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/fa62e069fd2644a099cfaed346bf9ec3" alt="1661005868890"></p>
<ul>
<li><p>按照如上的拆分方式后，我们开发对应的逻辑只需要去对应的组件编写就可。</p>
</li>
<li><p>01 在 <strong>.&#x2F;src&#x2F;components</strong> 文件夹中分别创建上述的五个组件, <strong>Header.vue</strong> , <strong>Main.vue</strong> , <strong>Footer.vue</strong> , <strong>Banner.vue</strong> , <strong>ProducList.vue</strong></p>
</li>
<li><p>02 在 <strong>App.vue</strong> 组件中,将  <strong>Header.vue</strong> , <strong>Main.vue</strong> , <strong>Footer.vue</strong> 三个组件注册为子组件</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 03 使用组件 --&gt;</span><br><span class="line">  	&lt;Header&gt;&lt;/Header&gt;</span><br><span class="line">    &lt;Main&gt;&lt;/Main&gt;</span><br><span class="line">    &lt;Footer&gt;&lt;/Footer&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 01 导入组件</span><br><span class="line">import Header from &#x27;./components/Header.vue&#x27;</span><br><span class="line">import Main from &#x27;./components/Main.vue&#x27;</span><br><span class="line">import Footer from &#x27;./components/Footer.vue&#x27;</span><br><span class="line">  </span><br><span class="line">export default &#123;</span><br><span class="line">  name:&quot;App&quot;,</span><br><span class="line">  // 02 注册组件</span><br><span class="line">  components: &#123;Header,Main,Footer&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped lang=&quot;less&quot;&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>03 在 <strong>Main.vue:</strong> 组件中, 将 <strong>Banner.vue</strong> , <strong>ProducList.vue</strong> 两个组件注册为子组件</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 03 使用组件 --&gt;</span><br><span class="line">    &lt;Banner&gt;&lt;/Banner&gt;</span><br><span class="line">    &lt;ProducList&gt;&lt;/ProducList&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 01 导入组件</span><br><span class="line">import Banner from &quot;./components/Banner.vue&quot;;</span><br><span class="line">import ProducList from &quot;./components/ProducList.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Main&quot;,</span><br><span class="line">  // 02 注册组件</span><br><span class="line">  components: &#123; Banner, ProducList &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped lang=&quot;less&quot;&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="组件间通信介绍"><a href="#组件间通信介绍" class="headerlink" title="组件间通信介绍"></a>组件间通信介绍</h3><ul>
<li><p>上面的嵌套逻辑如下，它们存在如下关系：</p>
<ul>
<li>App 组件是 Header、Main、Footer 组件的父组件；</li>
<li>Main 组件是 Banner、ProductList 组件的父组件；</li>
</ul>
</li>
<li><p>在开发过程中，我们会经常遇到需要组件之间相互进行通信,即组件间相互传递数据：</p>
<ul>
<li>比如 App 可能使用了多个 Header，每个地方的 Header 展示的内容不同，那么我们就需要使用者传递给 Header 一些数据，让其进行展示；</li>
<li>又比如我们在 Main 中一次性请求了 Banner 数据和 ProductList 数据，那么就需要传递给它们来进行展示；</li>
<li>也可能是子组件中发生了事件，需要由父组件来完成某些操作，那就需要子组件向父组件传递事件；</li>
</ul>
</li>
<li><p>总之，在一个 Vue 项目中，组件之间的通信是非常重要的环节，所以接下来我们就具体学习一下组件之间是如何相互之间传递数据的；</p>
</li>
</ul>
<h3 id="组件间通信方式"><a href="#组件间通信方式" class="headerlink" title="组件间通信方式"></a>组件间通信方式</h3><ul>
<li>父子组件之间如何进行通信呢？<ul>
<li>父组件传递给子组件：<strong>子组件通过 props 属性接收由父组件传递过来的数据</strong>；</li>
<li>子组件传递给父组件：<strong>子组件通过自定义事件 $emit 触发事件并携带要传递的数据,父组件监听子组件传递的自定义事件；</strong></li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/97585dc75cec4d58b6e251787a7d652c" alt="1661007932753"></p>
<h3 id="父组件传向子组件"><a href="#父组件传向子组件" class="headerlink" title="父组件传向子组件"></a>父组件传向子组件</h3><ul>
<li>在开发中很常见的就是父子组件之间通信，比如父组件有一些数据，需要子组件来进行展示：<ul>
<li>这个时候我们可以通过 props 来完成组件之间的通信；</li>
</ul>
</li>
<li>什么是 Props 呢？<ul>
<li>Props 是你可以在组件上注册一些自定义的 attribute；</li>
<li>父组件给这些 attribute 赋值，子组件通过 attribute 的名称获取到对应的值；</li>
</ul>
</li>
<li>Props 有两种常见的用法：<ul>
<li>方式一：字符串数组，数组中的字符串就是 attribute 的名称；<ul>
<li>弊端: <ul>
<li>01 不能对类型进行验证 </li>
<li>02 没有默认值</li>
</ul>
</li>
</ul>
</li>
<li>方式二：对象类型，对象类型我们可以在指定 attribute 名称的同时，指定它需要传递的类型、是否是必须的、默认值等等；<ul>
<li>如果默认值是 对象 或者 数组, 则要求 default 必须是一个函数, 返回要设置的默认值</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="数组类型接收"><a href="#数组类型接收" class="headerlink" title="数组类型接收"></a>数组类型接收</h4><p><strong>父组件 App.vue :</strong>  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- 03 使用子组件并传递数据 --&gt;</span><br><span class="line">  &lt;show-info name=&quot;why&quot; :age=&quot;18&quot; :height=&quot;1.88&quot; address=&quot;广州市&quot; abc=&quot;cba&quot; class=&quot;active&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 01 导入子组件</span><br><span class="line">import ShowInfo from &#x27;./components/ShowInfo.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    // 02 注册子组件</span><br><span class="line">    ShowInfo,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>**子组件 ShowInfo.vue : **</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;infos&quot;&gt;</span><br><span class="line">    &lt;!-- 05 使用父组件传递过来的数据 --&gt;</span><br><span class="line">    &lt;h2&gt;姓名: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;年龄: &#123;&#123; age &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;身高: &#123;&#123; height &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;div class=&quot;others&quot; v-bind=&quot;$attrs&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  // 04 接收父组件传递过来的数据  props 数组语法   弊端: 01 不能对类型进行验证  02 没有默认值</span><br><span class="line">  props: [&quot;name&quot;, &quot;age&quot;, &quot;height&quot;]</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>数据由父组件传向子组件过程图解:</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/74b3956c4fe548b2919d0a0050d48e7a" alt="1661078657538"></p>
<h4 id="对象类型接收"><a href="#对象类型接收" class="headerlink" title="对象类型接收"></a>对象类型接收</h4><ol>
<li><p>数组用法中我们只能说明传入的 attribute 的名称，并不能对其进行任何形式的限制，接下来我们来看一下对象的写法是如何让我们的 props 变得更加完善的。</p>
</li>
<li><p>当使用对象语法的时候，我们可以对传入的内容限制更多：</p>
<ul>
<li>比如指定传入的 attribute 的类型；</li>
<li>比如指定传入的 attribute 是否是必传的；</li>
<li>比如指定没有传入时，attribute 的默认值；</li>
</ul>
</li>
<li><p>type 的类型都可以是以下类型:<code> String  Number  Boolean  Array  Object  Date  Function  Symbol</code></p>
</li>
<li><p>Prop 的大小写命名(camelCase vs kebab-case):</p>
<ul>
<li>HTML 中的 attribute 名是大小写不敏感的，所以浏览器会把所有大写字符解释为小写字符；</li>
<li>这意味着当你使用 DOM 中的模板时，camelCase (驼峰命名法) 的 prop 名需要使用其等价的 kebab-case (短横线分隔命名)命名；</li>
</ul>
</li>
<li><p>在向子组件传递数据时,在属性前面加 <code>:</code> (v-bind),则值会成为 number 类型 </p>
<ol>
<li>只限于等号后面是数字才可以这么操作</li>
<li>如果等号后面的是字符串,而又加了<code>:</code>,则会把等号后面的字符串作为变量处理, 会报警告</li>
</ol>
</li>
</ol>
<p><strong>父组件 App.vue :</strong>  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- 03 使用子组件并传递数据 在属性前面加 `:` ,则值会成为 number 类型,仅限数值型 --&gt;</span><br><span class="line">  &lt;show-info name=&quot;why&quot; :age=&quot;18&quot; :height=&quot;1.88&quot; address=&quot;广州市&quot; abc=&quot;cba&quot; class=&quot;active&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 01 导入子组件</span><br><span class="line">import ShowInfo from &#x27;./components/ShowInfo.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    // 02 注册子组件</span><br><span class="line">    ShowInfo,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>子组件 ShowInfo.vue :</strong> </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;infos&quot;&gt;</span><br><span class="line">    &lt;h2&gt;姓名: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;年龄: &#123;&#123; age &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;身高: &#123;&#123; height &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;div class=&quot;others&quot; v-bind=&quot;$attrs&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  // 2.props对象语法(必须掌握)</span><br><span class="line">  props: &#123;</span><br><span class="line">    name: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &quot;我是默认name&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">    age: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      required: true, // 要求必须传递</span><br><span class="line">      default: 0,</span><br><span class="line">    &#125;,</span><br><span class="line">    height: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default: 2,</span><br><span class="line">    &#125;,</span><br><span class="line">    // 对象类型写默认值时, 要求 default 必须是一个函数, 返回默认值</span><br><span class="line">    friend: &#123;</span><br><span class="line">      type: Object,</span><br><span class="line">      default() &#123;</span><br><span class="line">        return &#123; name: &quot;james&quot; &#125;;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    // 数组类型写默认值时, 要求 default 必须是一个函数, 返回默认值</span><br><span class="line">    hobbies: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      default: () =&gt; [&quot;篮球&quot;, &quot;rap&quot;, &quot;唱跳&quot;],</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="关于-attrs"><a href="#关于-attrs" class="headerlink" title="关于 $attrs"></a>关于 $attrs</h4><ul>
<li><p>什么是非 Prop 的 Attribute 呢？</p>
<ul>
<li>当我们传递给一个组件某个属性，但是该属性并没有定义对应的 props 或者 emits 时，就称之为 非 Prop 的 Attribute；</li>
<li>常见的包括 class、style、id 属性等；</li>
</ul>
</li>
<li><p>Attribute 继承</p>
<ul>
<li>当组件有单个根节点时，非 Prop 的 Attribute 将自动添加到根节点的 Attribute 中：</li>
</ul>
</li>
<li><p>如果我们不希望组件的根元素继承 attribute，可以在组件中设置<code> inheritAttrs: false</code></p>
<ul>
<li>禁用 attribute 继承的常见情况是需要将 attribute 应用于根元素之外的其他元素；</li>
<li>我们可以通过 $attrs 来访问所有的 非 props 的 attribute；</li>
</ul>
</li>
<li><p>多个根节点的 attribute</p>
<ul>
<li>多个根节点的 attribute 如果没有显示的绑定，那么会报警告，我们必须手动的指定要绑定到哪一个属性上：</li>
</ul>
</li>
<li><p>对以上内容的简单解释 : </p>
<ul>
<li>组件在使用并往组件中传递属性(数据)时 , 如果在子组件中没有通过 props 接收,则会保存到一个叫 <strong>$attrs</strong> 的对象中</li>
<li>并且会默认将 <strong>$attrs</strong> 对象中的属性和属性值绑定子组件的根标签上, 属性相同则会合并,不会覆盖原有的标签属性</li>
<li>可以通过在子组件中添加  <strong>inheritAttrs: false,</strong>,取消绑定到根标签</li>
<li>如果子组件中有多个根标签,若没有指定 <strong>$attrs</strong> 对象绑定到那个根标签,则会报警告</li>
<li><strong>$attrs</strong> 对象是一个由父组件传递数据给子组件,但是子组件没有通过 props 接收的参数组成的普通对象</li>
<li><strong>$attrs</strong> 对象的格式形如 :  <strong>{ “address”: “广州市”, “abc”: “cba”, “class”: “active” }</strong> , 通过 props 接收了的数据,不会出现在  <strong>$attrs</strong> 对象中</li>
</ul>
</li>
</ul>
<p><strong>父组件 App.vue :</strong>  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- 03 使用子组件并传递数据 --&gt;</span><br><span class="line">  &lt;show-info name=&quot;why&quot; :age=&quot;18&quot; :height=&quot;1.88&quot; address=&quot;广州市&quot; abc=&quot;cba&quot; class=&quot;active&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 01 导入子组件</span><br><span class="line">import ShowInfo from &#x27;./components/ShowInfo.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    // 02 注册子组件</span><br><span class="line">    ShowInfo,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>子组件 ShowInfo.vue :</strong> </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;infos&quot;&gt;</span><br><span class="line">    &lt;!-- 05 使用父组件传递过来的数据 --&gt;</span><br><span class="line">    &lt;h2&gt;姓名: &#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;年龄: &#123;&#123; age &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;身高: &#123;&#123; height &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">	&lt;!-- 若有多个根标签,不指定 $attrs 对象绑定到那个根标签,就会报警告 --&gt;</span><br><span class="line">  &lt;!-- &lt;div class=&quot;others&quot; v-bind=&quot;$attrs&quot;&gt;&lt;/div&gt; --&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  inheritAttrs: false, //取消默认绑定 $attrs 对象到根标签</span><br><span class="line">  // 04 接收父组件传递过来的数据  props 数组语法   弊端: 01 不能对类型进行验证  02 没有默认值的</span><br><span class="line">  props: [&quot;name&quot;, &quot;age&quot;, &quot;height&quot;]</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="子组件传向父组件"><a href="#子组件传向父组件" class="headerlink" title="子组件传向父组件"></a>子组件传向父组件</h3><h4 id="传递的过程介绍"><a href="#传递的过程介绍" class="headerlink" title="传递的过程介绍"></a>传递的过程介绍</h4><ul>
<li>什么情况下子组件需要传递内容到父组件呢？<ul>
<li>当子组件有一些事件发生的时候，比如在组件中发生了点击，父组件需要切换内容；</li>
<li>子组件有一些内容想要传递给父组件的时候；</li>
</ul>
</li>
<li>我们如何完成上面的操作呢？<ul>
<li>首先，我们需要在子组件中定义好在某些情况下触发的事件名称；</li>
<li>其次，在父组件中以 v-on 的方式传入要监听的事件名称，并且绑定到对应的方法中；</li>
<li>最后，在子组件中发生某个事件的时候，根据事件名称触发对应的事件；</li>
</ul>
</li>
</ul>
<h4 id="数据传递详细过程"><a href="#数据传递详细过程" class="headerlink" title="数据传递详细过程"></a>数据传递详细过程</h4><p><strong>子组件 SubCounter :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;sub&quot;&gt;</span><br><span class="line">    &lt;button @click=&quot;btnClick(1)&quot;&gt;-1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;btnClick(5)&quot;&gt;-5&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;btnClick(10)&quot;&gt;-10&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&quot;SubCounter&quot;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // 01 按钮的事件回调</span><br><span class="line">    btnClick(count) &#123;</span><br><span class="line">      // 02 发射自定义事件 sub , 并同时携带参数 count</span><br><span class="line">      this.$emit(&quot;sub&quot;, count);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>子组件 AddCounter.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;add&quot;&gt;</span><br><span class="line">    &lt;button @click=&quot;btnClick(1)&quot;&gt;+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;btnClick(5)&quot;&gt;+5&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;btnClick(10)&quot;&gt;+10&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&quot;AddCounter&quot;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // 01 按钮的事件回调</span><br><span class="line">    btnClick(count) &#123;</span><br><span class="line">      // 02 子组件发出去一个自定义事件, 第一个参数自定义的事件名称,第二个参数是传递给父组件的参数</span><br><span class="line">      this.$emit(&quot;add&quot;, count);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>父组件 App.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2&gt;当前计数: &#123;&#123; counter &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;!-- 3. 自定义add-counter, 并且监听内部的add事件,并触发事件回调 --&gt;</span><br><span class="line">    &lt;add-counter @add=&quot;addBtnClick&quot;&gt;&lt;/add-counter&gt;</span><br><span class="line">    &lt;!-- 3. 自定义sub-counter, 并且监听内部的sub事件,并触发事件回调 --&gt;</span><br><span class="line">    &lt;sub-counter @sub=&quot;subBtnClick&quot;&gt;&lt;/sub-counter&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import AddCounter from &quot;./components/AddCounter.vue&quot;;</span><br><span class="line">import SubCounter from &quot;./components/SubCounter.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    AddCounter,</span><br><span class="line">    SubCounter,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      counter: 0,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // 4. 监听的子组件发射的自定义事件对应的回调,携带来的数据由count接收</span><br><span class="line">    addBtnClick(count) &#123;</span><br><span class="line">      this.counter += count;</span><br><span class="line">    &#125;,</span><br><span class="line">    subBtnClick(count) &#123;</span><br><span class="line">      this.counter -= count;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>子组件传递数据给父组件详细过程图解: (仅展示一个子组件与一个父组件之间的数据传递)</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/5b301e436a0342829109519782b279d7" alt="1661088280352"></p>
<h4 id="携带参数和验证"><a href="#携带参数和验证" class="headerlink" title="携带参数和验证"></a>携带参数和验证</h4><ul>
<li>在 vue3 当中，我们可以对传递的参数进行验证,以及对自定义事件的注册：<ul>
<li>(验证数据和注册自定义事件为可选操作,不写也能正常传递数据)</li>
</ul>
</li>
<li>01 emits 数组语法,注册自定义事件:</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  // 1. emits 数组语法,注册自定义事件(常用,推荐,非必须操作,但能添加代码提示)</span><br><span class="line">  emits: [&quot;add&quot;],</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // 01 按钮的事件回调</span><br><span class="line">    btnClick(count) &#123;</span><br><span class="line">      console.log(&quot;btnClick:&quot;, count);</span><br><span class="line">      // 子组件发出去一个自定义事件, 第一个参数自定义的事件名称,第二个参数是传递给父组件的参数</span><br><span class="line">      this.$emit(&quot;add&quot;, 100);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>02 emits 对象语法,并进行数据验证</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  // 2. emits 对象语法,并进行数据验证(不常用,非必须操作)</span><br><span class="line">  emits: &#123;</span><br><span class="line">    add: function(count) &#123;</span><br><span class="line">      if (count &lt;= 10) &#123;</span><br><span class="line">        return true // 验证通过</span><br><span class="line">      &#125;</span><br><span class="line">      return false // 验证不通过 , 即使验证不通过,还是可以正常传递数据的,但是会报警告</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // 01 按钮的事件回调</span><br><span class="line">    btnClick(count) &#123;</span><br><span class="line">      console.log(&quot;btnClick:&quot;, count);</span><br><span class="line">      // 子组件发出去一个自定义事件, 第一个参数自定义的事件名称,第二个参数是传递给父组件的参数</span><br><span class="line">      this.$emit(&quot;add&quot;, 100);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="组件间通信案例"><a href="#组件间通信案例" class="headerlink" title="组件间通信案例"></a>组件间通信案例</h3><p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/ebb595fe209d45429563f5cd19db711e" alt="1661135610224"></p>
<p><strong>父组件 App.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 03 将要展示的数据传递给子组件 --&gt;</span><br><span class="line">    &lt;!-- 07 监听子组件的自定义事件及回调 --&gt;</span><br><span class="line">    &lt;TabControl :titles=&quot;pageContents&quot; @tabItemClick=&quot;tabItemClick&quot;&gt;&lt;/TabControl&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123; pageContents[currentIndex] &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 01 导入注册并使用子组件</span><br><span class="line">import TabControl from &quot;./components/TabControl.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    TabControl,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      // 02 需要展示的数据</span><br><span class="line">      pageContents: [&quot;衣服列表&quot;, &quot;鞋子列表&quot;, &quot;裤子列表&quot;],</span><br><span class="line">      currentIndex: 0, // 用于控制显示那个内容</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // 08 自定义事件回调及业务处理</span><br><span class="line">    tabItemClick(index) &#123;</span><br><span class="line">      this.currentIndex = index; // 用于控制显示那个内容</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>**子组件 TabControl.vue : **</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;tab-control&quot;&gt;</span><br><span class="line">    &lt;!-- 05 遍历数据生成结构 --&gt;</span><br><span class="line">    &lt;template v-for=&quot;(item, index) in titles&quot; :key=&quot;item&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;tab-control-item&quot; :class=&quot;&#123; active: currentIndex === index &#125;&quot; @click=&quot;itemClick(index)&quot;&gt;&lt;span&gt;&#123;&#123; item &#125;&#125;&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;TabControl&quot;,</span><br><span class="line">  components: &#123;&#125;,</span><br><span class="line">  // 04 子组件接收来自父组件的数据</span><br><span class="line">  props: &#123;</span><br><span class="line">    titles: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      default: () =&gt; [],</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      currentIndex: 0, // 用于控制 active 类名的切换</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // 06 事件回调,切换 active 类名,并将当前索引传递给父组件</span><br><span class="line">    itemClick(index) &#123;</span><br><span class="line">      this.currentIndex = index; // 控制 active 类名的切换</span><br><span class="line">      this.$emit(&quot;tabItemClick&quot;, index); // 自定义事件,传数据给父组件</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.tab-control &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  height: 44px;</span><br><span class="line">  line-height: 44px;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tab-control-item &#123;</span><br><span class="line">  flex: 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tab-control-item.active &#123;</span><br><span class="line">  color: red;</span><br><span class="line">  font-weight: 700;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tab-control-item.active span &#123;</span><br><span class="line">  border-bottom: 3px solid red;</span><br><span class="line">  padding: 8px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>案例业务逻辑大致流程图解:</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/31ea6f0f8bc24295912b1d1dabb8db46" alt="1661136533354"></p>
<h3 id="插槽Slot"><a href="#插槽Slot" class="headerlink" title="插槽Slot"></a>插槽Slot</h3><h4 id="认识插槽Slot"><a href="#认识插槽Slot" class="headerlink" title="认识插槽Slot"></a>认识插槽Slot</h4><ul>
<li>在开发中，我们会经常封装一个个可复用的组件：<ul>
<li>前面我们会通过 props 传递给组件一些数据，让组件来进行展示；</li>
<li>但是为了让这个组件具备更强的通用性，我们不能将组件中的内容限制为固定的 div、span 等等这些元素；</li>
<li>比如某种情况下我们使用组件，希望组件显示的是一个按钮，某种情况下我们使用组件希望显示的是一张图片；</li>
<li>我们应该让使用者可以决定某一块区域到底存放什么内容和元素；</li>
</ul>
</li>
<li>举个栗子：假如我们定制一个通用的导航组件 - NavBar<ul>
<li>这个组件分成三块区域：左边-中间-右边，每块区域的内容是不固定；</li>
<li>左边区域可能显示一个菜单图标，也可能显示一个返回按钮，可能什么都不显示；</li>
<li>中间区域可能显示一个搜索框，也可能是一个列表，也可能是一个标题，等等；</li>
<li>右边可能是一个文字，也可能是一个图标，也可能什么都不显示；</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/6d6e34aebc0049608bb305ff6bbbf48c" alt="1661136905929"></p>
<h4 id="使用插槽slot"><a href="#使用插槽slot" class="headerlink" title="使用插槽slot"></a>使用插槽slot</h4><ul>
<li>这个时候我们就可以来定义插槽 slot：<ul>
<li>插槽的使用过程其实是抽取共性、预留不同；</li>
<li>我们会将共同的元素、内容依然在组件内进行封装；</li>
<li>同时会将不同的元素使用 slot 作为占位，让外部决定到底显示什么样的元素；</li>
</ul>
</li>
<li>如何使用 slot 呢？<ul>
<li>Vue 中将 slot 元素作为承载分发内容的出口；</li>
<li>在封装组件中，使用特殊的元素 slot 就可以为封装组件开启一个插槽；</li>
<li>该插槽插入什么内容取决于父组件如何使用；</li>
</ul>
</li>
</ul>
<img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/16f4c7a9c99e4b9891d17f16d28acfef" alt="image-20230312102310666" style="zoom:67%;" />

<h4 id="使用slot与默认内容"><a href="#使用slot与默认内容" class="headerlink" title="使用slot与默认内容"></a>使用slot与默认内容</h4><ul>
<li>有时候我们希望在使用插槽时，如果没有插入对应的内容，那么我们需要显示一个默认的内容：<ul>
<li>当然这个默认的内容只会在没有提供插入的内容时，才会显示；</li>
</ul>
</li>
</ul>
<p>**父组件 App.vue : **</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 内容是一张图片 --&gt;</span><br><span class="line">    &lt;show-message&gt;</span><br><span class="line">      &lt;img src=&quot;@/img/04.webp&quot; alt=&quot;&quot; /&gt;</span><br><span class="line">    &lt;/show-message&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 内容是button --&gt;</span><br><span class="line">    &lt;show-message title=&quot;哈哈哈&quot;&gt;</span><br><span class="line">      &lt;button&gt;我是按钮元素&lt;/button&gt;</span><br><span class="line">    &lt;/show-message&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 内容是超链接 --&gt;</span><br><span class="line">    &lt;show-message&gt;</span><br><span class="line">      &lt;a href=&quot;#&quot;&gt;百度一下&lt;/a&gt;</span><br><span class="line">    &lt;/show-message&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 内容没有传递,就会使用插槽的默认内容 --&gt;</span><br><span class="line">    &lt;show-message&gt;&lt;/show-message&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import ShowMessage from &quot;./components/ShowMessage.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    ShowMessage,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>**子组件 ShowMessage.vue : **</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123; title &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;div class=&quot;content&quot;&gt;</span><br><span class="line">    &lt;slot&gt;</span><br><span class="line">      &lt;!-- 插槽的默认内容 --&gt;</span><br><span class="line">      &lt;p&gt;我是默认内容, 哈哈哈&lt;/p&gt;</span><br><span class="line">    &lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&quot;ShowMessage&quot;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    title: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &quot;我是title默认值&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>插槽基本使用图解:</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/76092576628043ebb6a5ddb8f462bfcb" alt="1661138040895"></p>
<h4 id="多个插槽的默认效果"><a href="#多个插槽的默认效果" class="headerlink" title="多个插槽的默认效果"></a>多个插槽的默认效果</h4><ul>
<li>我们先测试一个知识点：如果一个组件中含有多个插槽，我们插入多个内容时是什么效果？<ul>
<li>我们会发现默认情况下每个插槽都会获取到我们插入的内容来显示；(组件标签中的所有内容会作为一个整体,插入到插槽 slot 中)</li>
</ul>
</li>
</ul>
<p><strong>父组件 App.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 内容是一张图片 --&gt;</span><br><span class="line">    &lt;show-message&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;span&gt;hai~我是图片&lt;/span&gt;</span><br><span class="line">        &lt;img src=&quot;@/img/04.webp&quot; alt=&quot;&quot; /&gt;</span><br><span class="line">        &lt;a href=&quot;##&quot;&gt;百度一下&lt;/a&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/show-message&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>**子组件 ShowMessage.vue : **</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;content&quot;&gt;</span><br><span class="line">    &lt;slot&gt;</span><br><span class="line">      &lt;p&gt;我是默认内容, 哈哈哈&lt;/p&gt;</span><br><span class="line">    &lt;/slot&gt;</span><br><span class="line">    &lt;slot&gt;</span><br><span class="line">      &lt;p&gt;我是默认内容, 哈哈哈&lt;/p&gt;</span><br><span class="line">    &lt;/slot&gt;</span><br><span class="line">    &lt;slot&gt;</span><br><span class="line">      &lt;p&gt;我是默认内容, 哈哈哈&lt;/p&gt;</span><br><span class="line">    &lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a>具名插槽</h4><ul>
<li>事实上，我们希望达到的效果是插槽对应的显示，这个时候我们就可以使用 具名插槽：<ul>
<li>具名插槽顾名思义就是给插槽起一个名字，slot 元素有一个特殊的 name 属性</li>
<li>一个不带 name 的 slot，会带有隐含的默认名字 default </li>
<li>具名插槽要配合 template 标签使用</li>
<li>具名插槽会按照对应的 name,插入到指定的 slot 插槽中</li>
</ul>
</li>
<li>具名插槽使用的时候缩写：<ul>
<li>跟 v-on 和 v-bind 一样，v-slot 也有缩写；</li>
<li>即把参数之前的所有内容 (<code>v-slot:</code>) 替换为字符 <code>#</code>；</li>
</ul>
</li>
</ul>
<p><strong>父组件 App.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;nav-bar&gt;</span><br><span class="line">    &lt;!-- 02 使用具名插槽: 通过 v-slot:xxx 指示将内容插入到那一个插槽中 ,#left 是 v-slot:left 的简写 ,具名插槽要配合 template 标签使用--&gt;</span><br><span class="line">    &lt;template #left&gt;</span><br><span class="line">      &lt;button&gt;返回&lt;/button&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">    &lt;template #center&gt;</span><br><span class="line">      &lt;span&gt;内容&lt;/span&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">    &lt;template v-slot:right&gt;</span><br><span class="line">      &lt;a href=&quot;##&quot;&gt;登录&lt;/a&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">  &lt;/nav-bar&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>**子组件 ShowMessage.vue : **</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;nav-bar&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;left&quot;&gt;</span><br><span class="line">      &lt;!-- 01 具名插槽 : 用 slot 的 name 属性标识--&gt;</span><br><span class="line">      &lt;slot name=&quot;left&quot;&gt;left&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;center&quot;&gt;</span><br><span class="line">      &lt;slot name=&quot;center&quot;&gt;center&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;right&quot;&gt;</span><br><span class="line">      &lt;slot name=&quot;right&quot;&gt;right&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;div class=&quot;other&quot;&gt;</span><br><span class="line">    &lt;slot name=&quot;default&quot;&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>图解:</li>
</ul>
<h4 id="动态插槽名"><a href="#动态插槽名" class="headerlink" title="动态插槽名"></a>动态插槽名</h4><ul>
<li>什么是动态插槽名呢？<ul>
<li>目前我们使用的插槽名称都是固定的；</li>
<li>比如 v-slot:left、v-slot:center 等等；</li>
<li>我们可以通过  v-slot:[dynamicSlotName] 方式动态绑定一个名称；</li>
</ul>
</li>
</ul>
<p><strong>父组件 App.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- nav-bar只给一个插槽传入数据 position 作为一个变量,值来自于 data--&gt;</span><br><span class="line">  &lt;nav-bar&gt;</span><br><span class="line">    &lt;template v-slot:[position]&gt;</span><br><span class="line">      &lt;a href=&quot;#&quot;&gt;注册&lt;/a&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">  &lt;/nav-bar&gt;</span><br><span class="line"></span><br><span class="line">	&lt;!-- 通过方法修改 position 的值 --&gt;</span><br><span class="line">  &lt;button @click=&quot; position = &#x27;left&#x27; &quot;&gt;左边&lt;/button&gt;</span><br><span class="line">  &lt;button @click=&quot; position = &#x27;center&#x27; &quot;&gt;中间&lt;/button&gt;</span><br><span class="line">  &lt;button @click=&quot; position = &#x27;right&#x27; &quot;&gt;右边&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import NavBar from &#x27;./components/ShowMessage.vue&#x27;</span><br><span class="line">  export default &#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">      NavBar</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        position: &quot;center&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>**子组件 ShowMessage.vue : **</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;nav-bar&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;left&quot;&gt;</span><br><span class="line">      &lt;slot name=&quot;left&quot;&gt;left&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;center&quot;&gt;</span><br><span class="line">      &lt;slot name=&quot;center&quot;&gt;center&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;right&quot;&gt;</span><br><span class="line">      &lt;slot name=&quot;right&quot;&gt;right&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;div class=&quot;other&quot;&gt;</span><br><span class="line">    &lt;!-- 插槽 slot 不指定 name 值, name 会有一个默认值 default --&gt;</span><br><span class="line">    &lt;slot name=&quot;default&quot;&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>图解:</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/d98d96828bb748868747c9ece0c8088a" alt="1661147524832"></p>
<h4 id="渲染作用域"><a href="#渲染作用域" class="headerlink" title="渲染作用域"></a>渲染作用域</h4><ul>
<li>在 Vue 中有渲染作用域的概念：<ul>
<li>父级模板里的所有内容都是在父级作用域中编译的；</li>
<li>子模板里的所有内容都是在子作用域中编译的；</li>
</ul>
</li>
<li>如何理解这句话呢？我们来看一个案例：<ul>
<li>在我们的案例中 ChildCpn.vue 自然是可以使用自己作用域中的 title 内容的；</li>
<li>但是在 App.vue 中，是访问不了 ChildCpn.vue 中的内容的，因为它们是跨作用域的访问；</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/94faff2b7f5d4e52b9809a8759e20c20" alt="1661147855415"></p>
<h4 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h4><ul>
<li><p>但是有时候我们希望插槽可以访问到子组件中的内容是非常重要的：</p>
<ul>
<li>当一个组件被用来渲染一个数组元素时，我们使用插槽，并且希望插槽中没有显示每项的内容；</li>
<li>这个 Vue 给我们提供了作用域插槽；</li>
</ul>
</li>
<li><p>我们来看下面的一个案例：</p>
<ul>
<li>1.在 App.vue 中定义好数据</li>
<li>2.传递给 ShowNames 组件中</li>
<li>3.ShowNames 组件中遍历 names 数据</li>
<li>4.定义插槽的 prop</li>
<li>5.通过 v-slot:default 的方式获取到 slot 的 props</li>
<li>6.使用 slotProps 中的 item 和 index</li>
</ul>
</li>
<li><p>案例图解:</p>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="/images/1661148108771.png" alt="1661148108771"></p>
<h4 id="默认插槽的缩写"><a href="#默认插槽的缩写" class="headerlink" title="默认插槽的缩写"></a>默认插槽的缩写</h4><ul>
<li>如果我们的插槽是默认插槽 default，那么在使用的时候, <code>v-slot:default=&quot;slotProps&quot;</code> 可以简写为 <code>v-slot=&quot;slotProps&quot;</code> ：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/7d6967cb0bb34d92a9131c7ea7e626a7" alt="1661148242579"></p>
<ul>
<li>并且如果我们的插槽只有默认插槽时，组件的标签可以被当做插槽的模板来使用，这样，我们就可以将 v-slot 直接用在组件上：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/23809ee80b9344deb4b942dc43007e38" alt="1661148249289"></p>
<h4 id="具名与默认插槽混合"><a href="#具名与默认插槽混合" class="headerlink" title="具名与默认插槽混合"></a>具名与默认插槽混合</h4><ul>
<li>但是，如果我们有默认插槽和具名插槽，那么按照完整的 template 来编写。</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/604ea0c4638642279541f64febe0ea8a" alt="1661148370289"></p>
<ul>
<li>只要出现多个插槽，请始终为所有的插槽使用完整的基于 template 的语法：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/86ed43e8ab4f490598bc27ab9bd90847" alt="1661148378114"></p>
<h3 id="全局事件总线"><a href="#全局事件总线" class="headerlink" title="全局事件总线"></a>全局事件总线</h3><h4 id="全局事件总线的使用"><a href="#全局事件总线的使用" class="headerlink" title="全局事件总线的使用"></a>全局事件总线的使用</h4><ul>
<li>Vue3 从实例中移除了 <code>$on</code>、<code>$off</code> 和 <code>$once </code> 方法，所以我们如果希望继续使用全局事件总线，要通过第三方的库：<ul>
<li>Vue3官方有推荐一些库，例如 <strong>mitt 或 tiny-emitter</strong>；</li>
<li>全局事件总线传递数据,跟组件之间的嵌套关系无关,任意组件都可以触发自定义事件提供数据,其他任意组件都可以监听自定义事件和接收数据</li>
<li>父子组件间的数据传递,不推荐使用全局事件总线, 推荐使用父子组件间通信的 props 和 $emit 方法实现</li>
</ul>
</li>
<li>这里我们主要讲解一下 hy-event-store 的使用；<ul>
<li>首先，我们需要先安装这个库： <code>npm install hy-event-bus</code></li>
<li>其次，我们可以封装一个工具 **.&#x2F;src&#x2F;utils&#x2F;eventbus.js **：</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入第三方库</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">HYEventBus</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;hy-event-store&#x27;</span></span><br><span class="line"><span class="comment">// 创建实例对象</span></span><br><span class="line"><span class="keyword">const</span> eventBus = <span class="keyword">new</span> <span class="title class_">HYEventBus</span>()</span><br><span class="line"><span class="comment">// 导出实例对象</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> eventBus</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>App.vue :</strong>   监听自定义事件,接收提供的数据</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2&gt;App Message: &#123;&#123; message &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;home&gt;&lt;/home&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  // 01 导入创建的第三方库的实例对象 </span><br><span class="line">  import eventBus from &#x27;./utils/event-bus&#x27;</span><br><span class="line">  import Home from &#x27;./Home.vue&#x27;</span><br><span class="line">  export default &#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">      Home,</span><br><span class="line">      Category</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        message: &quot;Hello App&quot;,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line">      // 03 在需要数据的组件中监听自定义事件,数据由回调方法形参接收</span><br><span class="line">      //    参数1: 触发的自定义事件名  参数2: 自定义事件的回调</span><br><span class="line">      eventBus.on(&quot;whyEvent&quot;, (name, age, height) =&gt; &#123;</span><br><span class="line">        console.log(&quot;whyEvent事件在app中监听&quot;, name, age, height)</span><br><span class="line">        this.message = `name:$&#123;name&#125;, age:$&#123;age&#125;, height:$&#123;height&#125;`</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>HomeBanner.vue:</strong>  触发自定义事件,并提供数据   ( HomeBanner.vue 组件时 App.vue 组件的孙子组件)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;banner&quot;&gt;</span><br><span class="line">    &lt;button @click=&quot;bannerBtnClick&quot;&gt;banner按钮&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import eventBus from &#x27;./utils/event-bus&#x27;</span><br><span class="line"></span><br><span class="line">  export default &#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">      bannerBtnClick() &#123;</span><br><span class="line">        // 02 在某个组件中触发自定义事件并携带要传递的数据</span><br><span class="line">        console.log(&quot;bannerBtnClick&quot;)</span><br><span class="line">        eventBus.emit(&quot;whyEvent&quot;, &quot;why&quot;, 18, 1.88)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="全局事件总线的取消"><a href="#全局事件总线的取消" class="headerlink" title="全局事件总线的取消"></a>全局事件总线的取消</h4><ul>
<li>在某些情况下我们可能希望取消掉之前注册的函数监听：<ul>
<li>通过全局事件总线的实例对象的 on 方法,监听事件总线的自定义方法,并接收数据</li>
<li>通过全局事件总线的实例对象的 off 方法 , 取消全局事件总线的事件监听</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  import eventBus from &#x27;./utils/event-bus&#x27;</span><br><span class="line">  export default &#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">      // 将方法抽离出来,是为了能在多个生命周期函数中都能调用,方便取消全局事件总线的事件监听</span><br><span class="line">      whyEventHandler() &#123;</span><br><span class="line">        console.log(&quot;whyEvent在category中监听&quot;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line">      // 通过全局事件总线的实例对象的 on 方法,监听事件总线的自定义方法,并接收数据</span><br><span class="line">      eventBus.on(&quot;whyEvent&quot;, this.whyEventHandler)</span><br><span class="line">    &#125;,</span><br><span class="line">    unmounted() &#123;</span><br><span class="line">      // 通过全局事件总线的实例对象的 off 方法取消全局事件总线的事件监听</span><br><span class="line">      console.log(&quot;category unmounted&quot;)</span><br><span class="line">      eventBus.off(&quot;whyEvent&quot;, this.whyEventHandler)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Provide-和-Inject"><a href="#Provide-和-Inject" class="headerlink" title="Provide 和 Inject"></a>Provide 和 Inject</h3><h4 id="Provide-和-Inject-1"><a href="#Provide-和-Inject-1" class="headerlink" title="Provide 和 Inject"></a>Provide 和 Inject</h4><ul>
<li>Provide&#x2F;Inject 用于非父子组件之间共享数据：<ul>
<li>比如有一些深度嵌套的组件，子组件想要获取父组件的部分内容；</li>
<li>在这种情况下，如果我们仍然将 props 沿着组件链逐级传递下去，就会非常的麻烦；</li>
</ul>
</li>
<li>对于这种情况下，我们可以使用 Provide 和 Inject ：<ul>
<li>无论层级结构有多深，父组件都可以作为其所有子组件的依赖提供者；</li>
<li><strong>父组件有一个 provide 选项来提供数据；</strong></li>
<li><strong>子组件有一个 inject 选项来开始使用这些数据；</strong></li>
</ul>
</li>
<li>实际上，你可以将依赖注入看作是 “long range props”，除了：<ul>
<li>父组件不需要知道哪些子组件使用它 provide 的 property</li>
<li>子组件不需要知道 inject 的 property 来自哪里</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/d98876fd19e14f27a04d0f2e31d37c00" alt="1661151798350"></p>
<h4 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h4><ul>
<li>我们开发一个这样的结构：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/e304233db17e494ebeb8bd1ddae5522e" alt="1661151907250"></p>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/f2711ddd57b84435a1eda049133cbef7" alt="1661151928722"></p>
<h4 id="provide的函数写法"><a href="#provide的函数写法" class="headerlink" title="provide的函数写法"></a>provide的函数写法</h4><ul>
<li>如果 Provide 中提供的一些数据是来自 data，那么我们可能会想要通过 this 来获取：<ul>
<li>这个时候会报错：</li>
<li>这里给大家留一个思考题，我们的 this 使用的是哪里的 this？ 指向 vue 实例对象 <code>Proxy &#123;…&#125;</code></li>
</ul>
</li>
<li>即使写成了函数写法,也只是可以获取到 data 中的数据,但是此时的<strong>数据不是响应式的</strong></li>
</ul>
<p><strong>父组件 App.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ShowMessage&gt; &lt;/ShowMessage&gt;</span><br><span class="line">  &lt;button @click=&quot;changeHeight&quot;&gt;修改height&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import ShowMessage from &quot;./components/ShowMessage.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    ShowMessage,</span><br><span class="line">  &#125;,</span><br><span class="line">  provide() &#123;</span><br><span class="line">    console.log(this); // Vue实例对象</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;why&quot;,</span><br><span class="line">      age: &quot;18&quot;,</span><br><span class="line">      height: this.height,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      height: 1.88,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    changeHeight() &#123;</span><br><span class="line">      this.height = 2.23;</span><br><span class="line">      console.log(this.height);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>子组件 ShowMessage.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123; name &#125;&#125; - &#123;&#123; age &#125;&#125; - &#123;&#123; height &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  inject: [&quot;name&quot;, &quot;age&quot;, &quot;height&quot;],</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="处理响应式数据"><a href="#处理响应式数据" class="headerlink" title="处理响应式数据"></a>处理响应式数据</h4><ul>
<li>我们先来验证一个结果：如果我们修改了 this.names 的内容，那么使用 length 的子组件会不会是响应式的？</li>
<li>我们会发现对应的子组件中是没有反应的：<ul>
<li>这是因为当我们修改了 names 之后，之前在 provide 中引入的 this.names.length 本身并不是响应式的；</li>
</ul>
</li>
<li>那么怎么样可以让我们的数据变成响应式的呢？<ul>
<li>非常的简单，我们可以使用响应式的一些 API 来完成这些功能，比如说 computed 函数；</li>
<li>当然，这个 computed 是 vue3 的新特性，在后面我会专门讲解，这里大家可以先直接使用一下；</li>
</ul>
</li>
<li>注意：我们在使用 length 的时候需要获取其中的 value<ul>
<li>这是因为 computed 返回的是一个 ref 对象，需要取出其中的 value 来使用；</li>
<li>首先需要导入 computd 方法: <code>import &#123; computed &#125; from &quot;vue&quot;;</code></li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/7d0c336612e64356a2fecce5546c2568" alt="image-20230312102715528"></p>
<h2 id="组件生命周期"><a href="#组件生命周期" class="headerlink" title="组件生命周期"></a>组件生命周期</h2><h3 id="认识生命周期"><a href="#认识生命周期" class="headerlink" title="认识生命周期"></a>认识生命周期</h3><ul>
<li>什么是生命周期呢？<ul>
<li>生物学上，生物生命周期指得是一个生物体在生命开始到结束周而复始所历经的一系列变化过程；</li>
<li>每个组件都可能会经历从创建、挂载、更新、卸载等一系列的过程；</li>
<li>在这个过程中的某一个阶段，我们可能会想要添加一些属于自己的代码逻辑（比如组件创建完后就请求一些服务器数据）；</li>
<li>但是我们如何知道目前组件正在哪一个过程呢？Vue 给我们提供了组件的生命周期函数；</li>
</ul>
</li>
<li>生命周期函数：<ul>
<li><strong>生命周期函数是一些钩子函数（回调函数），在某个时间会被 Vue 源码内部进行回调；</strong></li>
<li>通过对生命周期函数的回调，我们可以知道目前组件正在经历什么阶段；</li>
<li>那么我们就可以在该生命周期中编写属于自己的逻辑代码了；</li>
</ul>
</li>
</ul>
<h3 id="生命周期流程"><a href="#生命周期流程" class="headerlink" title="生命周期流程"></a>生命周期流程</h3><h4 id="vue2的组件生命周期"><a href="#vue2的组件生命周期" class="headerlink" title="vue2的组件生命周期"></a>vue2的组件生命周期</h4><p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/05/292e737ad0ef4301ad08609a5e2bcdec"></p>
<h4 id="vue3的组件生命周期"><a href="#vue3的组件生命周期" class="headerlink" title="vue3的组件生命周期"></a>vue3的组件生命周期</h4><p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/6111e6522d0043b691b6952f12cbe1f3"></p>
<h4 id="常用的生命周期函数"><a href="#常用的生命周期函数" class="headerlink" title="常用的生命周期函数"></a>常用的生命周期函数</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    // 1.组件被创建之前</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">      console.log(&quot;beforeCreate&quot;)</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 2.组件被创建完成</span><br><span class="line">    created() &#123;</span><br><span class="line">      console.log(&quot;created&quot;)</span><br><span class="line">      console.log(&quot;1.发送网络请求, 请求数据&quot;)</span><br><span class="line">      console.log(&quot;2.监听eventbus事件&quot;)</span><br><span class="line">      console.log(&quot;3.监听watch数据&quot;)</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 3.组件template准备被挂载</span><br><span class="line">    beforeMount() &#123;</span><br><span class="line">      console.log(&quot;beforeMount&quot;)</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 4.组件template被挂载: 虚拟DOM -&gt; 真实DOM</span><br><span class="line">    mounted() &#123;</span><br><span class="line">      console.log(&quot;mounted&quot;)</span><br><span class="line">      console.log(&quot;1.获取DOM&quot;)</span><br><span class="line">      console.log(&quot;2.使用DOM&quot;)</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 5.数据发生改变</span><br><span class="line">    // 5.1. 准备更新DOM</span><br><span class="line">    beforeUpdate() &#123;</span><br><span class="line">      console.log(&quot;beforeUpdate&quot;)</span><br><span class="line">    &#125;,</span><br><span class="line">    // 5.2. 更新DOM</span><br><span class="line">    updated() &#123;</span><br><span class="line">      console.log(&quot;updated&quot;)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    // 6.卸载VNode -&gt; DOM元素</span><br><span class="line">    // 6.1.卸载之前</span><br><span class="line">    beforeUnmount() &#123;</span><br><span class="line">      console.log(&quot;beforeUnmount&quot;)</span><br><span class="line">    &#125;,</span><br><span class="line">    // 6.2.DOM元素被卸载完成</span><br><span class="line">    unmounted() &#123;</span><br><span class="line">      console.log(&quot;unmounted&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="组件的其他相关"><a href="#组件的其他相关" class="headerlink" title="组件的其他相关"></a>组件的其他相关</h2><h3 id="获取组件中的DOM结构"><a href="#获取组件中的DOM结构" class="headerlink" title="获取组件中的DOM结构"></a>获取组件中的DOM结构</h3><h4 id="refs的使用"><a href="#refs的使用" class="headerlink" title="$refs的使用"></a>$refs的使用</h4><ul>
<li>某些情况下，我们在组件中想要直接获取到元素对象或者子组件实例：<ul>
<li>在 Vue 开发中我们是不推荐进行 DOM 操作的；</li>
<li>这个时候，我们可以给元素或者组件绑定一个 ref 的 attribute 属性；</li>
</ul>
</li>
<li>组件实例有一个 $refs 属性：<ul>
<li>它一个对象 Object，持有注册过 ref attribute 的所有 DOM 元素和组件实例。</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2 ref=&quot;title&quot; class=&quot;title&quot; :style=&quot;&#123; color: titleColor &#125;&quot;&gt;&#123;&#123; message &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button ref=&quot;btn&quot; @click=&quot;changeTitle&quot;&gt;修改title&lt;/button&gt;</span><br><span class="line">    &lt;banner ref=&quot;banner&quot;/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import Banner from &quot;./Banner.vue&quot;</span><br><span class="line"></span><br><span class="line">  export default &#123;</span><br><span class="line">    name:&quot;App&quot;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;,  </span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        message: &quot;Hello World&quot;,</span><br><span class="line">        titleColor: &quot;red&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      changeTitle() &#123;</span><br><span class="line">        // 1.不要主动的去获取DOM, 并且修改DOM内容</span><br><span class="line">        // this.message = &quot;你好啊, 李银河!&quot;</span><br><span class="line">        // this.titleColor = &quot;blue&quot;</span><br><span class="line"></span><br><span class="line">        console.log(&quot;this.$refs: &quot;, this.$refs) // Proxy &#123;title: h2.title, btn: button, banner: Proxy&#125;</span><br><span class="line">        </span><br><span class="line">        // 2.获取h2/button元素</span><br><span class="line">        console.log(this.$refs.title)</span><br><span class="line">        console.log(this.$refs.btn)</span><br><span class="line"></span><br><span class="line">        // 3.获取banner组件: 组件实例</span><br><span class="line">        console.log(this.$refs.banner)</span><br><span class="line">        </span><br><span class="line">        // 3.1.在父组件中可以主动的调用子组件的对象方法</span><br><span class="line">        this.$refs.banner.bannerClick()</span><br><span class="line"></span><br><span class="line">        // 3.2.获取banner组件实例, 获取banner中的元素</span><br><span class="line">        console.log(this.$refs.banner.$el)</span><br><span class="line"></span><br><span class="line">        // 3.3.如果banner template是多个根, 拿到的是第一个node节点</span><br><span class="line">        // 注意: 开发中不推荐一个组件的template中有多个根元素</span><br><span class="line">        // console.log(this.$refs.banner.$el.nextElementSibling)</span><br><span class="line"></span><br><span class="line">        // 4.组件实例还有两个属性(了解):</span><br><span class="line">        console.log(this.$parent) // 获取父组件 // Proxy &#123;changeTitle: ƒ, …&#125;  若没有父组件,则为 null </span><br><span class="line">        console.log(this.$root) // 获取根组件   // Proxy &#123;changeTitle: ƒ, …&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="parent"><a href="#parent" class="headerlink" title="$parent"></a>$parent</h4><h4 id="root"><a href="#root" class="headerlink" title="$root"></a>$root</h4><ul>
<li>我们可以通过<code>$parent</code>来访问父元素。</li>
<li>HelloWorld.vue 的实现：<ul>
<li>这里我们也可以通过<code>$root</code>来实现，因为 App 是我们的根组件；</li>
</ul>
</li>
<li>注意：在 Vue3 中已经移除了 <code>$children </code>的属性，所以不可以使用了。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name:&quot;App&quot;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      changeTitle() &#123;</span><br><span class="line">        // 4.组件实例还有两个属性(了解):</span><br><span class="line">        console.log(this.$parent) // 获取父组件 // Proxy &#123;changeTitle: ƒ, …&#125;  若没有父组件,则为 null </span><br><span class="line">        console.log(this.$root) // 获取根组件   // Proxy &#123;changeTitle: ƒ, …&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="切换组件案例"><a href="#切换组件案例" class="headerlink" title="切换组件案例"></a>切换组件案例</h3><ul>
<li>比如我们现在想要实现了一个功能：<ul>
<li>点击一个tab-bar，切换不同的组件显示；</li>
</ul>
</li>
</ul>
<img src= "/img/loading.gif" data-lazy-src="C:/Users/online289/AppData/Roaming/Typora/typora-user-images/image-20230312102853995.png" alt="image-20230312102853995" style="zoom:150%;" />

<ul>
<li>这个案例我们可以通过两种不同的实现思路来实现：<ul>
<li>方式一：通过 v-if 来判断，显示不同的组件；</li>
<li>方式二：动态组件的方式；</li>
</ul>
</li>
</ul>
<h4 id="通过-v-if-实现"><a href="#通过-v-if-实现" class="headerlink" title="通过 v-if 实现"></a>通过 v-if 实现</h4><ul>
<li>00 准备 data 数据</li>
<li>01 导入注册并使用组件</li>
<li>02 通过已有的 data 数据,遍历生成按钮</li>
<li>03 给按钮添加点击事件,修改 currentIndex 的值 ,根据 currentIndex 与索引值 index 比较决定 active 类名的添加</li>
<li>04 根据 currentIndex 的值,决定组件的显示与隐藏</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 02 通过已有的data数据,遍历生成按钮 --&gt;</span><br><span class="line">    &lt;template v-for=&quot;(item, index) in tabs&quot; :key=&quot;item&quot;&gt;</span><br><span class="line">      &lt;!-- 03 给按钮添加点击事件,修改 currentIndex 的值 ,根据currentIndex与索引值index比较决定active类名的添加--&gt;</span><br><span class="line">      &lt;button</span><br><span class="line">        @click=&quot;itemClick(index)&quot;</span><br><span class="line">        :class=&quot;&#123; active: currentIndex === index &#125;&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &#123;&#123; item &#125;&#125;</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;!-- 04 根据currentIndex的值,v-if进行判断逻辑,决定组件的显示与隐藏 --&gt;</span><br><span class="line">    &lt;div class=&quot;view&quot;&gt;</span><br><span class="line">      &lt;template v-if=&quot;currentIndex === 0&quot;&gt;</span><br><span class="line">        &lt;Home&gt;&lt;/Home&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">      &lt;template v-else-if=&quot;currentIndex === 1&quot;&gt;</span><br><span class="line">        &lt;About&gt;&lt;/About&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">      &lt;template v-else-if=&quot;currentIndex === 2&quot;&gt;</span><br><span class="line">        &lt;Category&gt;&lt;/Category&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 01 导入注册并使用组件</span><br><span class="line">import Home from &quot;./views/Home.vue&quot;;</span><br><span class="line">import About from &quot;./views/About.vue&quot;;</span><br><span class="line">import Category from &quot;./views/Category.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123; Home, About, Category &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      tabs: [&quot;home&quot;, &quot;about&quot;, &quot;category&quot;],</span><br><span class="line">      currentIndex: 0, // 用于控制类名的切换和组件的显示隐藏</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    itemClick(index) &#123;</span><br><span class="line">      this.currentIndex = index;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.active &#123;</span><br><span class="line">  color: red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="动态组件实现"><a href="#动态组件实现" class="headerlink" title="动态组件实现"></a>动态组件实现</h4><ul>
<li>动态组件是使用 component 组件，通过一个特殊的 attribute is 来实现：</li>
<li>这个 currentTab 的值需要是什么内容呢？<ul>
<li>全局注册：可以是通过 component 函数注册的组件；</li>
<li>局部注册：在一个组件对象的 components 对象中注册的组件；</li>
</ul>
</li>
<li>如果是动态组件我们可以给它们传值和监听事件吗？<ul>
<li>也是一样的；</li>
<li>只是我们需要将属性和监听事件放到 component 上来使用；</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 02 通过已有的data数据,遍历生成按钮 --&gt;</span><br><span class="line">    &lt;template v-for=&quot;item in tabs&quot; :key=&quot;item&quot;&gt;</span><br><span class="line">      &lt;!-- 03 给按钮添加点击事件,修改 currentIndex 的值 ,根据currentIndex与索引值index比较决定active类名的添加--&gt;</span><br><span class="line">      &lt;button @click=&quot;itemClick(item)&quot; :class=&quot;&#123; active: currentTab === item &#125;&quot;&gt;</span><br><span class="line">        &#123;&#123; item &#125;&#125;</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;!-- 04 使用动态组件,决定组件的显示与隐藏 </span><br><span class="line">          :is 中的组件需要来自两个地方: 1.全局注册的组件 2.局部注册的组件 --&gt;</span><br><span class="line">    &lt;div class=&quot;view&quot;&gt;</span><br><span class="line">      &lt;!-- 动态组件也可以给子组件传递数据,也可以监听子组件中的自定义事件 --&gt;</span><br><span class="line">      &lt;!-- &lt;component :is=&quot;tabs[currentIndex]&quot; name=&quot;why&quot; :age=&quot;18&quot; @homeClick=&quot;homeClick&quot;&gt;&lt;/component&gt; --&gt;</span><br><span class="line">      &lt;component name=&quot;why&quot; :age=&quot;18&quot; @homeClick=&quot;homeClick&quot; :is=&quot;currentTab&quot;&gt;&lt;/component&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 01 导入注册并使用组件</span><br><span class="line">import Home from &#x27;./views/Home.vue&#x27;</span><br><span class="line">import About from &#x27;./views/About.vue&#x27;</span><br><span class="line">import Category from &#x27;./views/Category.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123; Home, About, Category &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      tabs: [&#x27;home&#x27;, &#x27;about&#x27;, &#x27;category&#x27;],</span><br><span class="line">      currentIndex: 0, // 用于控制类名的切换和组件的显示隐藏</span><br><span class="line">      currentTab: &#x27;home&#x27;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    itemClick(tab) &#123;</span><br><span class="line">      this.currentTab = tab</span><br><span class="line">    &#125;,</span><br><span class="line">    homeClick(payload) &#123;</span><br><span class="line">      // 形参 payload : 子组件传递来的数据</span><br><span class="line">      console.log(&#x27;homeClick:&#x27;, payload)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.active &#123;</span><br><span class="line">  color: red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="keep-alive"><a href="#keep-alive" class="headerlink" title="keep-alive"></a>keep-alive</h3><h4 id="认识-keep-alive"><a href="#认识-keep-alive" class="headerlink" title="认识 keep-alive"></a>认识 keep-alive</h4><ul>
<li>我们先对之前的案例中 About 组件进行改造：<ul>
<li>在其中增加了一个按钮，点击可以递增的功能；</li>
</ul>
</li>
<li>比如我们将 counter 点到 10，那么在切换到 home 再切换回来 about 时，状态是否可以保持呢？<ul>
<li>答案是不能保持；</li>
<li>这是因为默认情况下，我们在切换组件后，about 组件会被销毁掉，再次回来时会重新创建组件；</li>
</ul>
</li>
<li>但是，在开发中某些情况我们希望继续保持组件的状态，而不是销毁掉，这个时候我们就可以使用一个内置组件：keep-alive。</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/adb106c408f14fb6a4ca961020fafd57" alt="image-20230312103004666"></p>
<h4 id="keep-alive属性"><a href="#keep-alive属性" class="headerlink" title="keep-alive属性"></a>keep-alive属性</h4><ul>
<li>keep-alive 有一些属性：<ul>
<li>include - string | RegExp | Array。只有名称匹配的组件会被缓存；</li>
<li>exclude - string | RegExp | Array。任何名称匹配的组件都不会被缓存；</li>
<li>max - number | string。最多可以缓存多少组件实例，一旦达到这个数字，那么缓存组件中最近没有被访问的实例会被销毁；</li>
</ul>
</li>
<li>include 和 exclude prop 允许组件有条件地缓存：<ul>
<li>二者都可以用逗号分隔字符串、正则表达式或一个数组来表示；</li>
<li><strong>匹配首先检查被缓存组件自身的 name 选项；</strong></li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/4edbef1191d94c18adff228888432838" alt="image-20230312103026894"></p>
<h4 id="缓存组件的生命周期"><a href="#缓存组件的生命周期" class="headerlink" title="缓存组件的生命周期"></a>缓存组件的生命周期</h4><ul>
<li><strong>对于缓存的组件来说，再次进入时，我们是不会执行 created 或者 mounted 等生命周期函数的：</strong><ul>
<li>但是有时候我们确实希望监听到何时重新进入到了组件，何时离开了组件；</li>
<li>这个时候我们<strong>可以使用 activated 和 deactivated 这两个生命周期钩子函数来监听</strong>；</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/1ae3c1a1083c4a75881effa8545826b4" alt="1661221951353"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;Home&lt;/div&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123; count &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;btnClick&quot;&gt;+1&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;home&#x27;,</span><br><span class="line">  components: &#123;&#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123; count: 0 &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    btnClick() &#123;</span><br><span class="line">      this.count++</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  activated() &#123;</span><br><span class="line">    console.log(&#x27;进来了&#x27;)</span><br><span class="line">  &#125;,</span><br><span class="line">  deactivated() &#123;</span><br><span class="line">    console.log(&#x27;走了&#x27;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="webpack的代码分包"><a href="#webpack的代码分包" class="headerlink" title="webpack的代码分包"></a>webpack的代码分包</h3><ul>
<li>默认的打包过程：<ul>
<li>默认情况下，在构建整个组件树的过程中，因为组件和组件之间是通过模块化直接依赖的，那么 webpack 在打包时就会将组件模块打包到一起（比如一个 app.js 文件中）；</li>
<li>这个时候随着项目的不断庞大，app.js 文件的内容过大，会造成首屏的渲染速度变慢；</li>
</ul>
</li>
<li>打包时，代码的分包：<ul>
<li>所以，对于一些不需要立即使用的组件，我们可以单独对它们进行拆分，拆分成一些小的代码块 chunk.js；</li>
<li>这些 chunk.js 会在需要时从服务器加载下来，并且运行代码，显示对应的内容；</li>
</ul>
</li>
<li>那么 webpack 中如何可以对代码进行分包呢？</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/af70bacaaa104e358ef29535c12c3174" alt="1661222294885"></p>
<h3 id="Vue中实现异步组件"><a href="#Vue中实现异步组件" class="headerlink" title="Vue中实现异步组件"></a>Vue中实现异步组件</h3><ul>
<li>如果我们的项目过大了，对于某些组件我们希望通过异步的方式来进行加载（目的是可以对其进行分包处理），那么Vue 中给我们提供了一个函数：<strong>defineAsyncComponent</strong>。</li>
<li>defineAsyncComponent 接受两种类型的参数：<ul>
<li>类型一：工厂函数，该工厂函数需要返回一个 Promise 对象；</li>
<li>类型二：接受一个对象类型，对异步函数进行配置；</li>
</ul>
</li>
<li>工厂函数类型一的写法：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/6424c503ca554a6085aa12aa0e383597" alt="1661222415410"></p>
<ul>
<li>类型二写法:</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/133e4d772ae143628d793c3ae5a1d1d8" alt="1661222456274"></p>
<h3 id="组件的v-model"><a href="#组件的v-model" class="headerlink" title="组件的v-model"></a>组件的v-model</h3><h4 id="组件v-model的介绍"><a href="#组件v-model的介绍" class="headerlink" title="组件v-model的介绍"></a>组件v-model的介绍</h4><ul>
<li>前面我们在 input 中可以使用 v-model 来完成双向绑定：<ul>
<li>这个时候往往会非常方便，因为 v-model 默认帮助我们完成了两件事；</li>
<li>v-bind:value 的数据绑定和 @input 的事件监听；</li>
</ul>
</li>
<li>如果我们现在封装了一个组件，其他地方在使用这个组件时，是否也可以使用 v-model 来同时完成这两个功能呢？<ul>
<li>也是可以的，vue 也支持在组件上使用 v-model；</li>
</ul>
</li>
<li>当我们在组件上使用的时候，等价于如下的操作：<ul>
<li>我们会发现和 input 元素不同的只是属性的名称和事件触发的名称而已；</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/f65703f3436a4f70910b5930f80629ee" alt="image-20230312103219463"></p>
<h4 id="组件v-model的实现"><a href="#组件v-model的实现" class="headerlink" title="组件v-model的实现"></a>组件v-model的实现</h4><ul>
<li>那么，为了我们的 MyInput 组件可以正常的工作，这个组件内的 input 必须：<ul>
<li>将其 value attribute 绑定到一个名叫 modelValue 的 prop 上；</li>
<li>在其 input 事件被触发时，将新的值通过自定义的 update:modelValue 事件抛出；</li>
</ul>
</li>
<li>MyInput.vue的组件代码如下：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/b89673f770ce4383984acb8d97122e31" alt="1661224599221"></p>
<img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/f3b652f96cd8403a9fcf03ae0f23bcd4" alt="image-20230312103252276" style="zoom:150%;" />

<p><strong>父组件 App.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 1.input v-model --&gt;</span><br><span class="line">    &lt;input v-model=&quot;message&quot;&gt;</span><br><span class="line">    &lt;input :value=&quot;message&quot; @input=&quot;message = $event.target.value&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 2.组件的 v-model: 默认 modelValue --&gt;</span><br><span class="line">    &lt;counter v-model=&quot;appCounter&quot;&gt;&lt;/counter&gt;</span><br><span class="line">    &lt;counter :modelValue=&quot;appCounter&quot; @update:modelValue=&quot;appCounter = $event&quot;&gt;&lt;/counter&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import Counter from &#x27;./Counter.vue&#x27;</span><br><span class="line">  export default &#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">      Counter,</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        message: &quot;Hello 123456&quot;,</span><br><span class="line">        appCounter: 99,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>子组件 Counter.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;我是子组件的 Counter: &#123;&#123; modelValue &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeCounter&quot;&gt;修改counter&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    props: &#123;</span><br><span class="line">      modelValue: &#123;</span><br><span class="line">        type: Number,</span><br><span class="line">        default: 0</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    emits: [&quot;update:modelValue&quot;],</span><br><span class="line">    methods: &#123;</span><br><span class="line">      changeCounter() &#123;</span><br><span class="line">        this.$emit(&quot;update:modelValue&quot;, 999)</span><br><span class="line">      &#125; </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>绑定过程图解:</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/4a57e6943dec4b4ba84be50286d8ae5f" alt="1661226108782"></p>
<h4 id="绑定多个属性"><a href="#绑定多个属性" class="headerlink" title="绑定多个属性"></a>绑定多个属性</h4><ul>
<li>我们现在通过 v-model 是直接绑定了一个属性，如果我们希望绑定多个属性呢？<ul>
<li>也就是我们希望在一个组件上使用多个 v-model 是否可以实现呢？</li>
<li>我们知道，默认情况下的 v-model 其实是绑定了 modelValue 属性和 @update:modelValue 的事件；</li>
<li>如果我们希望绑定更多，可以给 v-model 传入一个参数，那么这个参数的名称就是我们绑定属性的名称；</li>
</ul>
</li>
<li>注意：这里我是绑定了两个属性的</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/e22572c8d4ee4e4da07d67d09f9dd499" alt="image-20230312103435976"></p>
<ul>
<li>v-model:title 相当于做了两件事：<ul>
<li>绑定了 title 属性；</li>
<li>监听了 @update:title 的事件；</li>
</ul>
</li>
</ul>
<p><strong>父组件 App.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 3.组件的v-model: 自定义名称 counter --&gt;</span><br><span class="line">    &lt;counter2 v-model:counter=&quot;appCounter&quot; v-model:why=&quot;appWhy&quot;&gt;&lt;/counter2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import Counter2 from &#x27;./Counter2.vue&#x27;</span><br><span class="line">  export default &#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">      Counter2</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        appCounter: 99,</span><br><span class="line">        appWhy: &quot;coderwhy&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>子组件 counter2.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Counter: &#123;&#123; counter &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeCounter&quot;&gt;修改counter&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- why绑定 --&gt;</span><br><span class="line">    &lt;h2&gt;why: &#123;&#123; why &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeWhy&quot;&gt;修改why的值&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    props: &#123;</span><br><span class="line">      counter: &#123;</span><br><span class="line">        type: Number,</span><br><span class="line">        default: 0</span><br><span class="line">      &#125;,</span><br><span class="line">      why: &#123;</span><br><span class="line">        type: String,</span><br><span class="line">        default: &quot;&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    emits: [&quot;update:counter&quot;, &quot;update:why&quot;],</span><br><span class="line">    methods: &#123;</span><br><span class="line">      changeCounter() &#123;</span><br><span class="line">        this.$emit(&quot;update:counter&quot;, 999)</span><br><span class="line">      &#125;,</span><br><span class="line">      changeWhy() &#123;</span><br><span class="line">        this.$emit(&quot;update:why&quot;, &quot;kobe&quot;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>绑定过程图解:</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/13961aeabb9245c38d35c7f110451ebd" alt="1661226463980"></p>
<h2 id="Mixin-混合"><a href="#Mixin-混合" class="headerlink" title="Mixin 混合"></a>Mixin 混合</h2><h3 id="认识Mixin"><a href="#认识Mixin" class="headerlink" title="认识Mixin"></a>认识Mixin</h3><ul>
<li>目前我们是使用组件化的方式在开发整个 Vue 的应用程序，但是组件和组件之间有时候会存在相同的代码逻辑，我们希望对相同的代码逻辑进行抽取。</li>
<li>在 Vue2 和 Vue3 中都支持的一种方式就是使用 Mixin 来完成：<ul>
<li>Mixin 提供了一种非常灵活的方式，来分发 Vue 组件中的可复用功能；</li>
<li>一个 Mixin 对象可以包含任何组件选项；</li>
<li>当组件使用 Mixin 对象时，所有 Mixin 对象的选项将被 混合 进入该组件本身的选项中；</li>
</ul>
</li>
</ul>
<h3 id="Mixin的基本使用"><a href="#Mixin的基本使用" class="headerlink" title="Mixin的基本使用"></a>Mixin的基本使用</h3><p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/2d22d9d798134d11857a2c17edfd4310" alt="1661226726990"></p>
<h3 id="Mixin的合并规则"><a href="#Mixin的合并规则" class="headerlink" title="Mixin的合并规则"></a>Mixin的合并规则</h3><ul>
<li>如果 Mixin 对象中的选项和组件对象中的选项发生了冲突，那么 Vue 会如何操作呢？<ul>
<li>这里分成不同的情况来进行处理；</li>
</ul>
</li>
<li>情况一：如果是 data 函数的返回值对象<ul>
<li>返回值对象默认情况下会进行合并；</li>
<li>如果 data 返回值对象的属性发生了冲突，那么会保留组件自身的数据；</li>
</ul>
</li>
<li>情况二：如何生命周期钩子函数<ul>
<li>生命周期的钩子函数会被合并到数组中，都会被调用；</li>
</ul>
</li>
<li>情况三：值为对象的选项，例如 methods、components 和 directives，将被合并为同一个对象。<ul>
<li>比如都有 methods 选项，并且都定义了方法，那么它们都会生效；</li>
<li>但是如果对象的 key 相同，那么会取组件对象的键值对；</li>
</ul>
</li>
</ul>
<h3 id="Mixin的全局混入"><a href="#Mixin的全局混入" class="headerlink" title="Mixin的全局混入"></a>Mixin的全局混入</h3><ul>
<li>如果组件中的某些选项，是所有的组件都需要拥有的，那么这个时候我们可以使用全局的 mixin：<ul>
<li>全局的 Mixin 可以使用 app 的方法 mixin 来完成注册；</li>
<li>一旦注册，那么全局混入的选项将会影响每一个组件；</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/e6cae41cc78b4026892a36f569796d9a" alt="1661226945330"></p>
<h2 id="Vue3-CompositionAPI"><a href="#Vue3-CompositionAPI" class="headerlink" title="Vue3_CompositionAPI"></a>Vue3_CompositionAPI</h2><h3 id="Option-API的弊端"><a href="#Option-API的弊端" class="headerlink" title="Option API的弊端"></a>Option API的弊端</h3><ul>
<li>在 Vue2 中，我们编写组件的方式是 Options API ：<ul>
<li>Options API 的一大特点就是在对应的属性中编写对应的功能模块；</li>
<li>比如 data 定义数据、methods 中定义方法、computed 中定义计算属性、watch 中监听属性改变，也包括生命周期钩子；</li>
</ul>
</li>
<li>但是这种代码有一个很大的弊端：<ul>
<li>当我们实现某一个功能时，这个功能对应的代码逻辑会被拆分到各个属性中；</li>
<li>当我们组件变得更大、更复杂时，逻辑关注点的列表就会增长，那么同一个功能的逻辑就会被拆分的很分散；</li>
<li>尤其对于那些一开始没有编写这些组件的人来说，这个组件的代码是难以阅读和理解的（阅读组件的其他人）；</li>
</ul>
</li>
<li>下面我们来看一个非常大的组件，其中的逻辑功能按照颜色进行了划分：<ul>
<li>这种碎片化的代码使用理解和维护这个复杂的组件变得异常困难，并且隐藏了潜在的逻辑问题；</li>
<li>并且当我们处理单个逻辑关注点时，需要不断的跳到相应的代码块中；</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/72b7ac40214749ffb119e28b4aedacd0" alt="1661229894005"></p>
<ul>
<li>如果我们能将同一个逻辑关注点相关的代码收集在一起会更好。</li>
<li>这就是 Composition API 想要做的事情，以及可以帮助我们完成的事情。</li>
<li>也有人把 Vue Composition API 简称为 VCA 。</li>
</ul>
<h3 id="认识Composition-API"><a href="#认识Composition-API" class="headerlink" title="认识Composition API"></a>认识Composition API</h3><ul>
<li>那么既然知道 Composition API 想要帮助我们做什么事情，接下来看一下到底是怎么做呢？<ul>
<li>为了开始使用 Composition API，我们需要有一个可以实际使用它（编写代码）的地方；</li>
<li>在 Vue 组件中，这个位置就是 setup 函数；</li>
</ul>
</li>
<li>setup 其实就是组件的另外一个选项：<ul>
<li>只不过这个选项强大到我们可以用它来替代之前所编写的大部分其他选项；</li>
<li>比如 methods、computed、watch、data、生命周期等等；</li>
</ul>
</li>
</ul>
<h3 id="Setup函数"><a href="#Setup函数" class="headerlink" title="Setup函数"></a>Setup函数</h3><h4 id="Setup函数的参数"><a href="#Setup函数的参数" class="headerlink" title="Setup函数的参数"></a>Setup函数的参数</h4><ul>
<li>我们先来研究一个 setup 函数的参数，它主要有两个参数：<ul>
<li>第一个参数：props</li>
<li>第二个参数：context</li>
</ul>
</li>
<li>props 非常好理解，它其实就是父组件传递过来的属性会被放到 props 对象中，我们在 setup 中如果需要使用，那么就可以直接通过 props 参数获取：<ul>
<li>对于定义 props 的类型，我们还是和之前的规则是一样的，在 props 选项中定义；</li>
<li>并且在 template 中依然是可以正常去使用 props 中的属性，比如 message；</li>
<li>如果我们在 setup 函数中想要使用 props，那么不可以通过 this 去获取（后面我会讲到为什么）；</li>
<li>因为 props 有直接作为参数传递到 setup 函数中，所以我们可以直接通过参数来使用即可；</li>
</ul>
</li>
<li>另外一个参数是 context，我们也称之为是一个 SetupContext，它里面包含三个属性：<ul>
<li>attrs：所有的非 prop 的 attribute；</li>
<li>slots：父组件传递过来的插槽（这个在以渲染函数返回时会有作用，后面会讲到）；</li>
<li>emit：当我们组件内部需要发出事件时会用到 emit（因为我们不能访问 this，所以不可以通过 this.$emit 发出事件）；</li>
</ul>
</li>
</ul>
<h4 id="Setup函数的返回值"><a href="#Setup函数的返回值" class="headerlink" title="Setup函数的返回值"></a>Setup函数的返回值</h4><ul>
<li>setup 既然是一个函数，那么它也可以有返回值，它的返回值用来做什么呢？<ul>
<li>setup 的返回值可以在模板 template 中被使用；</li>
<li>也就是说我们可以通过 setup 的返回值来替代 data 选项；</li>
</ul>
</li>
<li>甚至是我们可以返回一个执行函数来代替在 methods 中定义的方法：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/7151e260b6f849f08e88c688e2c2593d" alt="image-20230312103653872"></p>
<ul>
<li>但是，如果我们将 counter 在 increment 或者 decrement 进行操作时，是否可以实现界面的响应式呢？<ul>
<li>答案是不可以；</li>
<li>这是因为对于一个定义的变量来说，默认情况下，Vue 并不会跟踪它的变化，来引起界面的响应式操作；</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;message: &#123;&#123; message &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeMessage&quot;&gt;修改message&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 1. 定义普通的数据: 可以正常的被使用  缺点: 数据不是响应式的</span><br><span class="line">    let message = &quot;Hello World&quot;;</span><br><span class="line">    function changeMessage() &#123;</span><br><span class="line">      message = &quot;你好啊,李银河!&quot;;</span><br><span class="line">      console.log(message);</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123; message, changeMessage &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Setup函数没有this"><a href="#Setup函数没有this" class="headerlink" title="Setup函数没有this"></a>Setup函数没有this</h4><ul>
<li><p>官方关于 this 有这样一段描述（这段描述是我给官方提交了PR之后的一段描述）：</p>
<ul>
<li>表达的含义是 this 并没有指向当前组件实例；</li>
<li>并且在 setup 被调用之前，data、computed、methods 等都没有被解析；</li>
<li>所以无法在 setup 中获取 this；</li>
</ul>
</li>
<li><p>其实在之前的这段描述是和源码有出入的（我向官方提交了PR，做出了描述的修改）：</p>
<ul>
<li>之前的描述大概含义是不可以使用 this 是因为组件实例还没有被创建出来；</li>
<li>后来我的PR也有被合并到官方文档中；组件的 instance 肯定是在执行 setup 函数之前就创建出来的。</li>
</ul>
</li>
</ul>
<h4 id="Setup函数的简写"><a href="#Setup函数的简写" class="headerlink" title="Setup函数的简写"></a>Setup函数的简写</h4><ul>
<li><code>&lt;script setup&gt; </code>是在单文件组件 (SFC) 中使用组合式 API 的编译时语法糖，当同时使用 SFC 与组合式 API 时则推荐该语法。<ul>
<li><strong>更少的样板内容，更简洁的代码；</strong></li>
<li><strong>能够使用纯 Typescript 声明 prop 和抛出事件；</strong></li>
<li><strong>更好的运行时性能 ；</strong></li>
<li><strong>更好的 IDE 类型推断性能 ；</strong></li>
</ul>
</li>
<li>使用这个语法，需要将 setup attribute 添加到 <code>&lt;script&gt;</code>代码块上：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/b7f45a0071034f9fafd57fbc39a94173" alt="1661422699893"></p>
<ul>
<li><p>里面的代码会被编译成组件 setup() 函数的内容：</p>
<ul>
<li>这意味着与普通的 script 只在组件被首次引入的时候执行一次不同；</li>
<li><code>&lt;script setup&gt;</code>  中的代码会在每次组件实例被创建的时候执行。</li>
</ul>
</li>
<li><p>当使用<code> &lt;script setup&gt;</code> 的时候，任何在<code>&lt;script setup&gt;</code>声明的顶层的绑定 (包括变量，函数声明，以及 import 引入的内容)都能在模板中直接使用：</p>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/ac41796795d9457792e69d17c57ca6e0" alt="1661422889344"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;AppContent: &#123;&#123; message &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;button @click=&quot;changeMessage&quot;&gt;修改message&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">// 1.所有编写在顶层中的代码, 都是默认暴露给template可以使用</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line"></span><br><span class="line">// 2.定义响应式数据</span><br><span class="line">const message = ref(&quot;Hello World&quot;);</span><br><span class="line"></span><br><span class="line">// 3.定义绑定的函数</span><br><span class="line">function changeMessage() &#123;</span><br><span class="line">  message.value = &quot;你好啊, 李银河!&quot;;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><code>&lt;script setup&gt;</code> 范围里的值也能被直接作为自定义组件的标签名使用：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/1b20c6d2fae74bf5a117c13bc75c166d" alt="1661422961578"></p>
<h4 id="defineProps"><a href="#defineProps" class="headerlink" title="defineProps()"></a>defineProps()</h4><ul>
<li>为了在声明 props 选项时获得完整的类型推断支持，我们可以使用 <strong>defineProps</strong>，它们将自动地在 <code>&lt;script setup&gt; </code>中可用：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/f89f19f75c484ee99bc1c8104ade8c6f" alt="1661428066021"></p>
<h4 id="defineEmits"><a href="#defineEmits" class="headerlink" title="defineEmits()"></a>defineEmits()</h4><ul>
<li>为了在声明 props 和 emits 选项时获得完整的类型推断支持，我们可以使用 <strong>defineProps</strong> 和 <strong>defineEmits API</strong>，它们将自动地在 <code>&lt;script setup&gt; </code>中可用：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/0d49b68117df48a99fddccf1bc7689ee" alt="1661428359309"></p>
<h4 id="defineExpose"><a href="#defineExpose" class="headerlink" title="defineExpose()"></a>defineExpose()</h4><ul>
<li>使用<code> &lt;script setup&gt;</code> 的组件是默认关闭的：<ul>
<li>通过模板 ref 或者 $parent 链获取到的组件的公开实例，不会暴露任何在 <code>&lt;script setup&gt; </code>中声明的绑定；</li>
</ul>
</li>
<li>通过 defineExpose 编译器宏来显式指定在 <code>&lt;script setup&gt; </code>组件中要暴露出去的 property：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/c50047d39eda440a9acac65f161f598d" alt="1661428652464"></p>
<h3 id="Reactive"><a href="#Reactive" class="headerlink" title="Reactive"></a>Reactive</h3><h4 id="认识reactive"><a href="#认识reactive" class="headerlink" title="认识reactive"></a>认识reactive</h4><ul>
<li>如果想为在 setup 中定义的数据提供响应式的特性，那么我们可以使用 reactive 的函数：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/9d75764be7ae4c93a84f80b2da0ed326" alt="1661231420434"></p>
<ul>
<li>那么这是什么原因呢？为什么就可以变成响应式的呢？<ul>
<li>这是因为当我们使用 reactive 函数处理我们的数据之后，数据再次被使用时就会进行依赖收集；</li>
<li>当数据发生改变时，所有收集到的依赖都是进行对应的响应式操作（比如更新界面）；</li>
<li>事实上，我们编写的 data 选项，也是在内部交给了 reactive 函数将其编程响应式对象的；</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;账号: &#123;&#123; account.username &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;密码: &#123;&#123; account.password &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAccount&quot;&gt;修改账号&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; reactive &#125; from &quot;vue&quot;; // 1. 导入 reactive 方法</span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 2.定义响应式数据</span><br><span class="line">    // 2.1. reactive函数: 定义复杂类型的数据</span><br><span class="line">    const account = reactive(&#123;</span><br><span class="line">      username: &quot;coderwhy&quot;,</span><br><span class="line">      password: &quot;123456&quot;,</span><br><span class="line">    &#125;);</span><br><span class="line">    function changeAccount() &#123;</span><br><span class="line">      account.username = &quot;kobe&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123; account, changeAccount &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="reactive-的应用"><a href="#reactive-的应用" class="headerlink" title="reactive 的应用"></a>reactive 的应用</h4><ul>
<li>01 reactive 应用于本地的数据</li>
<li>02 多个数据之间是有关系&#x2F;联系(聚合的数据, 组织在一起会有特定的作用)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;form&gt;</span><br><span class="line">      账号: &lt;input type=&quot;text&quot; v-model=&quot;account.username&quot; /&gt; 密码:</span><br><span class="line">      &lt;input type=&quot;password&quot; v-model=&quot;account.password&quot; /&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; reactive &#125; from &quot;vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 1.reactive的应用场景</span><br><span class="line">    const account = reactive(&#123;</span><br><span class="line">      username: &quot;coderwhy&quot;,</span><br><span class="line">      password: &quot;1234567&quot;,</span><br><span class="line">    &#125;);</span><br><span class="line">    return &#123; account &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h3><h4 id="认识-Ref"><a href="#认识-Ref" class="headerlink" title="认识 Ref"></a>认识 Ref</h4><ul>
<li>reactive API 对传入的类型是有限制的，它要求我们必须传入的是一个对象或者数组类型：<ul>
<li>如果我们传入一个基本数据类型（String、Number、Boolean）会报一个警告；</li>
</ul>
</li>
<li>这个时候 Vue3 给我们提供了另外一个 API：ref API<ul>
<li>ref 会返回一个可变的响应式对象，该对象作为一个 响应式的引用 维护着它内部的值，这就是 ref 名称的来源；</li>
<li>它内部的值是在 ref 的 value 属性中被维护的；</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/bf4b1cea6d0c445e9e474f7016fd32ed" alt="image-20230312103923552"></p>
<ul>
<li>这里有两个注意事项：<ul>
<li>在模板中引入 ref 的值时，Vue 会自动帮助我们进行解包操作，所以我们并不需要在模板中通过 <code>ref.value</code> 的方式来使用；</li>
<li>通过 ref 定义的数据,在模板中直接修改不用加<code> .value</code></li>
</ul>
</li>
<li>但是在 setup 函数内部，它依然是一个 ref 引用， 所以对其进行操作时，我们依然需要使用 <code>.value </code>的方式；</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 默认情况下在template中使用ref时, vue会自动对其进行解包(取出其中value) </span><br><span class="line">				通过 ref 定义的数据,在模板中直接修改不用加 .value--&gt;</span><br><span class="line">    &lt;h2&gt;当前计数: &#123;&#123; counter &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;increment&quot;&gt;+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;counter++&quot;&gt;+1&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;; // 1. 导入 ref 方法</span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 2. ref函数: 定义简单类型的数据(也可以定义复杂类型的数据)</span><br><span class="line">    const counter = ref(0);</span><br><span class="line">    function increment() &#123;</span><br><span class="line">      counter.value++;</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123; counter, increment &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Ref-自动解包"><a href="#Ref-自动解包" class="headerlink" title="Ref 自动解包"></a>Ref 自动解包</h4><ul>
<li>模板中的解包是浅层的解包，如果我们的代码是下面的方式：</li>
<li>如果我们将 ref 放到一个 reactive 的属性当中，那么在模板中使用时，它会自动解包：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 使用的时候不需要写.value --&gt;</span><br><span class="line">    &lt;h2&gt;当前计数: &#123;&#123; info.counter &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;!-- 修改的时候需要写.value --&gt;</span><br><span class="line">    &lt;button @click=&quot;info.counter.value++&quot;&gt;+1&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;; // 1. 导入 ref 方法</span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 2. ref函数: 定义简单类型的数据(也可以定义复杂类型的数据)</span><br><span class="line">    // counter定义响应式数据</span><br><span class="line">    const counter = ref(0);</span><br><span class="line">    // 3. ref是浅层解包</span><br><span class="line">    const info = &#123;</span><br><span class="line">      counter,</span><br><span class="line">    &#125;;</span><br><span class="line">    return &#123; info &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Ref应用场景"><a href="#Ref应用场景" class="headerlink" title="Ref应用场景"></a>Ref应用场景</h4><ul>
<li>01 定义本地的一些简单数据</li>
<li>02 定义从网络中获取的数据也是使用 ref</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;template v-for=&quot;item in musics&quot; :key=&quot;item&quot;&gt;</span><br><span class="line">      &lt;h2&gt;&#123;&#123; item &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; onMounted, ref &#125; from &quot;vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 2. ref 的应用场景: 其他的场景基本都用 ref(computed)</span><br><span class="line">    // 2.1.定义本地的一些简单数据</span><br><span class="line">    const message = ref(&quot;Hello World&quot;);</span><br><span class="line">    const counter = ref(0);</span><br><span class="line">    const name = ref(&quot;why&quot;);</span><br><span class="line">    const age = ref(18);</span><br><span class="line"></span><br><span class="line">    // 2.定义从网络中获取的数据也是使用 ref</span><br><span class="line">    const musics = ref([]);</span><br><span class="line">    onMounted(() =&gt; &#123;</span><br><span class="line">      const serverMusics = [&quot;海阔天空&quot;, &quot;小苹果&quot;, &quot;野狼&quot;];</span><br><span class="line">      musics.value = serverMusics;</span><br><span class="line">    &#125;);</span><br><span class="line">    return &#123; musics &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="readonly"><a href="#readonly" class="headerlink" title="readonly"></a>readonly</h3><h4 id="认识readonly"><a href="#认识readonly" class="headerlink" title="认识readonly"></a>认识readonly</h4><ul>
<li>我们通过 reactive 或者 ref 可以获取到一个响应式的对象，但是某些情况下，我们传入给其他地方（组件）的这个响应式对象希望在另外一个地方（组件）被使用，但是不能被修改，这个时候如何防止这种情况的出现呢？<ul>
<li>Vue3 为我们提供了 readonly 的方法；</li>
<li><strong>readonly 会返回原始对象的只读代理（也就是它依然是一个 Proxy，这是一个 proxy 的 set 方法被劫持，并且不能对其进行修改）</strong>；</li>
</ul>
</li>
<li>在开发中常见的 readonly 方法会传入三个类型的参数：<ul>
<li><strong>类型一：普通对象；</strong></li>
<li><strong>类型二：reactive 返回的对象；</strong></li>
<li><strong>类型三：ref 的对象；</strong></li>
</ul>
</li>
</ul>
<h4 id="readonly的使用"><a href="#readonly的使用" class="headerlink" title="readonly的使用"></a>readonly的使用</h4><ul>
<li>在 readonly 的使用过程中，有如下规则：<ul>
<li>readonly 返回的对象都是不允许修改的；</li>
<li>但是经过 readonly 处理的原来的对象是允许被修改的；<ul>
<li>比如 const info &#x3D; readonly(obj)，info 对象是不允许被修改的；</li>
<li>当 obj 被修改时，readonly 返回的 info 对象也会被修改；</li>
<li>但是我们不能去修改 readonly 返回的对象 info；</li>
</ul>
</li>
</ul>
</li>
<li>其实<strong>本质上就是 readonly 返回的对象的 setter 方法被劫持了而已；</strong></li>
</ul>
<h4 id="单向数据流"><a href="#单向数据流" class="headerlink" title="单向数据流"></a>单向数据流</h4><ul>
<li>数据保存在父组件中,由父组件传递给子组件展示,而修改数据也是由子组件通过自定义事件通知父组件修改数据,不在子组件中修改数据</li>
</ul>
<p><strong>父组件 App.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;ShowInfo :info=&quot;info&quot; @changeInfoName=&quot;changeInfoName&quot;&gt;&lt;/ShowInfo&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; reactive &#125; from &quot;vue&quot;;</span><br><span class="line">import ShowInfo from &quot;./Showinfo.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    ShowInfo,</span><br><span class="line">  &#125;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 本地定义多个数据, 都需要传递给子组件</span><br><span class="line">    // name/age/height</span><br><span class="line">    const info = reactive(&#123;</span><br><span class="line">      name: &quot;why&quot;,</span><br><span class="line">      age: 18,</span><br><span class="line">      height: 1.88,</span><br><span class="line">    &#125;);</span><br><span class="line">    function changeInfoName(payload) &#123;</span><br><span class="line">      info.name = payload;</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123; info, changeInfoName &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>子组件 Showinfo.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;&#123;&#123; info &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;!-- 代码没有错误, 但是违背规范(单项数据流) --&gt;</span><br><span class="line">  &lt;button @click=&quot;info.name = &#x27;kobe&#x27;&quot;&gt;ShowInfo按钮&lt;/button&gt;</span><br><span class="line">  &lt;!-- 正确的做法: 符合单项数据流--&gt;</span><br><span class="line">  &lt;button @click=&quot;showInfobtnClick&quot;&gt;ShowInfo按钮&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    // reactive数据</span><br><span class="line">    info: &#123;</span><br><span class="line">      type: Object,</span><br><span class="line">      default: () =&gt; (&#123;&#125;),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  emits: [&quot;changeInfoName&quot;],</span><br><span class="line">  setup(props, context) &#123;</span><br><span class="line">    function showInfobtnClick() &#123;</span><br><span class="line">      // 触发自定义事件,将新值传递给父组件</span><br><span class="line">      context.emit(&quot;changeInfoName&quot;, &quot;kobe&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123; showInfobtnClick &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="readonly的应用"><a href="#readonly的应用" class="headerlink" title="readonly的应用"></a>readonly的应用</h4><ul>
<li>那么这个 readonly 有什么用呢？<ul>
<li>在我们传递给其他组件数据时，往往希望其他组件使用我们传递的内容，但是不允许它们修改时，就可以使用 readonly 了；</li>
<li>如果需要修改数据,则由子组件通过自定义事件通知父组件修改经过 readonly 处理的原对象</li>
<li>readonly 返回的对象不能修改,但是可以修改经过 readonly 处理过的原对象</li>
</ul>
</li>
</ul>
<p><strong>父组件 App.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;App: &#123;&#123; info &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;ShowInfo :roInfo=&quot;roInfo&quot; @changeRoInfoName=&quot;changeRoInfoName&quot;&gt; &lt;/ShowInfo&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; reactive, readonly &#125; from &quot;vue&quot;;</span><br><span class="line">import ShowInfo from &quot;./Showinfo.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    ShowInfo,</span><br><span class="line">  &#125;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 本地定义多个数据, 都需要传递给子组件</span><br><span class="line">    const info = reactive(&#123;</span><br><span class="line">      name: &quot;why&quot;,</span><br><span class="line">      age: 18,</span><br><span class="line">      height: 1.88,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    // 使用readOnly包裹info</span><br><span class="line">    const roInfo = readonly(info);</span><br><span class="line">    function changeRoInfoName(payload) &#123;</span><br><span class="line">      info.name = payload;</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123; info, roInfo, changeRoInfoName &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>子组件 Showinfo.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;&#123;&#123; roInfo &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;!-- 使用readonly的数据 --&gt;</span><br><span class="line">  &lt;h2&gt;ShowInfo: &#123;&#123; roInfo &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;!-- 代码会无效(会报警告) --&gt;</span><br><span class="line">  &lt;button @click=&quot;roInfo.name = &#x27;james&#x27;&quot;&gt;ShowInfo按钮&lt;/button&gt;</span><br><span class="line">  &lt;!-- 正确的做法 --&gt;</span><br><span class="line">  &lt;button @click=&quot;roInfoBtnClick&quot;&gt;roInfo按钮&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    // readonly数据</span><br><span class="line">    roInfo: &#123;</span><br><span class="line">      type: Object,</span><br><span class="line">      default: () =&gt; (&#123;&#125;),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  emits: [&quot;changeRoInfoName&quot;],</span><br><span class="line">  setup(props, context) &#123;</span><br><span class="line">    function roInfoBtnClick() &#123;</span><br><span class="line">      context.emit(&quot;changeRoInfoName&quot;, &quot;james&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123; roInfoBtnClick &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="reactive其他API"><a href="#reactive其他API" class="headerlink" title="reactive其他API"></a>reactive其他API</h3><ul>
<li><strong>isProxy</strong><ul>
<li>检查对象是否是由 reactive 或 readonly 创建的 proxy。</li>
</ul>
</li>
<li><strong>isReactive</strong><ul>
<li>检查对象是否是由 reactive 创建的响应式代理：</li>
<li>如果该代理是 readonly 建的，但包裹了由 reactive 创建的另一个代理，它也会返回 true；</li>
</ul>
</li>
<li><strong>isReadonly</strong><ul>
<li>检查对象是否是由 readonly 创建的只读代理。</li>
</ul>
</li>
<li><strong>toRaw</strong><ul>
<li>返回 reactive 或 readonly 代理的原始对象（不建议保留对原始对象的持久引用。请谨慎使用）。</li>
</ul>
</li>
<li><strong>shallowReactive</strong><ul>
<li>创建一个响应式代理，它跟踪其自身 property 的响应性，但不执行嵌套对象的深层响应式转换 (深层还是原生对象)。</li>
</ul>
</li>
<li><strong>shallowReadonly</strong><ul>
<li>创建一个 proxy，使其自身的 property 为只读，但不执行嵌套对象的深度只读转换（深层还是可读、可写的）。</li>
</ul>
</li>
</ul>
<h3 id="toRefs与toRef"><a href="#toRefs与toRef" class="headerlink" title="toRefs与toRef"></a>toRefs与toRef</h3><ul>
<li>如果我们使用 ES6 的解构语法，对 reactive 返回的对象进行解构获取值，那么之后无论是修改结构后的变量，还是修改 reactive 返回的 state 对象，数据都不再是响应式的：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/141319aedd0748fd9ca7a08f4c186d47" alt="1661407552860"></p>
<ul>
<li>那么有没有办法让我们解构出来的属性是响应式的呢？<ul>
<li>Vue 为我们提供了一个 toRefs 的函数，可以将 reactive 返回的对象中的属性都转成 ref；</li>
<li>那么我们再次进行结构出来的 name 和 age 本身都是 ref 的；</li>
</ul>
</li>
<li>如果我们只希望转换一个 reactive 对象中的属性为 ref, 那么可以使用 toRef 的方法：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;info: &#123;&#123; name &#125;&#125; - &#123;&#123; age &#125;&#125; - &#123;&#123; height &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;age++&quot;&gt;修改age&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;height = 1.89&quot;&gt;修改height&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; reactive, toRefs, toRef &#125; from &quot;vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    const info = reactive(&#123;</span><br><span class="line">      name: &quot;why&quot;,</span><br><span class="line">      age: 18,</span><br><span class="line">      height: 1.88,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    // const &#123; name, age &#125; = info  // reactive被解构后会变成普通的值, 失去响应式</span><br><span class="line">    const &#123; name, age &#125; = toRefs(info); // 使用 toRefs 包裹对象解构</span><br><span class="line">    const height = toRef(info, &quot;height&quot;); // 调用 toRef</span><br><span class="line"></span><br><span class="line">    return &#123;</span><br><span class="line">      name,</span><br><span class="line">      age,</span><br><span class="line">      height,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>这种做法相当于已经在 state.name 和 ref.value 之间建立了 链接，任何一个修改都会引起另外一个的变化</li>
</ul>
<h3 id="ref的其他API"><a href="#ref的其他API" class="headerlink" title="ref的其他API"></a>ref的其他API</h3><ul>
<li>unref<ul>
<li>如果我们想要获取一个 ref 引用中的 value，那么也可以通过 unref 方法：<ul>
<li>如果参数是一个 ref，则返回内部值，否则返回参数本身；</li>
<li>这是 val &#x3D; isRef(val) ? val.value : val 的语法糖函数；</li>
</ul>
</li>
</ul>
</li>
<li>isRef<ul>
<li>判断值是否是一个 ref 对象。</li>
</ul>
</li>
<li>shallowRef<ul>
<li>创建一个浅层的 ref 对象；</li>
</ul>
</li>
<li>triggerRef<ul>
<li>手动触发和 shallowRef 相关联的副作用：</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/2b36a304da7049c98c2b741ab78b1031" alt="1661407961251"></p>
<h3 id="computed"><a href="#computed" class="headerlink" title="computed"></a>computed</h3><ul>
<li>在前面我们讲解过计算属性 computed：当我们的某些属性是依赖其他状态时，我们可以使用计算属性来处理<ul>
<li>在前面的 Options API 中，我们是使用 computed 选项来完成的；</li>
<li>在 Composition API 中，我们可以在 setup 函数中使用 computed 方法来编写一个计算属性；</li>
</ul>
</li>
<li>如何使用 computed 呢？<ul>
<li>方式一：接收一个 getter 函数，并为 getter 函数返回的值，返回一个不变的 ref 对象；</li>
<li>方式二：接收一个具有 get 和 set 的对象，返回一个可变的（可读写）ref 对象；</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123; fullname &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;setFullname&quot;&gt;设置fullname&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; reactive, computed, ref &#125; from &quot;vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 1.定义数据</span><br><span class="line">    const names = reactive(&#123;</span><br><span class="line">      firstName: &quot;kobe&quot;,</span><br><span class="line">      lastName: &quot;bryant&quot;,</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    // // 2.计算属性的简写,只读</span><br><span class="line">    // const fullname = computed(() =&gt; &#123;</span><br><span class="line">    //   return names.firstName + &quot; &quot; + names.lastName;</span><br><span class="line">    // &#125;);</span><br><span class="line"></span><br><span class="line">    // 2. 计算属性的完整写法</span><br><span class="line">    const fullname = computed(&#123;</span><br><span class="line">      set: function (newValue) &#123; // 修改计算属性</span><br><span class="line">        const tempNames = newValue.split(&quot; &quot;);</span><br><span class="line">        names.firstName = tempNames[0];</span><br><span class="line">        names.lastName = tempNames[1];</span><br><span class="line">      &#125;,</span><br><span class="line">      get: function () &#123; // 读取计算属性</span><br><span class="line">        return names.firstName + &quot; &quot; + names.lastName;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    // 3.修改计算属性</span><br><span class="line">    function setFullname() &#123;</span><br><span class="line">      fullname.value = &quot;coder why&quot;;</span><br><span class="line">      console.log(names);</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123; fullname, setFullname &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Setup中使用ref"><a href="#Setup中使用ref" class="headerlink" title="Setup中使用ref"></a>Setup中使用ref</h3><ul>
<li>在 setup 中如何使用 ref 获取元素或者组件？<ul>
<li>其实非常简单，我们<strong>只需要定义一个 ref 对象，绑定到元素或者组件的 ref 属性上即可；</strong></li>
</ul>
</li>
</ul>
<p><strong>父组件 App.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 1.获取元素 --&gt;</span><br><span class="line">    &lt;h2 ref=&quot;titleRef&quot;&gt;我是标题&lt;/h2&gt;</span><br><span class="line">    &lt;button ref=&quot;btnRef&quot;&gt;按钮&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 2.获取组件实例 --&gt;</span><br><span class="line">    &lt;ShowInfo ref=&quot;showInfoRef&quot;&gt;&lt;/ShowInfo&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref, onMounted &#125; from &quot;vue&quot;;</span><br><span class="line">import ShowInfo from &quot;./ShowInfo.vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    ShowInfo,</span><br><span class="line">  &#125;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    const titleRef = ref();</span><br><span class="line">    const btnRef = ref();</span><br><span class="line">    const showInfoRef = ref();</span><br><span class="line"></span><br><span class="line">    // mounted的生命周期函数</span><br><span class="line">    onMounted(() =&gt; &#123;</span><br><span class="line">      console.log(titleRef.value); // 获取标题</span><br><span class="line">      console.log(btnRef.value); // 获取按钮</span><br><span class="line">      console.log(showInfoRef.value); // 获取子组件</span><br><span class="line">      showInfoRef.value.showInfoFoo(); // 调用子组件中的方法</span><br><span class="line">    &#125;);</span><br><span class="line">    return &#123; titleRef, btnRef, showInfoRef &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>子组件 ShowInfo.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;ShowInfo&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  // methods: &#123;</span><br><span class="line">  //   showInfoFoo() &#123;</span><br><span class="line">  //     console.log(&quot;showInfo foo function&quot;)</span><br><span class="line">  //   &#125;</span><br><span class="line">  // &#125;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    function showInfoFoo() &#123;</span><br><span class="line">      console.log(&quot;showInfo foo function&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123;</span><br><span class="line">      showInfoFoo,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>图解:</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/f556845a321e45dc831b30fa958f3ab9"></p>
<h3 id="vue3中使用生命周期"><a href="#vue3中使用生命周期" class="headerlink" title="vue3中使用生命周期"></a>vue3中使用生命周期</h3><ul>
<li>我们前面说过 setup 可以用来替代 data 、 methods 、 computed  等等这些选项，也可以替代 生命周期钩子。</li>
<li>那么 setup 中如何使用生命周期函数呢？<ul>
<li>可以使用直接导入的 onX 函数注册生命周期钩子；</li>
<li>Vue3 中的生命周期函数有多少个,什么时候调用,参考 Vue 生命周期章节</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  // 01 先导入需要的生命周期函数</span><br><span class="line">  import &#123; onMounted &#125; from &#x27;vue&#x27; </span><br><span class="line"></span><br><span class="line">  export default &#123;</span><br><span class="line">    setup() &#123;</span><br><span class="line">      // 02 在执行 setup 函数的过程中, 执行生命周期函数,传递进去一个回调函数,该回调会在生命周期函数指定的时刻调用</span><br><span class="line">      onMounted(() =&gt; &#123;</span><br><span class="line">        console.log(&quot;onmounted&quot;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/7f6d9c8676ef4647aaa9029a2db9fc3a" alt="1661414575072"></p>
<h3 id="Provide与inject"><a href="#Provide与inject" class="headerlink" title="Provide与inject"></a>Provide与inject</h3><ul>
<li><p>事实上我们之前还学习过 Provide 和 Inject，Composition API 也可以替代之前的 Provide 和 Inject 的选项。</p>
</li>
<li><p>我们可以通过 provide 来提供数据：</p>
<ul>
<li>可以通过 provide 方法来定义每个 Property；</li>
</ul>
</li>
<li><p>provide 可以传入两个参数：</p>
<ul>
<li>name：提供的属性名称；</li>
<li>value：提供的属性值；</li>
</ul>
</li>
<li><p>在 后代组件 中可以通过 inject 来注入需要的属性和对应的值：</p>
<ul>
<li>可以通过 inject 来注入需要的内容；</li>
</ul>
</li>
<li><p>inject 可以传入两个参数：</p>
<ul>
<li>要 inject 的 property 的 name；</li>
<li>默认值；</li>
</ul>
</li>
<li><p>为了增加 provide 值和 inject 值之间的响应性，我们可以在 provide 提供值时使用 ref 和 reactive。</p>
</li>
</ul>
<p><strong>父组件 App.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;AppContent: &#123;&#123; name &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;button @click=&quot;name = &#x27;kobe&#x27;&quot;&gt;app btn&lt;/button&gt;</span><br><span class="line">  &lt;ShowInfo&gt;&lt;/ShowInfo&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; provide, ref &#125; from &quot;vue&quot;;</span><br><span class="line">import ShowInfo from &quot;./ShowInfo.vue&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    ShowInfo,</span><br><span class="line">  &#125;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 01 提供数据</span><br><span class="line">    const name = ref(&quot;why&quot;); // name 是 ref 返回的,是响应式的</span><br><span class="line">    provide(&quot;name&quot;, name); // 参数分别为: 变量名 值</span><br><span class="line">    provide(&quot;age&quot;, 18); // 此时 age 不是响应式的,除非像 name 一样用 ref 包裹</span><br><span class="line"></span><br><span class="line">    return &#123;</span><br><span class="line">      name,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>子组件 ShowInfo.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;ShowInfo: &#123;&#123; name &#125;&#125;-&#123;&#123; age &#125;&#125; - &#123;&#123; height &#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; inject &#125; from &quot;vue&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  // inject 的 options api注入, 那么依然需要手动来解包(模板中使用要加 .value)</span><br><span class="line">  // inject: [&quot;name&quot;, &quot;age&quot;], // 如果不是响应式的数据,模板中使用时不需要 .value</span><br><span class="line"></span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 02 接收使用数据,通过 inject 函数接收的收据,模板中使用时不用加 .value</span><br><span class="line">    const name = inject(&quot;name&quot;);</span><br><span class="line">    const age = inject(&quot;age&quot;);</span><br><span class="line">    const height = inject(&quot;height&quot;, 1.99); // 给变量添加默认值,不提供该数据就使用默认值</span><br><span class="line">    return &#123;</span><br><span class="line">      name,</span><br><span class="line">      age,</span><br><span class="line">      height,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h3><h4 id="watch的使用"><a href="#watch的使用" class="headerlink" title="watch的使用"></a>watch的使用</h4><ul>
<li>watch 的 API 完全等同于组件 watch 选项的 Property：<ul>
<li>watch 需要侦听特定的数据源，并且执行其回调函数；</li>
<li>默认情况下它是惰性的，只有当被侦听的源发生变化时才会执行回调；</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button @click=&quot;message = &#x27;你好啊,李银河!&#x27;&quot;&gt;修改message&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;info.friend.name = &#x27;james&#x27;&quot;&gt;修改info&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; reactive, ref, watch &#125; from &quot;vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 1.定义数据</span><br><span class="line">    const message = ref(&quot;Hello World&quot;);</span><br><span class="line">    const info = reactive(&#123;</span><br><span class="line">      name: &quot;why&quot;,</span><br><span class="line">      age: 18,</span><br><span class="line">      friend: &#123;</span><br><span class="line">        name: &quot;kobe&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    // 2.侦听数据的变化, 默认为深度监听</span><br><span class="line">    watch(message, (newValue, oldValue) =&gt; &#123;</span><br><span class="line">      console.log(newValue, oldValue); // 你好啊,李银河! Hello World</span><br><span class="line">    &#125;);</span><br><span class="line">    watch(</span><br><span class="line">      info,</span><br><span class="line">      (newValue, oldValue) =&gt; &#123;</span><br><span class="line">        console.log(newValue, oldValue);</span><br><span class="line">        console.log(newValue === oldValue); // 第一次为 false ,第二次为 true</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        immediate: true, // 上来就执行一次</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    // 3.监听reactive数据变化后, 获取普通对象 ,此时不是深度监听</span><br><span class="line">    watch(</span><br><span class="line">      () =&gt; (&#123; ...info &#125;),</span><br><span class="line">      (newValue, oldValue) =&gt; &#123;</span><br><span class="line">        console.log(newValue, oldValue);</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        immediate: true,</span><br><span class="line">        deep: true, // 开启深度监听</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">    return &#123; message, info &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="侦听多个数据源"><a href="#侦听多个数据源" class="headerlink" title="侦听多个数据源"></a>侦听多个数据源</h4><ul>
<li>侦听器还可以使用数组同时侦听多个源：</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/f7f70ccc053744beaabfe7125a4fc19b" alt="1661417796496"></p>
<h3 id="watchEffect"><a href="#watchEffect" class="headerlink" title="watchEffect"></a>watchEffect</h3><h4 id="watchEffect的使用"><a href="#watchEffect的使用" class="headerlink" title="watchEffect的使用"></a>watchEffect的使用</h4><ul>
<li>当侦听到某些响应式数据变化时，我们希望执行某些操作，这个时候可以使用 watchEffect。</li>
<li>我们来看一个案例：<ul>
<li>首先，watchEffect 传入的函数会被立即执行一次，并且在执行的过程中会收集依赖；</li>
<li>其次，只有收集的依赖发生变化时，watchEffect 传入的函数才会再次执行；</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;当前计数: &#123;&#123; counter &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;counter++&quot;&gt;+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;name = &#x27;kobe&#x27;&quot;&gt;修改name&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; watchEffect, ref &#125; from &quot;vue&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    const counter = ref(0);</span><br><span class="line">    const name = ref(&quot;why&quot;);</span><br><span class="line"></span><br><span class="line">    // 1.watchEffect传入的函数默认会直接被执行</span><br><span class="line">    // 2.在执行的过程中, 会自动的收集依赖(依赖哪些响应式的数据)</span><br><span class="line">    const stopWatch = watchEffect(() =&gt; &#123;</span><br><span class="line">      console.log(&quot;-------&quot;, counter.value, name.value);</span><br><span class="line">      // 判断counter.value &gt; 10</span><br><span class="line">      if (counter.value &gt;= 10) &#123;</span><br><span class="line">        stopWatch();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    return &#123;</span><br><span class="line">      counter,</span><br><span class="line">      name,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="停止监听"><a href="#停止监听" class="headerlink" title="停止监听"></a>停止监听</h4><ul>
<li>如果在发生某些情况下，我们希望停止侦听，这个时候我们可以获取 watchEffect 的返回值，该返回值是一个函数,调用该函数即可停止侦听。</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/2cf7a7078f394c6eb8cbaeaffef6a355" alt="1661418452638"></p>
<h3 id="Hooks"><a href="#Hooks" class="headerlink" title="Hooks"></a>Hooks</h3><h4 id="useCounter"><a href="#useCounter" class="headerlink" title="useCounter"></a>useCounter</h4><p><strong>.&#x2F;hooks&#x2F;useCounter :</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref, onMounted &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">useCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> counter = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">    counter.<span class="property">value</span>++</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">decrement</span>(<span class="params"></span>) &#123;</span><br><span class="line">    counter.<span class="property">value</span>--</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// onMounted(() =&gt; &#123;</span></span><br><span class="line">  <span class="comment">//   setTimeout(() =&gt; &#123;</span></span><br><span class="line">  <span class="comment">//     counter.value = 989</span></span><br><span class="line">  <span class="comment">//   &#125;, 1000);</span></span><br><span class="line">  <span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    counter,</span><br><span class="line">    increment,</span><br><span class="line">    decrement</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>App.vue :</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123; counter &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;increment&quot;&gt;+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;decrement&quot;&gt;-1&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import useCounter from &quot;./hooks/useCounter&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    const &#123; counter, increment, decrement &#125; = useCounter();</span><br><span class="line">    return &#123;</span><br><span class="line">      counter,</span><br><span class="line">      increment,</span><br><span class="line">      decrement,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>图解:</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/beaffde7713f4155bee41cbdde8b138a" alt="1661420282818"></p>
<h4 id="useTitle"><a href="#useTitle" class="headerlink" title="useTitle"></a>useTitle</h4><p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/0854a68b277e47efb0180520dc3930a1" alt="1661421255800"></p>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/6271b53a52e14c299d6db8f307c489b5" alt="1661421552135"></p>
<p><img src= "/img/loading.gif" data-lazy-src="https://s1.vika.cn/space/2023/03/12/45cb897829eb4680bc17c93179433e2d" alt="1661421842971"></p>
<h2 id="案例实战练习-空"><a href="#案例实战练习-空" class="headerlink" title="案例实战练习(空)"></a>案例实战练习(空)</h2></article><div class="post-copyright"><div class="post-copyright__author_group"><a class="post-copyright__author_img" href="/about/"><img class="post-copyright__author_img_front" src= "/img/loading.gif" data-lazy-src="https://bu.dusays.com/2023/11/08/654af68b25bb8.jpg"></a><div class="post-copyright__author_name">蜗牛浪迹天涯</div><div class="post-copyright__author_desc">宁静致远，热爱生活。</div></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div id="quit-box" onclick="RemoveRewardMask()"></div><div class="post-reward" onclick="AddRewardMask()"><div class="reward-button" title="赞赏作者"><i class="scoicon sco-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><ul class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a target="_blank" rel="noopener" href="https://bu.dusays.com/2023/11/07/6549e79364fa3.png"><img class="post-qr-code-img" src= "/img/loading.gif" data-lazy-src="https://bu.dusays.com/2023/11/07/6549e79364fa3.png" alt="微信"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://bu.dusays.com/2023/11/07/6549e79d02bd6.png" target="_blank"><img class="post-qr-code-img" src= "/img/loading.gif" data-lazy-src="https://bu.dusays.com/2023/11/07/6549e79d02bd6.png" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></ul></div></div><script>function RemoveRewardMask() {
    let rewardMainElements = document.querySelectorAll(".reward-main");
    let quitBoxElement = document.querySelector("#quit-box");

    console.log("RemoveRewardMask")

    rewardMainElements.forEach(element => {
        element.style.display = "none";
    });

    if (quitBoxElement) {
        quitBoxElement.style.display = "none";
    }
}

function AddRewardMask() {
    let rewardMainElements = document.querySelectorAll(".reward-main");
    let quitBoxElement = document.querySelector("#quit-box");

    console.log("AddRewardMask")

    rewardMainElements.forEach(element => {
        element.style.display = "flex";
    });

    if (quitBoxElement) {
        quitBoxElement.style.display = "flex";
    }
}</script></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本文是原创文章，采用<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a>协议，完整转载请注明来自<a href="/">蜗牛浪迹天涯</a></span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__tag-list"></div></div></div><nav class="needEndHide pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/01/23/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/302_Vue3/30202_Vue3_Router/"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Vue3_Router</div></div></a></div><div class="next-post pull-right"><a href="/2024/01/23/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/301_Vue2/30103_Vue2_VueX/"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Vue2_VueX</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><div class="author-info__top-group"><div class="author-info__sayhi" id="author-info__sayhi" onclick="sco.changeSayHelloText()">一日之计在于晨</div></div></div><div class="avatar-img-group"><img class="avatar-img" alt="头像" src= "/img/loading.gif" data-lazy-src="https://bu.dusays.com/2023/11/08/654af68b25bb8.jpg"><div class="avatar-sticker"><img class="avatar-sticker-img" src= "/img/loading.gif" data-lazy-src="https://bu.dusays.com/2023/12/30/659011053e246.png" alt="心情贴纸"></div></div><div class="author-info__description_group"><div class="author-info__description">分享自己对编程的<b>热爱</b>，对美好生活的<b>向往</b>，对知识海洋<b>探索历程</b>。</div><div class="author-info__description2">相信你可以在这里找到对你有用的知识和教程。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/about"><div class="author-info__name">snail289</div><div class="author-info__desc">宁静致远，热爱生活。</div></a><div class="card-info-social-icons is-center"><a class="social-icon" target="_blank" rel="noopener" href="https://github.com/DuoSco/Hexo-Theme-slitude" title="Github"><i class="scoicon sco-github-line"></i></a><a class="social-icon" target="_blank" rel="noopener" href="https://space.bilibili.com/1329819902" title="Bilibili"><i class="scoicon sco-bilibili-line"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="scoicon sco-menu-line"></i><span>文章目录</span></div><div class="toc-content" id="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%82%82%E9%80%85VueJS"><span class="toc-text">邂逅VueJS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86Vue"><span class="toc-text">认识Vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue%E7%9A%84%E5%9C%B0%E4%BD%8D"><span class="toc-text">vue的地位</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%86%E6%9E%B6%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-text">框架的选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E7%89%88%E6%9C%AC%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-text">Vue版本的选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#devtool%E6%8F%92%E4%BB%B6%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-text">devtool插件的安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#VSCode%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5"><span class="toc-text">VSCode代码片段</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">Vue的基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E7%9A%84%E5%BC%95%E5%85%A5%E6%96%B9%E5%BC%8F"><span class="toc-text">Vue的引入方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#CDN%E5%BC%95%E5%85%A5"><span class="toc-text">CDN引入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E4%B8%8B%E8%BD%BD%E5%BC%95%E5%85%A5"><span class="toc-text">本地下载引入</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue-%E5%88%9D%E4%BD%93%E9%AA%8C"><span class="toc-text">Vue 初体验</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%B1%95%E7%A4%BA%E6%95%B0%E6%8D%AE"><span class="toc-text">动态展示数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%95%E7%A4%BA%E5%88%97%E8%A1%A8%E6%95%B0%E6%8D%AE"><span class="toc-text">展示列表数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0%E5%99%A8%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0"><span class="toc-text">计数器功能实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F"><span class="toc-text">编程范式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MVVM%E6%A8%A1%E5%9E%8B"><span class="toc-text">MVVM模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#data%E5%B1%9E%E6%80%A7"><span class="toc-text">data属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#methods%E5%B1%9E%E6%80%A7"><span class="toc-text">methods属性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95"><span class="toc-text">模板语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95-1"><span class="toc-text">模板语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%80%BC%E8%AF%AD%E6%B3%95"><span class="toc-text">插值语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E8%AF%AD%E6%B3%95"><span class="toc-text">指令语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#v-once"><span class="toc-text">v-once</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-text"><span class="toc-text">v-text</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-html"><span class="toc-text">v-html</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-pre"><span class="toc-text">v-pre</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-cloak"><span class="toc-text">v-cloak</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-memo"><span class="toc-text">v-memo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-bind"><span class="toc-text">v-bind</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#v-bind%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">v-bind的作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E5%9F%BA%E6%9C%AC%E5%B1%9E%E6%80%A7"><span class="toc-text">绑定基本属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A-class-%E4%BB%8B%E7%BB%8D"><span class="toc-text">绑定 class 介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A-class-%E5%AF%B9%E8%B1%A1%E5%86%99%E6%B3%95"><span class="toc-text">绑定 class 对象写法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A-class-%E6%95%B0%E7%BB%84%E5%86%99%E6%B3%95"><span class="toc-text">绑定 class 数组写法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A-style-%E4%BB%8B%E7%BB%8D"><span class="toc-text">绑定 style 介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A-style-%E5%AF%B9%E8%B1%A1%E5%86%99%E6%B3%95"><span class="toc-text">绑定 style 对象写法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A-style-%E6%95%B0%E7%BB%84%E5%86%99%E6%B3%95"><span class="toc-text">绑定 style 数组写法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E5%B1%9E%E6%80%A7%E5%90%8D"><span class="toc-text">绑定属性名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E5%B1%9E%E6%80%A7"><span class="toc-text">绑定对象作为属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-on"><span class="toc-text">v-on</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#v-on-%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-text">v-on 的介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-on%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">v-on的基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-on-%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0"><span class="toc-text">v-on 传递参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-on-%E7%9A%84%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-text">v-on 的事件修饰符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-if"><span class="toc-text">v-if</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93%E4%BB%8B%E7%BB%8D"><span class="toc-text">条件渲染介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-if-v-else"><span class="toc-text">v-if&#x2F;v-else</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#template%E5%85%83%E7%B4%A0"><span class="toc-text">template元素</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-show"><span class="toc-text">v-show</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#v-show%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">v-show的基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-if%E4%B8%8Ev-show%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">v-if与v-show的区别</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-for"><span class="toc-text">v-for</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#v-for%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-text">v-for的介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-for%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">v-for基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-for-%E9%81%8D%E5%8E%86%E5%85%B6%E4%BB%96%E7%B1%BB%E5%9E%8B"><span class="toc-text">v-for 遍历其他类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-for-%E4%B8%8E-template"><span class="toc-text">v-for 与 template</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86VNode%E8%99%9A%E6%8B%9F%E8%8A%82%E7%82%B9"><span class="toc-text">认识VNode虚拟节点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E8%99%9A%E6%8B%9FDOM"><span class="toc-text">认识虚拟DOM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%E6%A1%88%E4%BE%8B"><span class="toc-text">列表插入数据案例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E6%96%B9%E6%B3%95"><span class="toc-text">数组的响应式方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E4%B8%89%E4%B8%AA%E9%AB%98%E9%98%B6%E6%96%B9%E6%B3%95"><span class="toc-text">数组的三个高阶方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#for%E2%80%A6of-%E5%AE%9E%E7%8E%B0%E5%85%83%E7%B4%A0%E5%A4%84%E7%90%86"><span class="toc-text">for…of 实现元素处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#filter-%E6%96%B9%E6%B3%95"><span class="toc-text">filter 方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#map-%E6%96%B9%E6%B3%95"><span class="toc-text">map 方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reduce-%E6%96%B9%E6%B3%95"><span class="toc-text">reduce 方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E4%BB%A5%E4%B8%8A%E6%96%B9%E6%B3%95%E7%9A%84%E7%BB%BC%E5%90%88%E5%86%99%E6%B3%95"><span class="toc-text">对以上方法的综合写法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-text">计算属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A4%84%E7%90%86"><span class="toc-text">复杂数据的处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-text">认识计算属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E4%B8%AA%E6%A1%88%E4%BE%8B%E5%BC%95%E5%87%BA%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-text">三个案例引出计算属性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B-%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95%E5%AE%9E%E7%8E%B0"><span class="toc-text">案例_模板语法实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B-%E7%94%A8%E6%96%B9%E6%B3%95%E5%AE%9E%E7%8E%B0"><span class="toc-text">案例_用方法实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%AE%9E%E7%8E%B0"><span class="toc-text">案例_计算属性实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-text">计算属性和方法的对比</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getter%E5%92%8Csetter"><span class="toc-text">getter和setter</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E5%B1%9E%E6%80%A7"><span class="toc-text">监听属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E4%BE%A6%E5%90%AC%E5%99%A8"><span class="toc-text">认识侦听器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%A6%E5%90%AC%E5%99%A8%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="toc-text">侦听器配置项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#watch-API"><span class="toc-text">$watch API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B-%E4%B9%A6%E7%B1%8D%E8%B4%AD%E7%89%A9%E8%BD%A6-%E7%A9%BA"><span class="toc-text">案例_书籍购物车(空)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="toc-text">双向数据绑定</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#v-model%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">v-model的基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-model%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-text">v-model的原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A-textarea"><span class="toc-text">绑定 textarea</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A-checkbox"><span class="toc-text">绑定 checkbox</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A-radio"><span class="toc-text">绑定 radio</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A-select"><span class="toc-text">绑定 select</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-model%E7%9A%84%E5%80%BC%E7%BB%91%E5%AE%9A"><span class="toc-text">v-model的值绑定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-model-%E7%9A%84%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-text">v-model 的修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#lazy"><span class="toc-text">.lazy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#number"><span class="toc-text">.number</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#trim"><span class="toc-text">.trim</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E4%B8%AA%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-text">多个修饰符</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91"><span class="toc-text">组件化开发</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3"><span class="toc-text">复杂问题的解决</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91"><span class="toc-text">认识组件化开发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue-%E7%9A%84%E7%BB%84%E4%BB%B6%E5%8C%96"><span class="toc-text">Vue 的组件化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E7%BB%84%E4%BB%B6%E7%9A%84%E6%B3%A8%E5%86%8C"><span class="toc-text">Vue组件的注册</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E5%85%A8%E5%B1%80%E7%BB%84%E4%BB%B6"><span class="toc-text">注册全局组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E5%B1%80%E9%83%A8%E7%BB%84%E4%BB%B6"><span class="toc-text">注册局部组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%90%8D%E7%9A%84%E5%91%BD%E5%90%8D"><span class="toc-text">组件名的命名</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6"><span class="toc-text">单文件组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue-%E7%9A%84%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F"><span class="toc-text">Vue 的开发模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">单文件组件的特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6%E7%9A%84%E6%94%AF%E6%8C%81"><span class="toc-text">单文件组件的支持</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#VScode%E5%AF%B9SFC%E7%9A%84%E6%94%AF%E6%8C%81"><span class="toc-text">VScode对SFC的支持</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue%E8%84%9A%E6%89%8B%E6%9E%B6"><span class="toc-text">Vue脚手架</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%89%8B%E6%9E%B6%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-text">脚手架的介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%89%8B%E6%9E%B6%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-text">脚手架的安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E8%84%9A%E6%89%8B%E6%9E%B6%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-text">用脚手架创建项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%9A%84%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-text">项目的目录结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8Evue%E7%9A%84%E7%89%88%E6%9C%AC"><span class="toc-text">关于vue的版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">单文件组件的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CSS%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">CSS的作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8Vite%E5%88%9B%E5%BB%BAVue%E9%A1%B9%E7%9B%AE"><span class="toc-text">用Vite创建Vue项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%89%8B%E6%9E%B6%E7%9A%84%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86"><span class="toc-text">脚手架的运行原理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1"><span class="toc-text">组件间通信</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E5%B5%8C%E5%A5%97%E4%B8%8E%E6%8B%86%E5%88%86"><span class="toc-text">组件的嵌套与拆分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1%E4%BB%8B%E7%BB%8D"><span class="toc-text">组件间通信介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F"><span class="toc-text">组件间通信方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B6%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%90%91%E5%AD%90%E7%BB%84%E4%BB%B6"><span class="toc-text">父组件传向子组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B%E6%8E%A5%E6%94%B6"><span class="toc-text">数组类型接收</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B%E6%8E%A5%E6%94%B6"><span class="toc-text">对象类型接收</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E-attrs"><span class="toc-text">关于 $attrs</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%90%91%E7%88%B6%E7%BB%84%E4%BB%B6"><span class="toc-text">子组件传向父组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E9%80%92%E7%9A%84%E8%BF%87%E7%A8%8B%E4%BB%8B%E7%BB%8D"><span class="toc-text">传递的过程介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%92%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B"><span class="toc-text">数据传递详细过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%90%BA%E5%B8%A6%E5%8F%82%E6%95%B0%E5%92%8C%E9%AA%8C%E8%AF%81"><span class="toc-text">携带参数和验证</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1%E6%A1%88%E4%BE%8B"><span class="toc-text">组件间通信案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E6%A7%BDSlot"><span class="toc-text">插槽Slot</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E6%8F%92%E6%A7%BDSlot"><span class="toc-text">认识插槽Slot</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%8F%92%E6%A7%BDslot"><span class="toc-text">使用插槽slot</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8slot%E4%B8%8E%E9%BB%98%E8%AE%A4%E5%86%85%E5%AE%B9"><span class="toc-text">使用slot与默认内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E4%B8%AA%E6%8F%92%E6%A7%BD%E7%9A%84%E9%BB%98%E8%AE%A4%E6%95%88%E6%9E%9C"><span class="toc-text">多个插槽的默认效果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD"><span class="toc-text">具名插槽</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E6%8F%92%E6%A7%BD%E5%90%8D"><span class="toc-text">动态插槽名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%B2%E6%9F%93%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">渲染作用域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD"><span class="toc-text">作用域插槽</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E6%8F%92%E6%A7%BD%E7%9A%84%E7%BC%A9%E5%86%99"><span class="toc-text">默认插槽的缩写</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B7%E5%90%8D%E4%B8%8E%E9%BB%98%E8%AE%A4%E6%8F%92%E6%A7%BD%E6%B7%B7%E5%90%88"><span class="toc-text">具名与默认插槽混合</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF"><span class="toc-text">全局事件总线</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">全局事件总线的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF%E7%9A%84%E5%8F%96%E6%B6%88"><span class="toc-text">全局事件总线的取消</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Provide-%E5%92%8C-Inject"><span class="toc-text">Provide 和 Inject</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Provide-%E5%92%8C-Inject-1"><span class="toc-text">Provide 和 Inject</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#provide%E7%9A%84%E5%87%BD%E6%95%B0%E5%86%99%E6%B3%95"><span class="toc-text">provide的函数写法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE"><span class="toc-text">处理响应式数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">组件生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">认识生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B"><span class="toc-text">生命周期流程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#vue2%E7%9A%84%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">vue2的组件生命周期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue3%E7%9A%84%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">vue3的组件生命周期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="toc-text">常用的生命周期函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E5%85%B6%E4%BB%96%E7%9B%B8%E5%85%B3"><span class="toc-text">组件的其他相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%BB%84%E4%BB%B6%E4%B8%AD%E7%9A%84DOM%E7%BB%93%E6%9E%84"><span class="toc-text">获取组件中的DOM结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#refs%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">$refs的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#parent"><span class="toc-text">$parent</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#root"><span class="toc-text">$root</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E7%BB%84%E4%BB%B6%E6%A1%88%E4%BE%8B"><span class="toc-text">切换组件案例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-v-if-%E5%AE%9E%E7%8E%B0"><span class="toc-text">通过 v-if 实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0"><span class="toc-text">动态组件实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#keep-alive"><span class="toc-text">keep-alive</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86-keep-alive"><span class="toc-text">认识 keep-alive</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#keep-alive%E5%B1%9E%E6%80%A7"><span class="toc-text">keep-alive属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E7%BB%84%E4%BB%B6%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">缓存组件的生命周期</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack%E7%9A%84%E4%BB%A3%E7%A0%81%E5%88%86%E5%8C%85"><span class="toc-text">webpack的代码分包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E4%B8%AD%E5%AE%9E%E7%8E%B0%E5%BC%82%E6%AD%A5%E7%BB%84%E4%BB%B6"><span class="toc-text">Vue中实现异步组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84v-model"><span class="toc-text">组件的v-model</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6v-model%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-text">组件v-model的介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6v-model%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-text">组件v-model的实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E5%A4%9A%E4%B8%AA%E5%B1%9E%E6%80%A7"><span class="toc-text">绑定多个属性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mixin-%E6%B7%B7%E5%90%88"><span class="toc-text">Mixin 混合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86Mixin"><span class="toc-text">认识Mixin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mixin%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">Mixin的基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mixin%E7%9A%84%E5%90%88%E5%B9%B6%E8%A7%84%E5%88%99"><span class="toc-text">Mixin的合并规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mixin%E7%9A%84%E5%85%A8%E5%B1%80%E6%B7%B7%E5%85%A5"><span class="toc-text">Mixin的全局混入</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue3-CompositionAPI"><span class="toc-text">Vue3_CompositionAPI</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Option-API%E7%9A%84%E5%BC%8A%E7%AB%AF"><span class="toc-text">Option API的弊端</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86Composition-API"><span class="toc-text">认识Composition API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Setup%E5%87%BD%E6%95%B0"><span class="toc-text">Setup函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Setup%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-text">Setup函数的参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Setup%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">Setup函数的返回值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Setup%E5%87%BD%E6%95%B0%E6%B2%A1%E6%9C%89this"><span class="toc-text">Setup函数没有this</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Setup%E5%87%BD%E6%95%B0%E7%9A%84%E7%AE%80%E5%86%99"><span class="toc-text">Setup函数的简写</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#defineProps"><span class="toc-text">defineProps()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#defineEmits"><span class="toc-text">defineEmits()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#defineExpose"><span class="toc-text">defineExpose()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Reactive"><span class="toc-text">Reactive</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86reactive"><span class="toc-text">认识reactive</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reactive-%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-text">reactive 的应用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ref"><span class="toc-text">Ref</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86-Ref"><span class="toc-text">认识 Ref</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-%E8%87%AA%E5%8A%A8%E8%A7%A3%E5%8C%85"><span class="toc-text">Ref 自动解包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">Ref应用场景</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#readonly"><span class="toc-text">readonly</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86readonly"><span class="toc-text">认识readonly</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#readonly%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">readonly的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="toc-text">单向数据流</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#readonly%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-text">readonly的应用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reactive%E5%85%B6%E4%BB%96API"><span class="toc-text">reactive其他API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#toRefs%E4%B8%8EtoRef"><span class="toc-text">toRefs与toRef</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ref%E7%9A%84%E5%85%B6%E4%BB%96API"><span class="toc-text">ref的其他API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#computed"><span class="toc-text">computed</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Setup%E4%B8%AD%E4%BD%BF%E7%94%A8ref"><span class="toc-text">Setup中使用ref</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue3%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">vue3中使用生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Provide%E4%B8%8Einject"><span class="toc-text">Provide与inject</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#watch"><span class="toc-text">watch</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#watch%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">watch的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%A6%E5%90%AC%E5%A4%9A%E4%B8%AA%E6%95%B0%E6%8D%AE%E6%BA%90"><span class="toc-text">侦听多个数据源</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#watchEffect"><span class="toc-text">watchEffect</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#watchEffect%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">watchEffect的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%81%9C%E6%AD%A2%E7%9B%91%E5%90%AC"><span class="toc-text">停止监听</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hooks"><span class="toc-text">Hooks</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#useCounter"><span class="toc-text">useCounter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#useTitle"><span class="toc-text">useTitle</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E5%AE%9E%E6%88%98%E7%BB%83%E4%B9%A0-%E7%A9%BA"><span class="toc-text">案例实战练习(空)</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="scoicon sco-map-line"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/01/24/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/402_Webpack/40201_Webpack/" title="Webpack"><img alt="Webpack" src= "/img/loading.gif" data-lazy-src="https://tse3-mm.cn.bing.net/th/id/OIP-C.Qb6YcFvpvLuZXJ44H6Nb3gAAAA?w=280&amp;h=187&amp;c=7&amp;r=0&amp;o=5&amp;pid=1.7"></a><div class="content"><a class="title" href="/2024/01/24/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/402_Webpack/40201_Webpack/" title="Webpack">Webpack</a><a class="article-recent_post_categories" href="/2024/01/24/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/402_Webpack/40201_Webpack/">Web前端开发</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/24/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/401_TypeScript/40101_TypeScript/" title="TypeScript"><img alt="TypeScript" src= "/img/loading.gif" data-lazy-src="https://tse4-mm.cn.bing.net/th/id/OIP-C.EI3avnVaz4qhmuwwpADISQHaEK?w=322&amp;h=181&amp;c=7&amp;r=0&amp;o=5&amp;pid=1.7"></a><div class="content"><a class="title" href="/2024/01/24/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/401_TypeScript/40101_TypeScript/" title="TypeScript">TypeScript</a><a class="article-recent_post_categories" href="/2024/01/24/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/401_TypeScript/40101_TypeScript/">Web前端开发</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/23/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/303_React/30305_React_Hooks%E8%A7%A3%E6%9E%90/" title="React Hooks"><img alt="React Hooks" src= "/img/loading.gif" data-lazy-src="https://img2.baidu.com/it/u=2126133000,279682015&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=800&amp;h=500"></a><div class="content"><a class="title" href="/2024/01/23/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/303_React/30305_React_Hooks%E8%A7%A3%E6%9E%90/" title="React Hooks">React Hooks</a><a class="article-recent_post_categories" href="/2024/01/23/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/303_React/30305_React_Hooks%E8%A7%A3%E6%9E%90/">Web前端开发</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/23/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/303_React/30304_React_Router/" title="React_Router"><img alt="React_Router" src= "/img/loading.gif" data-lazy-src="https://img0.baidu.com/it/u=1968277298,413771727&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=499&amp;h=281"></a><div class="content"><a class="title" href="/2024/01/23/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/303_React/30304_React_Router/" title="React_Router">React_Router</a><a class="article-recent_post_categories" href="/2024/01/23/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/303_React/30304_React_Router/">Web前端开发</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/23/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/303_React/30303_Redux/" title="Redux"><img alt="Redux" src= "/img/loading.gif" data-lazy-src="https://img2.baidu.com/it/u=2805819978,1711130178&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=890&amp;h=500"></a><div class="content"><a class="title" href="/2024/01/23/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/303_React/30303_Redux/" title="Redux">Redux</a><a class="article-recent_post_categories" href="/2024/01/23/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/303_React/30303_Redux/">Web前端开发</a></div></div></div></div></div></div></main><footer id="footer"><div id="sco-footer-bar"><div class="footer-logo"><span class="scoicon">首页</span></div><div class="footer-bar-description">来自蜗牛浪迹天涯 - 宁静致远，热爱生活。的文章</div><a class="footer-bar-link" href="/">了解更多</a></div><div id="footer_deal"><a class="deal_link" target="_blank" rel="noopener" href="https://github.com" title="Github"><i class="scoicon sco-bilibili-line"></i></a><a class="deal_link" href="mailto:1448623289@qq.com" title="Mail"><i class="scoicon sco-mail-line"></i></a><div class="footer_mini_logo" id="footer_mini_logo" title="返回顶部" onclick="sco.toTop()"><img src= "/img/loading.gif" data-lazy-src="https://bu.dusays.com/2023/11/08/654af68b25bb8.jpg" alt="返回顶部"></div><a class="deal_link" target="_blank" rel="noopener" href="https://space.bilibili.com" title="Bilibili"><i class="scoicon sco-bilibili-line"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://v.douyin.com" title="抖音"><i class="scoicon sco-douyin-fill"></i></a></div><div id="sco-footer"><div class="footer-group"><h3 class="footer-title">导航</h3><div class="footer-links"><a class="footer-item" href="/archives/" title="归档">归档</a><a class="footer-item" href="/categories/" title="分类">分类</a><a class="footer-item" href="/tags/" title="标签">标签</a></div></div><div class="footer-group"><h3 class="footer-title">服务</h3><div class="footer-links"><a class="footer-item" target="_blank" rel="noopener" href="https://aliyun.com/" title="阿里云">阿里云</a><a class="footer-item" target="_blank" rel="noopener" href="https://v6.51.la/" title="51la统计">51la统计</a><a class="footer-item" target="_blank" rel="noopener" href="https://tongji.baidu.com/" title="百度统计">百度统计</a></div></div><div class="footer-group"><h3 class="footer-title">支持</h3><div class="footer-links"><a class="footer-item" href="/about/" title="打赏记录">打赏记录</a><a class="footer-item" target="_blank" rel="noopener" href="https://docs.wzsco.top/" title="文档">文档</a><a class="footer-item" target="_blank" rel="noopener" href="https://blog.wzsco.top/" title="案例">案例</a></div></div><div class="footer-group"><h3 class="footer-title">协议</h3><div class="footer-links"><a class="footer-item" href="/cookies/" title="Cookies">Cookies</a><a class="footer-item" href="/privacy/" title="用户协议">用户协议</a><a class="footer-item" href="/copyright/" title="版权协议">版权协议</a></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div class="copyright">© 2024 By&nbsp;<a class="footer-bar-link" href="/">snail289</a></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/DuoSco/hexo-theme-solitude">主题</a><a class="footer-bar-link cc" href="/copyright/"><i class="scoicon sco-copyright-line"></i><i class="scoicon sco-creative-commons-by-line"></i><i class="scoicon sco-creative-commons-nc-line"></i><i class="scoicon sco-creative-commons-nd-line"></i></a></div></div></div><div class="needEndHide" id="cookies-window"><div class="cookies-window-title">协议提醒助手</div><div class="cookies-window-content"><span class="cookies-tip">查看本站为你的个人隐私做出的努力</span><a class="cookies-link" href="/privacy/" title="本站如何保护你的隐私"><i class="scoicon sco-right-btn-fill"></i></a></div></div></footer></div><!-- inject body--><script src="https://cdn.bootcdn.net/ajax/libs/pjax/0.2.8/pjax.min.js"></script><script src="/lib/lazyload.min.js"></script><script src="/lib/snackbar.min.js"></script><script src="/lib/view-image.min.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/Swiper/9.2.4/swiper-bundle.min.js"></script><div id="js-pjax"><script id="config-diff">var PAGE_CONFIG = {
    is_post: true,
    is_page: false,
    is_home: false,
    page: 'post',
    toc: true,
    comment: false,
}
</script></div><!-- post-ai)--><script src="https://cdn.bootcdn.net/ajax/libs/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/meting/2.0.1/Meting.min.js"></script><script>const meting_api = 'https://api.injahow.cn/meting/?server=:server&type=:type&id=:id&auth=:auth&r=:r';
</script><script>const coverColorConfig = {
    mode: 'local',
    api: 'https://img2color.meuicat.com/api?img=',
    time: 43200000,
}</script><script src="/lib/cover-color.min.js"></script><!-- waterfall--><script src="/lib/waterfall.min.js"></script><!-- pjax--><script>let pjaxSelectors = [
    'title',
    '#body-wrap',
    '#site-config',
    'meta[name="description"]',
    '#js-pjax',
    'meta[property^="og:"]',
]

const pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
})

document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
})

document.addEventListener('pjax:complete', () => {
    window.refreshFn()
})

document.addEventListener('pjax:error', (e) => {
    if (e.request.status === 404) {
        pjax.loadUrl('/404.html')
    }
})</script><!-- music--><script src="/js/music.js"></script><!-- inject custom body--><script>console.log("body")</script><!-- search--><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="scoicon sco-close-fill"></i></button></nav><div class="search-wrap"><div class="search-box"><input class="search-box-input" id="search-input" type="text" autocomplete="off" spellcheck="false" autocorrect="off" autocapitalize="off" placeholder="输入关键词快速查找"></div><div id="search-results"></div><div id="search-pagination"></div><div id="search-tips"></div></div></div><div id="search-mask"></div></div><script src="/js/extend/search/local-search.js"></script><!-- music--><div class="needEndHide" id="nav-music" onclick="sco.musicToggle()"><div id="nav-music-hoverTips">音乐已暂停</div><meting-js id="8927329843" server="netease" type="playlist" mutex="true" preload="none" data-lrctype="0" order="random" theme="var(--sco-main)"></meting-js></div></body></html><script>const posts=["2024/01/24/Web前端开发/402_Webpack/40201_Webpack/","2024/01/24/Web前端开发/401_TypeScript/40101_TypeScript/","2024/01/23/Web前端开发/303_React/30305_React_Hooks解析/","2024/01/23/Web前端开发/303_React/30304_React_Router/","2024/01/23/Web前端开发/303_React/30303_Redux/","2024/01/23/Web前端开发/303_React/30302_React_过渡动画与CSS样式/","2024/01/23/Web前端开发/303_React/30301_React核心基础/","2024/01/23/Web前端开发/302_Vue3/30207_Vue3_Vue3原理/","2024/01/23/Web前端开发/302_Vue3/30206_Vue3_过渡与动画/","2024/01/23/Web前端开发/302_Vue3/30205_Vue3_自定义指令与插件/","2024/01/23/Web前端开发/302_Vue3/30204_Vue3_Pinia/","2024/01/23/Web前端开发/302_Vue3/30203_Vue3_VueX/","2024/01/23/Web前端开发/302_Vue3/30202_Vue3_Router/","2024/01/23/Web前端开发/302_Vue3/30201_Vue3_基础核心/","2024/01/23/Web前端开发/301_Vue2/30103_Vue2_VueX/","2024/01/23/Web前端开发/301_Vue2/30102_Vue2_VueRouter/","2024/01/23/Web前端开发/301_Vue2/30101_Vue2_Vue2Base/","2024/01/23/Web前端开发/206_模块化/20601_ModuleJS/","2024/01/22/Web前端开发/205_Git/20501_Git/","2024/01/21/Web前端开发/204_Fetch/20401_Fetch/","2024/01/20/Web前端开发/203_Axios/20301_Axios/","2024/01/19/Web前端开发/106_JavaScript高级/10509_JS代码的执行原理/","2024/01/19/Web前端开发/202_Promise/20201_Promise/","2024/01/18/Web前端开发/106_JavaScript高级/10508_浏览器执行过程原理/","2024/01/18/Web前端开发/201_Ajax/20101_Ajax/","2024/01/17/Web前端开发/106_JavaScript高级/10507_JS_ES6-ES13/","2024/01/16/Web前端开发/105_JavaScript/10506_JS_BOM/","2024/01/15/Web前端开发/105_JavaScript/10505_JS_DOM/","2024/01/14/Web前端开发/105_JavaScript/10504_JS_Function/","2024/01/13/Web前端开发/105_JavaScript/10503_JS_Object/","2024/01/12/Web前端开发/105_JavaScript/10502_JS_Array/","2024/01/11/Web前端开发/105_JavaScript/10501_JavaScript_Base/","2024/01/10/软件测试/软件测试test/","2024/01/10/Web前端开发/104_Less/10401_Less/","2024/01/09/Web前端开发/103_移动端开发/10304_Flex/","2024/01/08/Web前端开发/103_移动端开发/10303_Rem/","2024/01/07/Web前端开发/103_移动端开发/10302_Percent/","2024/01/06/Web前端开发/103_移动端开发/10301_WebMobileBase/","2024/01/05/Web前端开发/102_HTML5_CSS3/10202_CSS3/","2024/01/04/Web前端开发/102_HTML5_CSS3/10201_HTML5/","2024/01/03/Web前端开发/101_HTML_CSS/10103_CSS/","2024/01/02/Web前端开发/101_HTML_CSS/10102_HTML/","2024/01/01/Web前端开发/101_HTML_CSS/10101_WebBase/"];function toRandomPost(){ pjax.loadUrl('/'+posts[Math.floor(Math.random()*posts.length)]); };</script>